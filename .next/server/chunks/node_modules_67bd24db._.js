module.exports=[7729,e=>{"use strict";var r=e.i(823897),t=e.i(449487);e.s(["externalDataInterceptor",0,{getFileRecord:()=>t.fileIntercept,interceptFile(e,r){t.fileIntercept[e]=Promise.resolve(r)},getTokenRecord:()=>r.tokenIntercept,interceptToken(e,t){r.tokenIntercept[e]=t}}])},333073,e=>{"use strict";e.s([],387894),e.i(387894);var r=e.i(881355),t=e.i(876535),i=e.i(60400),o=e.i(7729),n=e.i(233405),s=e.i(224361),c=e.i(609212);let a=async(e,r,t)=>{let a=r[e];if(r[e]){let d=a.credential_process;if(void 0!==d){let a=(0,s.promisify)(o.externalDataInterceptor?.getTokenRecord?.().exec??n.exec);try{let t,{stdout:i}=await a(d);try{t=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}var l=t;if(1!==l.Version)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(void 0===l.AccessKeyId||void 0===l.SecretAccessKey)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(l.Expiration){let r=new Date;if(new Date(l.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let o=l.AccountId;!o&&r?.[e]?.aws_account_id&&(o=r[e].aws_account_id);let n={accessKeyId:l.AccessKeyId,secretAccessKey:l.SecretAccessKey,...l.SessionToken&&{sessionToken:l.SessionToken},...l.Expiration&&{expiration:new Date(l.Expiration)},...l.CredentialScope&&{credentialScope:l.CredentialScope},...o&&{accountId:o}};return(0,c.setCredentialFeature)(n,"CREDENTIALS_PROCESS","w"),n}catch(e){throw new i.CredentialsProviderError(e.message,{logger:t})}}throw new i.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:t})}throw new i.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:t})},l=(e={})=>async({callerClientConfig:i}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let o=await (0,t.parseKnownFiles)(e);return a((0,r.getProfileName)({profile:e.profile??i?.profile}),o,e.logger)};e.s(["fromProcess",0,l],873554),e.i(873554),e.s(["fromProcess",0,l],333073)}];

//# sourceMappingURL=node_modules_67bd24db._.js.map