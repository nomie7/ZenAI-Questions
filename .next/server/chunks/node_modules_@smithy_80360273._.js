module.exports=[431875,e=>{"use strict";class t{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){return!!e&&"number"==typeof e.statusCode&&"object"==typeof e.headers}}e.s(["HttpResponse",()=>t])},183784,e=>{"use strict";let t={},r={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();1===n.length&&(n=`0${n}`),t[e]=n,r[n]=e}function n(e){if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){let o=e.slice(n,n+2).toLowerCase();if(o in r)t[n/2]=r[o];else throw Error(`Cannot decode unrecognized sequence ${o} as hexadecimal`)}return t}function o(e){let r="";for(let n=0;n<e.byteLength;n++)r+=t[e[n]];return r}e.s(["fromHex",()=>n,"toHex",()=>o])},184540,912623,103130,130836,588895,e=>{"use strict";let t=e=>encodeURIComponent(e).replace(/[!'()*]/g,r),r=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function n(e){let r=[];for(let n of Object.keys(e).sort()){let o=e[n];if(n=t(n),Array.isArray(o))for(let e=0,i=o.length;e<i;e++)r.push(`${n}=${t(o[e])}`);else{let e=n;(o||"string"==typeof o)&&(e+=`=${t(o)}`),r.push(e)}}return r.join("&")}e.s(["escapeUri",0,t],912623),e.s(["buildQueryString",()=>n],184540);let o=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t};e.s(["getTransformedHeaders",()=>o],103130);var i=e.i(688947);let s={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)};async function a(e,t,r=6e3,n=!1){var o,u;let l=t.headers??{},c=l.Expect||l.expect,d=-1,f=!0;n||"100-continue"!==c||(f=await Promise.race([new Promise(e=>{d=Number(s.setTimeout(()=>e(!0),Math.max(6e3,r)))}),new Promise(t=>{e.on("continue",()=>{s.clearTimeout(d),t(!0)}),e.on("response",()=>{s.clearTimeout(d),t(!1)}),e.on("error",()=>{s.clearTimeout(d),t(!1)})})])),f&&(o=e,(u=t.body)instanceof i.Readable?u.pipe(o):u?Buffer.isBuffer(u)||"string"==typeof u?o.end(u):"object"==typeof u&&u.buffer&&"number"==typeof u.byteOffset&&"number"==typeof u.byteLength?o.end(Buffer.from(u.buffer,u.byteOffset,u.byteLength)):o.end(Buffer.from(u)):o.end())}e.s(["timing",0,s],130836),e.s(["writeRequestBody",()=>a],588895)},512764,349151,771225,e=>{"use strict";var t=e.i(688947);class r extends t.Writable{bufferedBytes=[];_write(e,t,r){this.bufferedBytes.push(e),r()}}async function n(e){let t=[],r=e.getReader(),n=!1,o=0;for(;!n;){let{done:e,value:i}=await r.read();i&&(t.push(i),o+=i.length),n=e}let i=new Uint8Array(o),s=0;for(let e of t)i.set(e,s),s+=e.length;return i}e.s(["streamCollector",0,e=>{let t;return(t=e,"function"==typeof ReadableStream&&t instanceof ReadableStream)?n(e):new Promise((t,n)=>{let o=new r;e.pipe(o),e.on("error",e=>{o.end(),n(e)}),o.on("error",n),o.on("finish",function(){t(new Uint8Array(Buffer.concat(this.bufferedBytes)))})})}],512764);var o=e.i(547797);let i=/^[A-Za-z0-9+/]*={0,2}$/;e.s(["fromBase64",0,e=>{if(3*e.length%4!=0)throw TypeError("Incorrect padding on base64 string.");if(!i.exec(e))throw TypeError("Invalid base64 string.");let t=(0,o.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}],349151);var s=e.i(655103);e.s(["toBase64",0,e=>{let t;if("object"!=typeof(t="string"==typeof e?(0,s.fromUtf8)(e):e)||"number"!=typeof t.byteOffset||"number"!=typeof t.byteLength)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,o.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")}],771225)},19898,e=>{"use strict";let t=e=>{if(null!=e){if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&c.warn(l(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw TypeError(`Expected number, got ${typeof e}: ${e}`)}},r=Math.ceil(17014118346046923e22*(2-11920928955078125e-23)),n=e=>{let n=t(e);if(void 0!==n&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>r)throw TypeError(`Expected 32-bit float, got ${e}`);return n},o=(e,t)=>{let r=(e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw TypeError(`Expected integer, got ${typeof e}: ${e}`)}})(e);if(void 0!==r&&i(r,t)!==r)throw TypeError(`Expected ${t}-bit integer, got ${e}`);return r},i=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},s=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,a=e=>{let t=e.match(s);if(null===t||t[0].length!==e.length)throw TypeError("Expected real number, got implicit NaN");return parseFloat(e)},u=e=>"string"==typeof e?o(a(e),16):o(e,16),l=e=>String(TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),c={warn:console.warn},d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function g(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),o=e.getUTCDate(),i=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds(),u=o<10?`0${o}`:`${o}`,l=i<10?`0${i}`:`${i}`,c=s<10?`0${s}`:`${s}`,g=a<10?`0${a}`:`${a}`;return`${d[n]}, ${u} ${f[r]} ${t} ${l}:${c}:${g} GMT`}let h=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),m=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),p=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),y=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),T=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),b=(e,t,r,n)=>{let o=t-1;return v(e,o,r),new Date(Date.UTC(e,o,r,$(n.hours,"hour",0,23),$(n.minutes,"minute",0,59),$(n.seconds,"seconds",0,60),C(n.fractionalMilliseconds)))},w=e=>{let t=f.indexOf(e);if(t<0)throw TypeError(`Invalid month: ${e}`);return t+1},E=[31,28,31,30,31,30,31,31,30,31,30,31],v=(e,t,r)=>{let n=E[t];if(1===t&&A(e)&&(n=29),r>n)throw TypeError(`Invalid day for ${f[t]} in ${e}: ${r}`)},A=e=>e%4==0&&(e%100!=0||e%400==0),$=(e,t,r,n)=>{var i;let s="string"==typeof(i=x(e))?o(a(i),8):o(i,8);if(s<r||s>n)throw TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},C=e=>{var t;return null==e?0:1e3*("string"==typeof(t="0."+e)?n(a(t)):n(t))},x=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};e.s(["dateToUtcString",()=>g,"parseEpochTimestamp",0,e=>{let r;if(null!=e){if("number"==typeof e)r=e;else if("string"==typeof e)r="string"==typeof e?t(a(e)):t(e);else if("object"==typeof e&&1===e.tag)r=e.value;else throw TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(r)||r===1/0||r===-1/0)throw TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*r))}},"parseRfc3339DateTime",0,e=>{if(null==e)return;if("string"!=typeof e)throw TypeError("RFC-3339 date-times must be expressed as strings");let t=h.exec(e);if(!t)throw TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,l,c]=t;return b(u(x(n)),$(o,"month",1,12),$(i,"day",1,31),{hours:s,minutes:a,seconds:l,fractionalMilliseconds:c})},"parseRfc3339DateTimeWithOffset",0,e=>{if(null==e)return;if("string"!=typeof e)throw TypeError("RFC-3339 date-times must be expressed as strings");let t=m.exec(e);if(!t)throw TypeError("Invalid RFC-3339 date-time value");let[r,n,o,i,s,a,l,c,d]=t,f=b(u(x(n)),$(o,"month",1,12),$(i,"day",1,31),{hours:s,minutes:a,seconds:l,fractionalMilliseconds:c});return"Z"!=d.toUpperCase()&&f.setTime(f.getTime()-(e=>{let t=e[0],r=1;if("+"==t)r=1;else if("-"==t)r=-1;else throw TypeError(`Offset direction, ${t}, must be "+" or "-"`);return r*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*6e4})(d)),f},"parseRfc7231DateTime",0,e=>{if(null==e)return;if("string"!=typeof e)throw TypeError("RFC-7231 date-times must be expressed as strings");let t=p.exec(e);if(t){let[e,r,n,o,i,s,a,l]=t;return b(u(x(o)),w(n),$(r,"day",1,31),{hours:i,minutes:s,seconds:a,fractionalMilliseconds:l})}if(t=y.exec(e)){var r;let e,n,o,[i,s,a,l,c,d,f,g]=t;return(o=b((r=l,(n=100*Math.floor((e=new Date().getUTCFullYear())/100)+u(x(r)))<e?n+100:n),w(a),$(s,"day",1,31),{hours:c,minutes:d,seconds:f,fractionalMilliseconds:g})).getTime()-new Date().getTime()>15768e8?new Date(Date.UTC(o.getUTCFullYear()-100,o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds())):o}if(t=T.exec(e)){let[e,r,n,o,i,s,a,l]=t;return b(u(x(l)),w(r),$(n.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:s,fractionalMilliseconds:a})}throw TypeError("Invalid RFC-7231 date-time value")}],19898)},184912,e=>{"use strict";var t=e.i(431875),r=e.i(184540),n=e.i(921517),o=e.i(524836);let i=["ECONNRESET","EPIPE","ETIMEDOUT"];var s=e.i(103130),a=e.i(130836);let u=3e3;var l=e.i(588895);class c{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return"function"==typeof e?.handle?e:new c(e)}static checkSocketUsage(e,t,r=console){let{sockets:n,requests:o,maxSockets:i}=e;if("number"!=typeof i||i===1/0||Date.now()-15e3<t)return t;if(n&&o)for(let e in n){let t=n[e]?.length??0,s=o[e]?.length??0;if(t>=i&&s>=2*i)return r?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${t} and ${s} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(e){this.configProvider=new Promise((t,r)=>{"function"==typeof e?e().then(e=>{t(this.resolveDefaultConfig(e))}).catch(r):t(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:t,connectionTimeout:r,socketTimeout:i,socketAcquisitionWarningTimeout:s,httpAgent:a,httpsAgent:u,throwOnRequestTimeout:l}=e||{};return{connectionTimeout:r,requestTimeout:t,socketTimeout:i,socketAcquisitionWarningTimeout:s,throwOnRequestTimeout:l,httpAgent:a instanceof n.Agent||"function"==typeof a?.destroy?(this.externalAgent=!0,a):new n.Agent({keepAlive:!0,maxSockets:50,...a}),httpsAgent:u instanceof o.Agent||"function"==typeof u?.destroy?(this.externalAgent=!0,u):new o.Agent({keepAlive:!0,maxSockets:50,...u}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:d,requestTimeout:f}={}){return this.config||(this.config=await this.configProvider),new Promise((g,h)=>{let m,p,y=this.config,T=[],b=async e=>{await m,T.forEach(a.timing.clearTimeout),g(e)},w=async e=>{await m,T.forEach(a.timing.clearTimeout),h(e)};if(d?.aborted){let e=Error("Request aborted");e.name="AbortError",w(e);return}let E="https:"===e.protocol,v=e.headers??{},A=(v.Expect??v.expect)==="100-continue",$=E?y.httpsAgent:y.httpAgent;A&&!this.externalAgent&&($=new(E?o.Agent:n.Agent)({keepAlive:!1,maxSockets:1/0})),T.push(a.timing.setTimeout(()=>{this.socketWarningTimestamp=c.checkSocketUsage($,this.socketWarningTimestamp,y.logger)},y.socketAcquisitionWarningTimeout??(y.requestTimeout??2e3)+(y.connectionTimeout??1e3)));let C=(0,r.buildQueryString)(e.query||{});if(null!=e.username||null!=e.password){let t=e.username??"",r=e.password??"";p=`${t}:${r}`}let x=e.path;C&&(x+=`?${C}`),e.fragment&&(x+=`#${e.fragment}`);let k=e.hostname??"";k="["===k[0]&&k.endsWith("]")?e.hostname.slice(1,-1):e.hostname;let R={headers:e.headers,host:k,method:e.method,path:x,port:e.port,agent:$,auth:p},S=(E?o.request:n.request)(R,e=>{b({response:new t.HttpResponse({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:(0,s.getTransformedHeaders)(e.headers),body:e})})});if(S.on("error",e=>{i.includes(e.code)?w(Object.assign(e,{name:"TimeoutError"})):w(e)}),d){let e=()=>{S.destroy();let e=Error("Request aborted");e.name="AbortError",w(e)};"function"==typeof d.addEventListener?(d.addEventListener("abort",e,{once:!0}),S.once("close",()=>d.removeEventListener("abort",e))):d.onabort=e}let N=f??y.requestTimeout;T.push(((e,t,r=0)=>{if(!r)return -1;let n=n=>{let o=a.timing.setTimeout(()=>{e.destroy(),t(Object.assign(Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-n),i=e=>{e?.connecting?e.on("connect",()=>{a.timing.clearTimeout(o)}):a.timing.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):a.timing.setTimeout(n.bind(null,1e3),1e3)})(S,w,y.connectionTimeout)),T.push(((e,t,r=0,n,o)=>r?a.timing.setTimeout(()=>{let i=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let r=Object.assign(Error(i),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(r),t(r)}else i+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",o?.warn?.(i)},r):-1)(S,w,N,y.throwOnRequestTimeout,y.logger??console)),T.push(((e,t,r=0)=>{let n=n=>{let o=r-n,i=()=>{e.destroy(),t(Object.assign(Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)};return 0<r&&r<6e3?(n(0),0):a.timing.setTimeout(n.bind(null,3e3*(0!==r)),3e3)})(S,w,y.socketTimeout));let U=R.agent;"object"==typeof U&&"keepAlive"in U&&T.push(((e,{keepAlive:t,keepAliveMsecs:r},n=u)=>{if(!0!==t)return -1;let o=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",e=>{e.setKeepAlive(t,r||0)})};return 0===n?(o(),0):a.timing.setTimeout(o,n)})(S,{keepAlive:U.keepAlive,keepAliveMsecs:U.keepAliveMsecs})),m=(0,l.writeRequestBody)(S,e,N,this.externalAgent).catch(e=>(T.forEach(a.timing.clearTimeout),h(e)))})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[e]:t}))}httpHandlerConfigs(){return this.config??{}}}e.s(["NodeHttpHandler",()=>c],184912)}];

//# sourceMappingURL=node_modules_%40smithy_80360273._.js.map