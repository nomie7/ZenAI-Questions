module.exports=[941593,e=>e.a(async(t,r)=>{try{let t=await e.y("minio");e.n(t),r()}catch(e){r(e)}},!0),983084,e=>e.a(async(t,r)=>{try{var i=e.i(941593),n=t([i]);[i]=n.then?(await n)():n;let p=process.env.MINIO_ENDPOINT||"localhost",m=parseInt(process.env.MINIO_PORT||"9000",10),h=process.env.MINIO_ACCESS_KEY||process.env.MINIO_USERNAME||"",f=process.env.MINIO_SECRET_KEY||process.env.MINIO_PASSWORD||"",g=process.env.MINIO_BUCKET||"knowledge-docs",_="true"===process.env.MINIO_USE_SSL,v=null;function a(){if(!v){let{endPoint:e,port:t,useSSL:r}=function(){if(p.startsWith("http://")||p.startsWith("https://"))try{let e=new URL(p),t=e.hostname,r="https:"===e.protocol,i=e.port&&Number(e.port)>0?Number(e.port):r?443:80;return{endPoint:t,port:i,useSSL:r}}catch{}return{endPoint:p,port:m,useSSL:_}}();v=new i.Client({endPoint:e,port:t,useSSL:r,accessKey:h,secretKey:f})}return v}async function s(){let e=a();await e.bucketExists(g)||(await e.makeBucket(g),console.log(`Created MinIO bucket: ${g}`))}async function o(e,t,r="application/octet-stream"){let i=a();return await i.putObject(g,e,t,t.length,{"Content-Type":r}),e}async function l(e,t,r){let i=r.split(".").pop()||"pdf",n=`documents/${e}/original.${i}`;return await o(n,t,{pdf:"application/pdf",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",txt:"text/plain",json:"application/json"}[i.toLowerCase()]||"application/octet-stream"),n}async function u(e,t,r){let i=`documents/${e}/pages/page-${t}.png`;return await o(i,r,"image/png"),i}async function d(e,t=3600){let r=a();return await r.presignedGetObject(g,e,t)}async function c(e){let t=a(),r=`documents/${e}/`,i=[];for await(let e of t.listObjects(g,r,!0))e.name&&i.push(e.name);i.length>0&&await t.removeObjects(g,i)}e.s(["deleteDocumentFiles",()=>c,"ensureBucket",()=>s,"getSignedUrl",()=>d,"uploadDocument",()=>l,"uploadPageImage",()=>u]),r()}catch(e){r(e)}},!1),283285,(e,t,r)=>{"use strict";t.exports=function(e,t){if("string"!=typeof e)throw TypeError("Expected a string");return t=void 0===t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},94380,(e,t,r)=>{"use strict";let i=/[\p{Lu}]/u,n=/[\p{Ll}]/u,a=/^[\p{Lu}](?![\p{Lu}])/gu,s=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,l=RegExp("^"+o.source),u=RegExp(o.source+s.source,"gu"),d=RegExp("\\d+"+s.source,"gu"),c=(e,t)=>{var r,s;if(!("string"==typeof e||Array.isArray(e)))throw TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";let o=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),c=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);return 1===e.length?t.pascalCase?c(e):o(e):((e!==o(e)&&(e=((e,t,r)=>{let a=!1,s=!1,o=!1;for(let l=0;l<e.length;l++){let u=e[l];a&&i.test(u)?(e=e.slice(0,l)+"-"+e.slice(l),a=!1,o=s,s=!0,l++):s&&o&&n.test(u)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),o=s,s=!1,a=!0):(a=t(u)===u&&r(u)!==u,o=s,s=r(u)===u&&t(u)!==u)}return e})(e,o,c)),e=e.replace(l,""),t.preserveConsecutiveUppercase)?(r=e,a.lastIndex=0,e=r.replace(a,e=>o(e))):e=o(e),t.pascalCase&&(e=c(e.charAt(0))+e.slice(1)),s=e,u.lastIndex=0,d.lastIndex=0,s.replace(u,(e,t)=>c(t)).replace(d,e=>c(e)))};t.exports=c,t.exports.default=c},675736,507577,403929,756740,650284,703649,729082,640470,e=>{"use strict";var t=Object.defineProperty,r=(e,r)=>{for(var i in r)t(e,i,{get:r[i],enumerable:!0})};function i(e){return"object"==typeof e&&null!==e&&"type"in e&&"string"==typeof e.type&&"source_type"in e&&("url"===e.source_type||"base64"===e.source_type||"text"===e.source_type||"id"===e.source_type)}function n(e){return i(e)&&"url"===e.source_type&&"url"in e&&"string"==typeof e.url}function a(e){return i(e)&&"base64"===e.source_type&&"data"in e&&"string"==typeof e.data}function s(e){return i(e)&&"text"===e.source_type&&"text"in e&&"string"==typeof e.text}function o(e){return i(e)&&"id"===e.source_type&&"id"in e&&"string"==typeof e.id}function l(e){if(i(e)){if("url"===e.source_type)return{type:"image_url",image_url:{url:e.url}};if("base64"===e.source_type){if(!e.mime_type)throw Error("mime_type key is required for base64 data.");let t=e.mime_type;return{type:"image_url",image_url:{url:`data:${t};base64,${e.data}`}}}}throw Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function u(e){let t=e.split(";")[0].split("/");if(2!==t.length)throw Error(`Invalid mime type: "${e}" - does not match type/subtype format.`);let r=t[0].trim(),i=t[1].trim();if(""===r||""===i)throw Error(`Invalid mime type: "${e}" - type or subtype is empty.`);let n={};for(let t of e.split(";").slice(1)){let r=t.split("=");if(2!==r.length)throw Error(`Invalid parameter syntax in mime type: "${e}".`);let i=r[0].trim(),a=r[1].trim();if(""===i)throw Error(`Invalid parameter syntax in mime type: "${e}".`);n[i]=a}return{type:r,subtype:i,parameters:n}}function d({dataUrl:e,asTypedArray:t=!1}){let r=e.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);if(r)return{mime_type:r[1].toLowerCase(),data:t?Uint8Array.from(atob(r[2]),e=>e.charCodeAt(0)):r[2]}}function c(e,t){if("text"===e.type){if(!t.fromStandardTextBlock)throw Error(`Converter for ${t.providerName} does not implement \`fromStandardTextBlock\` method.`);return t.fromStandardTextBlock(e)}if("image"===e.type){if(!t.fromStandardImageBlock)throw Error(`Converter for ${t.providerName} does not implement \`fromStandardImageBlock\` method.`);return t.fromStandardImageBlock(e)}if("audio"===e.type){if(!t.fromStandardAudioBlock)throw Error(`Converter for ${t.providerName} does not implement \`fromStandardAudioBlock\` method.`);return t.fromStandardAudioBlock(e)}if("file"===e.type){if(!t.fromStandardFileBlock)throw Error(`Converter for ${t.providerName} does not implement \`fromStandardFileBlock\` method.`);return t.fromStandardFileBlock(e)}throw Error(`Unable to convert content block type '${e.type}' to provider-specific format: not recognized.`)}function p(e){return"object"==typeof e&&null!==e&&"type"in e&&"content"in e&&("string"==typeof e.content||Array.isArray(e.content))}e.s(["__export",()=>r],675736),e.s(["convertToOpenAIImageBlock",()=>l,"convertToProviderContentBlock",()=>c,"isBase64ContentBlock",()=>a,"isDataContentBlock",()=>i,"isIDContentBlock",()=>o,"isPlainTextContentBlock",()=>s,"isURLContentBlock",()=>n,"parseBase64DataUrl",()=>d,"parseMimeType",()=>u],507577),e.s(["isMessage",()=>p],403929);var m=e.i(283285);function h(e,t){return t?.[e]||(0,m.default)(e)}function f(e){return Array.isArray(e)?[...e]:{...e}}function g(e){let t=Object.getPrototypeOf(e);return"function"==typeof e.lc_name&&("function"!=typeof t.lc_name||e.lc_name()!==t.lc_name())?e.lc_name():e.name}e.i(94380),r({},{Serializable:()=>_,get_lc_unique_name:()=>g});var _=class e{lc_serializable=!1;lc_kwargs;static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,g(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(e,...t){void 0!==this.lc_serializable_keys?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([e])=>this.lc_serializable_keys?.includes(e))):this.lc_kwargs=e??{}}toJSON(){if(!this.lc_serializable||this.lc_kwargs instanceof e||"object"!=typeof this.lc_kwargs||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();let t={},r={},i=Object.keys(this.lc_kwargs).reduce((e,t)=>(e[t]=t in this?this[t]:this.lc_kwargs[t],e),{});for(let e=Object.getPrototypeOf(this);e;e=Object.getPrototypeOf(e))Object.assign(t,Reflect.get(e,"lc_aliases",this)),Object.assign(r,Reflect.get(e,"lc_secrets",this)),Object.assign(i,Reflect.get(e,"lc_attributes",this));return Object.keys(r).forEach(e=>{let t=this,r=i,[n,...a]=e.split(".").reverse();for(let e of a.reverse()){if(!(e in t)||void 0===t[e])return;e in r&&void 0!==r[e]||("object"==typeof t[e]&&null!=t[e]?r[e]={}:Array.isArray(t[e])&&(r[e]=[])),t=t[e],r=r[e]}n in t&&void 0!==t[n]&&(r[n]=r[n]||t[n])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:function(e,t,r){let i={};for(let n in e)Object.hasOwn(e,n)&&(i[t(n,r)]=e[n]);return i}(Object.keys(r).length?function(e,t){let r=f(e);for(let[e,i]of Object.entries(t)){let[t,...n]=e.split(".").reverse(),a=r;for(let e of n.reverse()){if(void 0===a[e])break;a[e]=f(a[e]),a=a[e]}void 0!==a[t]&&(a[t]={lc:1,type:"secret",id:[i]})}return r}(i,r):i,h,t)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}};function v(e,t){return y(e)&&e.type===t}function y(e){return"object"==typeof e&&null!==e}function b(e){return Array.isArray(e)}function $(e){return"string"==typeof e}function w(e){return"number"==typeof e}function x(e){return e instanceof Uint8Array}function k(e){try{return JSON.parse(e)}catch{return}}e.s(["Serializable",()=>_,"get_lc_unique_name",()=>g],756740);let I=e=>e();function S(e){if(v(e,"document")&&y(e.source)&&"type"in e.source){if("base64"===e.source.type&&$(e.source.media_type)&&$(e.source.data))return{type:"file",mimeType:e.source.media_type,data:e.source.data};else if("url"===e.source.type&&$(e.source.url))return{type:"file",url:e.source.url};else if("file"===e.source.type&&$(e.source.file_id))return{type:"file",fileId:e.source.file_id};else if("text"===e.source.type&&$(e.source.data))return{type:"file",mimeType:String(e.source.media_type??"text/plain"),data:e.source.data}}else if(v(e,"image")&&y(e.source)&&"type"in e.source){if("base64"===e.source.type&&$(e.source.media_type)&&$(e.source.data))return{type:"image",mimeType:e.source.media_type,data:e.source.data};else if("url"===e.source.type&&$(e.source.url))return{type:"image",url:e.source.url};else if("file"===e.source.type&&$(e.source.file_id))return{type:"image",fileId:e.source.file_id}}}function O(e){return Array.from(function*(){for(let t of e){let e=S(t);e?yield e:yield t}}())}function E(e){return Array.from(function*(){for(let r of"string"==typeof e.content?[{type:"text",text:e.content}]:e.content){if(v(r,"text")&&$(r.text)){let{text:e,citations:t,...i}=r;if(b(t)&&t.length){let r=t.reduce((e,t)=>{let r=function(e){if("char_location"===e.type&&$(e.document_title)&&w(e.start_char_index)&&w(e.end_char_index)&&$(e.cited_text)){let{document_title:t,start_char_index:r,end_char_index:i,cited_text:n,...a}=e;return{...a,type:"citation",source:"char",title:t??void 0,startIndex:r,endIndex:i,citedText:n}}if("page_location"===e.type&&$(e.document_title)&&w(e.start_page_number)&&w(e.end_page_number)&&$(e.cited_text)){let{document_title:t,start_page_number:r,end_page_number:i,cited_text:n,...a}=e;return{...a,type:"citation",source:"page",title:t??void 0,startIndex:r,endIndex:i,citedText:n}}if("content_block_location"===e.type&&$(e.document_title)&&w(e.start_block_index)&&w(e.end_block_index)&&$(e.cited_text)){let{document_title:t,start_block_index:r,end_block_index:i,cited_text:n,...a}=e;return{...a,type:"citation",source:"block",title:t??void 0,startIndex:r,endIndex:i,citedText:n}}if("web_search_result_location"===e.type&&$(e.url)&&$(e.title)&&$(e.encrypted_index)&&$(e.cited_text)){let{url:t,title:r,encrypted_index:i,cited_text:n,...a}=e;return{...a,type:"citation",source:"url",url:t,title:r,startIndex:Number(i),endIndex:Number(i),citedText:n}}if("search_result_location"===e.type&&$(e.source)&&$(e.title)&&w(e.start_block_index)&&w(e.end_block_index)&&$(e.cited_text)){let{source:t,title:r,start_block_index:i,end_block_index:n,cited_text:a,...s}=e;return{...s,type:"citation",source:"search",url:t,title:r??void 0,startIndex:i,endIndex:n,citedText:a}}}(t);return r?[...e,r]:e},[]);yield{...i,type:"text",text:e,annotations:r};continue}yield{...i,type:"text",text:e};continue}if(v(r,"thinking")&&$(r.thinking)){let{thinking:e,signature:t,...i}=r;yield{...i,type:"reasoning",reasoning:e,signature:t};continue}if(v(r,"redacted_thinking")){yield{type:"non_standard",value:r};continue}else if(v(r,"tool_use")&&$(r.name)&&$(r.id)){yield{type:"tool_call",id:r.id,name:r.name,args:r.input};continue}else if(v(r,"input_json_delta")){var t;if(t=e,"function"==typeof t?._getType&&"function"==typeof t.concat&&"ai"===t._getType()&&e.tool_call_chunks?.length){let t=e.tool_call_chunks[0];yield{type:"tool_call_chunk",id:t.id,name:t.name,args:t.args,index:t.index};continue}}else if(v(r,"server_tool_use")&&$(r.name)&&$(r.id)){let{name:e,id:t}=r;if("web_search"===e){let e=I(()=>{if("string"==typeof r.input)return r.input;if(y(r.input)&&$(r.input.query))return r.input.query;if($(r.partial_json)){let e=k(r.partial_json);if(e?.query)return e.query}return""});yield{id:t,type:"server_tool_call",name:"web_search",args:{query:e}};continue}if("code_execution"===r.name){let e=I(()=>{if("string"==typeof r.input)return r.input;if(y(r.input)&&$(r.input.code))return r.input.code;if($(r.partial_json)){let e=k(r.partial_json);if(e?.code)return e.code}return""});yield{id:t,type:"server_tool_call",name:"code_execution",args:{code:e}};continue}}else if(v(r,"web_search_tool_result")&&$(r.tool_use_id)&&b(r.content)){let{content:e,tool_use_id:t}=r,i=e.reduce((e,t)=>v(t,"web_search_result")?[...e,t.url]:e,[]);yield{type:"server_tool_call_result",name:"web_search",toolCallId:t,status:"success",output:{urls:i}};continue}else if(v(r,"code_execution_tool_result")&&$(r.tool_use_id)&&y(r.content)){yield{type:"server_tool_call_result",name:"code_execution",toolCallId:r.tool_use_id,status:"success",output:r.content};continue}else if(v(r,"mcp_tool_use")){yield{id:r.id,type:"server_tool_call",name:"mcp_tool_use",args:r.input};continue}else if(v(r,"mcp_tool_result")&&$(r.tool_use_id)&&y(r.content)){yield{type:"server_tool_call_result",name:"mcp_tool_use",toolCallId:r.tool_use_id,status:"success",output:r.content};continue}else if(v(r,"container_upload")){yield{type:"server_tool_call",name:"container_upload",args:r.input};continue}else if(v(r,"search_result")){yield{id:r.id,type:"non_standard",value:r};continue}else if(v(r,"tool_result")){yield{id:r.id,type:"non_standard",value:r};continue}else{let e=S(r);if(e){yield e;continue}}yield{type:"non_standard",value:r}}}())}e.s(["_isArray",()=>b,"_isBytesArray",()=>x,"_isContentBlock",()=>v,"_isNumber",()=>w,"_isObject",()=>y,"_isString",()=>$,"iife",()=>I,"safeParseJson",()=>k],650284);let T={translateContent:E,translateContentChunk:E};function A(e){return n(e)?{type:e.type,mimeType:e.mime_type,url:e.url,metadata:e.metadata}:a(e)?{type:e.type,mimeType:e.mime_type??"application/octet-stream",data:e.data,metadata:e.metadata}:o(e)?{type:e.type,mimeType:e.mime_type,fileId:e.id,metadata:e.metadata}:e}function N(e){return e.map(A)}function j(e){let t=[];for(let r of e)(v(r,"image_url")&&y(r.image_url)||v(r,"input_audio")&&y(r.input_audio)||v(r,"file")&&y(r.file)?0:1)?t.push(r):t.push(function(e){if(v(e,"image_url")&&y(e.image_url)&&$(e.image_url.url)){let t=d({dataUrl:e.image_url.url});return t?{type:"image",mimeType:t.mime_type,data:t.data}:{type:"image",url:e.image_url.url}}if(v(e,"input_audio")&&y(e.input_audio)&&$(e.input_audio.data)&&$(e.input_audio.format))return{type:"audio",data:e.input_audio.data,mimeType:`audio/${e.input_audio.format}`};if(v(e,"file")&&y(e.file)&&$(e.file.data)){let t=d({dataUrl:e.file.data});if(t)return{type:"file",data:t.data,mimeType:t.mime_type};if($(e.file.file_id))return{type:"file",fileId:e.file.file_id}}return e}(r));return t}function P(e){if("url_citation"===e.type){let{url:t,title:r,start_index:i,end_index:n}=e;return{type:"citation",url:t,title:r,startIndex:i,endIndex:n}}if("file_citation"===e.type){let{file_id:t,filename:r,index:i}=e;return{type:"citation",title:r,startIndex:i,endIndex:i,fileId:t}}return e}function C(e){return Array.from(function*(){if(y(e.additional_kwargs?.reasoning)&&b(e.additional_kwargs.reasoning.summary)){let t=e.additional_kwargs.reasoning.summary.reduce((e,t)=>y(t)&&$(t.text)?`${e}${t.text}`:e,"");yield{type:"reasoning",reasoning:t}}for(let t of"string"==typeof e.content?[{type:"text",text:e.content}]:e.content)if(v(t,"text")){let{text:e,annotations:r,...i}=t;Array.isArray(r)?yield{...i,type:"text",text:String(e),annotations:r.map(P)}:yield{...i,type:"text",text:String(e)}}for(let t of e.tool_calls??[])yield{type:"tool_call",id:t.id,name:t.name,args:t.args};if(y(e.additional_kwargs)&&b(e.additional_kwargs.tool_outputs))for(let t of e.additional_kwargs.tool_outputs){if(v(t,"web_search_call")){yield{id:t.id,type:"server_tool_call",name:"web_search",args:{query:t.query}};continue}if(v(t,"file_search_call")){yield{id:t.id,type:"server_tool_call",name:"file_search",args:{query:t.query}};continue}if(v(t,"computer_call")){yield{type:"non_standard",value:t};continue}else if(v(t,"code_interpreter_call")){if($(t.code)&&(yield{id:t.id,type:"server_tool_call",name:"code_interpreter",args:{code:t.code}}),b(t.outputs)){let e=I(()=>{if("in_progress"!==t.status){if("completed"===t.status)return 0;if("incomplete"===t.status)return 127;if("interpreting"!==t.status&&"failed"===t.status)return 1}});for(let r of t.outputs)if(v(r,"logs")){yield{type:"server_tool_call_result",toolCallId:t.id??"",status:"success",output:{type:"code_interpreter_output",returnCode:e??0,stderr:[0,void 0].includes(e)?void 0:String(r.logs),stdout:[0,void 0].includes(e)?String(r.logs):void 0}};continue}}continue}else if(v(t,"mcp_call")){yield{id:t.id,type:"server_tool_call",name:"mcp_call",args:t.input};continue}else if(v(t,"mcp_list_tools")){yield{id:t.id,type:"server_tool_call",name:"mcp_list_tools",args:t.input};continue}else if(v(t,"mcp_approval_request")){yield{type:"non_standard",value:t};continue}else if(v(t,"image_generation_call")){yield{type:"non_standard",value:t};continue}y(t)&&(yield{type:"non_standard",value:t})}}())}e.s(["ChatAnthropicTranslator",()=>T,"convertToV1FromAnthropicInput",()=>O],703649);let Z={translateContent:e=>{if("string"==typeof e.content){let t=[];for(let r of("string"==typeof e.content?t.push({type:"text",text:e.content}):t.push(...j(e.content)),e.tool_calls??[]))t.push({type:"tool_call",id:r.id,name:r.name,args:r.args});return t}return C(e)},translateContentChunk:e=>{if("string"==typeof e.content){let t=[];for(let r of("string"==typeof e.content?t.push({type:"text",text:e.content}):t.push(...j(e.content)),e.tool_calls??[]))t.push({type:"tool_call",id:r.id,name:r.name,args:r.args});return t}return Array.from(function*(){for(let t of(yield*C(e),e.tool_call_chunks??[]))yield{type:"tool_call_chunk",id:t.id,name:t.name,args:t.args}}())}};e.s(["ChatOpenAITranslator",()=>Z,"convertToV1FromChatCompletionsInput",()=>j],729082);let z=Symbol.for("langchain.message");function U(e,t){if("string"==typeof e)return""===e?t:"string"==typeof t?e+t:Array.isArray(t)&&0===t.length?e:Array.isArray(t)&&t.some(e=>i(e))?[{type:"text",source_type:"text",text:e},...t]:[{type:"text",text:e},...t];return Array.isArray(t)?F(e,t)??[...e,...t]:""===t?e:Array.isArray(e)&&e.some(e=>i(e))?[...e,{type:"file",source_type:"text",text:t}]:[...e,{type:"text",text:t}]}function R(e,t){return"error"===e||"error"===t?"error":"success"}var D=class extends _{lc_namespace=["langchain_core","messages"];lc_serializable=!0;get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}[z]=!0;id;name;content;additional_kwargs;response_metadata;_getType(){return this.type}getType(){return this._getType()}constructor(e){const t="string"==typeof e||Array.isArray(e)?{content:e}:e;t.additional_kwargs||(t.additional_kwargs={}),t.response_metadata||(t.response_metadata={}),super(t),this.name=t.name,void 0===t.content&&void 0!==t.contentBlocks?(this.content=t.contentBlocks,this.response_metadata={output_version:"v1",...t.response_metadata}):(void 0!==t.content?this.content=t.content??[]:this.content=[],this.response_metadata=t.response_metadata),this.additional_kwargs=t.additional_kwargs,this.id=t.id}get text(){return"string"==typeof this.content?this.content:Array.isArray(this.content)?this.content.map(e=>"string"==typeof e?e:"text"===e.type?e.text:"").join(""):""}get contentBlocks(){return[N,j,O].reduce((e,t)=>t(e),"string"==typeof this.content?[{type:"text",text:this.content}]:this.content)}toDict(){return{type:this.getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}static isInstance(e){return"object"==typeof e&&null!==e&&z in e&&!0===e[z]&&p(e)}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){var t,r;if(null===e)return this;let i=(t=this._printableFields,r=Math.max(4,e),JSON.stringify(function e(t,i){if("object"!=typeof t||null==t)return t;if(i>=r)return Array.isArray(t)?"[Array]":"[Object]";if(Array.isArray(t))return t.map(t=>e(t,i+1));let n={};for(let r of Object.keys(t))n[r]=e(t[r],i+1);return n}(t,0),null,2));return`${this.constructor.lc_name()} ${i}`}toFormattedString(e="pretty"){return function(e,t="pretty"){return"pretty"===t?function(e){let t=[],r=` ${e.type.charAt(0).toUpperCase()+e.type.slice(1)} Message `,i=Math.floor((80-r.length)/2),n="=".repeat(i),a=r.length%2==0?n:`${n}=`;if(t.push(`${n}${r}${a}`),"ai"===e.type&&e.tool_calls&&e.tool_calls.length>0)for(let r of(t.push("Tool Calls:"),e.tool_calls))for(let[e,i]of(t.push(`  ${r.name} (${r.id})`),t.push(` Call ID: ${r.id}`),t.push("  Args:"),Object.entries(r.args)))t.push(`    ${e}: ${i}`);return"tool"===e.type&&e.name&&t.push(`Name: ${e.name}`),"string"==typeof e.content&&e.content.trim()&&(t.length>1&&t.push(""),t.push(e.content)),t.join("\n")}(e):JSON.stringify(e)}(this,e)}};function L(e){return Array.isArray(e)&&e.every(e=>"number"==typeof e.index)}function M(e={},t={}){let r={...e};for(let[e,i]of Object.entries(t))if(null==r[e])r[e]=i;else if(null==i)continue;else if(typeof r[e]!=typeof i||Array.isArray(r[e])!==Array.isArray(i))throw Error(`field[${e}] already exists in the message chunk, but with a different type.`);else if("string"==typeof r[e])if("type"===e)continue;else["id","name","output_version","model_provider"].includes(e)?r[e]=i:r[e]+=i;else if("object"!=typeof r[e]||Array.isArray(r[e]))if(Array.isArray(r[e]))r[e]=F(r[e],i);else{if(r[e]===i)continue;console.warn(`field[${e}] already exists in this message chunk and value has unsupported type.`)}else r[e]=M(r[e],i);return r}function F(e,t){if(void 0!==e||void 0!==t){if(void 0===e||void 0===t)return e||t;let r=[...e];for(let e of t)if("object"==typeof e&&null!==e&&"index"in e&&"number"==typeof e.index){let t=r.findIndex(t=>{let r="object"==typeof t,i="index"in t&&t.index===e.index,n="id"in t&&"id"in e&&t?.id===e?.id,a=!("id"in t)||!t?.id||!("id"in e)||!e?.id;return r&&i&&(n||a)});-1!==t&&"object"==typeof r[t]&&null!==r[t]?r[t]=M(r[t],e):r.push(e)}else{if("object"==typeof e&&null!==e&&"text"in e&&""===e.text)continue;r.push(e)}return r}}function B(e,t){if(!e&&!t)throw Error("Cannot merge two undefined objects.");if(!e||!t)return e||t;if(typeof e!=typeof t)throw Error(`Cannot merge objects of different types.
Left ${typeof e}
Right ${typeof t}`);if("string"==typeof e&&"string"==typeof t)return e+t;if(Array.isArray(e)&&Array.isArray(t))return F(e,t);if("object"==typeof e&&"object"==typeof t)return M(e,t);else if(e===t)return e;else throw Error(`Can not merge objects of different types.
Left ${e}
Right ${t}`)}var J=class e extends D{static isInstance(t){if(!super.isInstance(t))return!1;let r=Object.getPrototypeOf(t);for(;null!==r;){if(r===e.prototype)return!0;r=Object.getPrototypeOf(r)}return!1}};function W(e){return"string"==typeof e.role}function V(e){return"function"==typeof e?._getType}function G(e){return J.isInstance(e)}e.s(["BaseMessage",()=>D,"BaseMessageChunk",()=>J,"_isMessageFieldWithRole",()=>W,"_mergeDicts",()=>M,"_mergeLists",()=>F,"_mergeObj",()=>B,"_mergeStatus",()=>R,"isBaseMessage",()=>V,"isBaseMessageChunk",()=>G,"isOpenAIToolCallArray",()=>L,"mergeContent",()=>U],640470)},367751,771863,202438,649835,e=>{"use strict";var t=e.i(640470);function r(e,r){return(0,t._mergeDicts)(e??{},r??{})}function i(e,t){let r={};return(e?.audio!==void 0||t?.audio!==void 0)&&(r.audio=(e?.audio??0)+(t?.audio??0)),(e?.image!==void 0||t?.image!==void 0)&&(r.image=(e?.image??0)+(t?.image??0)),(e?.video!==void 0||t?.video!==void 0)&&(r.video=(e?.video??0)+(t?.video??0)),(e?.document!==void 0||t?.document!==void 0)&&(r.document=(e?.document??0)+(t?.document??0)),(e?.text!==void 0||t?.text!==void 0)&&(r.text=(e?.text??0)+(t?.text??0)),r}function n(e,t){var r,n,a,s;let o,l;return{input_tokens:(e?.input_tokens??0)+(t?.input_tokens??0),output_tokens:(e?.output_tokens??0)+(t?.output_tokens??0),total_tokens:(e?.total_tokens??0)+(t?.total_tokens??0),input_token_details:(o={...i(r=e?.input_token_details,n=t?.input_token_details)},(r?.cache_read!==void 0||n?.cache_read!==void 0)&&(o.cache_read=(r?.cache_read??0)+(n?.cache_read??0)),(r?.cache_creation!==void 0||n?.cache_creation!==void 0)&&(o.cache_creation=(r?.cache_creation??0)+(n?.cache_creation??0)),o),output_token_details:(l={...i(a=e?.output_token_details,s=t?.output_token_details)},(a?.reasoning!==void 0||s?.reasoning!==void 0)&&(l.reasoning=(a?.reasoning??0)+(s?.reasoning??0)),l)}}e.s(["mergeResponseMetadata",()=>r,"mergeUsageMetadata",()=>n],367751);var a=e.i(675736),s=t;function o(e){return null!=e&&"object"==typeof e&&"lc_direct_tool_output"in e&&!0===e.lc_direct_tool_output}(0,a.__export)({},{ToolMessage:()=>l,ToolMessageChunk:()=>u,defaultToolCallParser:()=>d,isDirectToolOutput:()=>o,isToolMessage:()=>c,isToolMessageChunk:()=>p});var l=class extends s.BaseMessage{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}lc_direct_tool_output=!0;type="tool";status;tool_call_id;metadata;artifact;constructor(e,t,r){const i="string"==typeof e||Array.isArray(e)?{content:e,name:r,tool_call_id:t}:e;super(i),this.tool_call_id=i.tool_call_id,this.artifact=i.artifact,this.status=i.status,this.metadata=i.metadata}static isInstance(e){return super.isInstance(e)&&"tool"===e.type}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}},u=class extends s.BaseMessageChunk{type="tool";tool_call_id;status;artifact;constructor(e){super(e),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}concat(e){return new this.constructor({content:(0,s.mergeContent)(this.content,e.content),additional_kwargs:(0,s._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,s._mergeDicts)(this.response_metadata,e.response_metadata),artifact:(0,s._mergeObj)(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:(0,s._mergeStatus)(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}};function d(e){let t=[],r=[];for(let i of e)if(!i.function)continue;else{let e=i.function.name;try{let r=JSON.parse(i.function.arguments);t.push({name:e||"",args:r||{},id:i.id})}catch{r.push({name:e,args:i.function.arguments,id:i.id,error:"Malformed args."})}}return[t,r]}function c(e){return"object"==typeof e&&null!==e&&"getType"in e&&"function"==typeof e.getType&&"tool"===e.getType()}function p(e){return"tool"===e._getType()}function m(e,t=h){let r=(e=e.trim()).indexOf("```");if(-1===r)return t(e);let i=e.substring(r+3);i.startsWith("json\n")?i=i.substring(5):i.startsWith("json")?i=i.substring(4):i.startsWith("\n")&&(i=i.substring(1));let n=i.indexOf("```"),a=i;return -1!==n&&(a=i.substring(0,n)),t(a.trim())}function h(e){if(void 0===e)return null;try{return JSON.parse(e)}catch{}let t="",r=[],i=!1,n=!1;for(let a of e){if(i)'"'!==a||n?"\n"!==a||n?n="\\"===a&&!n:a="\\n":i=!1;else if('"'===a)i=!0,n=!1;else if("{"===a)r.push("}");else if("["===a)r.push("]");else if("}"===a||"]"===a)if(!r||r[r.length-1]!==a)return null;else r.pop();t+=a}i&&(t+='"');for(let e=r.length-1;e>=0;e-=1)t+=r[e];try{return JSON.parse(t)}catch{return null}}e.s(["ToolMessage",()=>l,"ToolMessageChunk",()=>u,"defaultToolCallParser",()=>d,"isDirectToolOutput",()=>o,"isToolMessage",()=>c,"isToolMessageChunk",()=>p],771863),e.s(["parseJsonMarkdown",()=>m,"parsePartialJson",()=>h],202438);var f=t,g=e.i(703649),_=e.i(729082),v=e.i(650284);function y(e){switch(e){case"csv":return"text/csv";case"doc":case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"html":return"text/html";case"md":return"text/markdown";case"pdf":return"application/pdf";case"txt":return"text/plain";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"gif":return"image/gif";case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"webp":return"image/webp";case"flv":return"video/flv";case"mkv":return"video/mkv";case"mov":return"video/mov";case"mp4":return"video/mp4";case"mpeg":return"video/mpeg";case"mpg":return"video/mpg";case"three_gp":return"video/three_gp";case"webm":return"video/webm";case"wmv":return"video/wmv";default:return"application/octet-stream"}}function b(e){return Array.from(function*(){for(let t of"string"==typeof e.content?[{type:"text",text:e.content}]:e.content){if((0,v._isContentBlock)(t,"cache_point")){yield{type:"non_standard",value:t};continue}if((0,v._isContentBlock)(t,"citations_content")&&(0,v._isObject)(t.citationsContent)){let e=(0,v._isArray)(t.citationsContent.content)?t.citationsContent.content.reduce((e,t)=>(0,v._isObject)(t)&&(0,v._isString)(t.text)?e+t.text:e,""):"",r=(0,v._isArray)(t.citationsContent.citations)?t.citationsContent.citations.reduce((e,t)=>{if((0,v._isObject)(t)){let r=(0,v._isArray)(t.sourceContent)?t.sourceContent.reduce((e,t)=>(0,v._isObject)(t)&&(0,v._isString)(t.text)?e+t.text:e,""):"",i=(0,v.iife)(()=>{if((0,v._isObject)(t.location)){let e=t.location.documentChar||t.location.documentPage||t.location.documentChunk;if((0,v._isObject)(e))return{source:(0,v._isNumber)(e.documentIndex)?e.documentIndex.toString():void 0,startIndex:(0,v._isNumber)(e.start)?e.start:void 0,endIndex:(0,v._isNumber)(e.end)?e.end:void 0}}return{}});e.push({type:"citation",citedText:r,...i})}return e},[]):[];yield{type:"text",text:e,annotations:r};continue}if((0,v._isContentBlock)(t,"document")&&(0,v._isObject)(t.document)){yield function(e){if((0,v._isObject)(e.document)&&(0,v._isObject)(e.document.source)){let t=y((0,v._isObject)(e.document)&&(0,v._isString)(e.document.format)?e.document.format:"");if((0,v._isObject)(e.document.source)){if((0,v._isObject)(e.document.source.s3Location)&&(0,v._isString)(e.document.source.s3Location.uri))return{type:"file",mimeType:t,fileId:e.document.source.s3Location.uri};if((0,v._isBytesArray)(e.document.source.bytes))return{type:"file",mimeType:t,data:e.document.source.bytes};if((0,v._isString)(e.document.source.text))return{type:"file",mimeType:t,data:Buffer.from(e.document.source.text).toString("base64")};if((0,v._isArray)(e.document.source.content))return{type:"file",mimeType:t,data:e.document.source.content.reduce((e,t)=>(0,v._isObject)(t)&&(0,v._isString)(t.text)?e+t.text:e,"")}}}return{type:"non_standard",value:e}}(t);continue}else if((0,v._isContentBlock)(t,"guard_content")){yield{type:"non_standard",value:t};continue}else if((0,v._isContentBlock)(t,"image")&&(0,v._isObject)(t.image)){yield function(e){if((0,v._isContentBlock)(e,"image")&&(0,v._isObject)(e.image)){let t=y((0,v._isObject)(e.image)&&(0,v._isString)(e.image.format)?e.image.format:"");if((0,v._isObject)(e.image.source)){if((0,v._isObject)(e.image.source.s3Location)&&(0,v._isString)(e.image.source.s3Location.uri))return{type:"image",mimeType:t,fileId:e.image.source.s3Location.uri};if((0,v._isBytesArray)(e.image.source.bytes))return{type:"image",mimeType:t,data:e.image.source.bytes}}}return{type:"non_standard",value:e}}(t);continue}else if((0,v._isContentBlock)(t,"reasoning_content")&&(0,v._isString)(t.reasoningText)){yield{type:"reasoning",reasoning:t.reasoningText};continue}else if((0,v._isContentBlock)(t,"text")&&(0,v._isString)(t.text)){yield{type:"text",text:t.text};continue}else if((0,v._isContentBlock)(t,"tool_result")){yield{type:"non_standard",value:t};continue}else if((0,v._isContentBlock)(t,"tool_call"))continue;else if((0,v._isContentBlock)(t,"video")&&(0,v._isObject)(t.video)){yield function(e){if((0,v._isContentBlock)(e,"video")&&(0,v._isObject)(e.video)){let t=y((0,v._isObject)(e.video)&&(0,v._isString)(e.video.format)?e.video.format:"");if((0,v._isObject)(e.video.source)){if((0,v._isObject)(e.video.source.s3Location)&&(0,v._isString)(e.video.source.s3Location.uri))return{type:"video",mimeType:t,fileId:e.video.source.s3Location.uri};if((0,v._isBytesArray)(e.video.source.bytes))return{type:"video",mimeType:t,data:e.video.source.bytes}}}return{type:"non_standard",value:e}}(t);continue}yield{type:"non_standard",value:t}}}())}function $(e){return Array.from(function*(){for(let t of"string"==typeof e.content?[{type:"text",text:e.content}]:e.content){if((0,v._isContentBlock)(t,"text")&&(0,v._isString)(t.text)){yield{type:"text",text:t.text};continue}if((0,v._isContentBlock)(t,"inlineData")&&(0,v._isObject)(t.inlineData)&&(0,v._isString)(t.inlineData.mimeType)&&(0,v._isString)(t.inlineData.data)){yield{type:"file",mimeType:t.inlineData.mimeType,data:t.inlineData.data};continue}if((0,v._isContentBlock)(t,"functionCall")&&(0,v._isObject)(t.functionCall)&&(0,v._isString)(t.functionCall.name)&&(0,v._isObject)(t.functionCall.args)){yield{type:"tool_call",id:e.id,name:t.functionCall.name,args:t.functionCall.args};continue}else if((0,v._isContentBlock)(t,"functionResponse")){yield{type:"non_standard",value:t};continue}else if((0,v._isContentBlock)(t,"fileData")&&(0,v._isObject)(t.fileData)&&(0,v._isString)(t.fileData.mimeType)&&(0,v._isString)(t.fileData.fileUri)){yield{type:"file",mimeType:t.fileData.mimeType,fileId:t.fileData.fileUri};continue}else if((0,v._isContentBlock)(t,"executableCode")){yield{type:"non_standard",value:t};continue}else if((0,v._isContentBlock)(t,"codeExecutionResult")){yield{type:"non_standard",value:t};continue}yield{type:"non_standard",value:t}}}())}function w(e){return Array.from(function*(){let t="string"==typeof e.content?[{type:"text",text:e.content}]:e.content;for(let r of t){if((0,v._isContentBlock)(r,"reasoning")&&(0,v._isString)(r.reasoning)){let i=(0,v.iife)(()=>{let i=t.indexOf(r);if((0,v._isArray)(e.additional_kwargs?.signatures)&&i>=0)return e.additional_kwargs.signatures.at(i)});(0,v._isString)(i)?yield{type:"reasoning",reasoning:r.reasoning,signature:i}:yield{type:"reasoning",reasoning:r.reasoning};continue}if((0,v._isContentBlock)(r,"text")&&(0,v._isString)(r.text)){yield{type:"text",text:r.text};continue}if((0,v._isContentBlock)(r,"image_url")){if((0,v._isString)(r.image_url))if(r.image_url.startsWith("data:")){let e=/^data:([^;]+);base64,(.+)$/,t=r.image_url.match(e);t?yield{type:"image",data:t[2],mimeType:t[1]}:yield{type:"image",url:r.image_url}}else yield{type:"image",url:r.image_url};continue}else if((0,v._isContentBlock)(r,"media")&&(0,v._isString)(r.mimeType)&&(0,v._isString)(r.data)){yield{type:"file",mimeType:r.mimeType,data:r.data};continue}yield{type:"non_standard",value:r}}}())}function x(e){return globalThis.lc_block_translators_registry.get(e)}globalThis.lc_block_translators_registry??=new Map([["anthropic",g.ChatAnthropicTranslator],["bedrock-converse",{translateContent:b,translateContentChunk:b}],["google-genai",{translateContent:$,translateContentChunk:$}],["google-vertexai",{translateContent:w,translateContentChunk:w}],["openai",_.ChatOpenAITranslator]]);var k=class extends f.BaseMessage{type="ai";tool_calls=[];invalid_tool_calls=[];usage_metadata;get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e){let t;if("string"==typeof e||Array.isArray(e))t={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:{}};else{t=e;const r=t.additional_kwargs?.tool_calls,i=t.tool_calls;null!=r&&r.length>0&&(void 0===i||0===i.length)&&console.warn("New LangChain packages are available that more efficiently handle tool calling.\n\nPlease upgrade your packages to versions that set message tool calls. e.g., `pnpm install @langchain/anthropic`, pnpm install @langchain/openai`, etc.");try{if(null!=r&&void 0===i){const[e,i]=d(r);t.tool_calls=e??[],t.invalid_tool_calls=i??[]}else t.tool_calls=t.tool_calls??[],t.invalid_tool_calls=t.invalid_tool_calls??[]}catch{t.tool_calls=[],t.invalid_tool_calls=[]}if(void 0!==t.response_metadata&&"output_version"in t.response_metadata&&"v1"===t.response_metadata.output_version&&(t.contentBlocks=t.content,t.content=void 0),void 0!==t.contentBlocks){t.contentBlocks.push(...t.tool_calls.map(e=>({type:"tool_call",id:e.id,name:e.name,args:e.args})));const e=t.contentBlocks.filter(e=>"tool_call"===e.type).filter(e=>!t.tool_calls?.some(t=>t.id===e.id&&t.name===e.name));e.length>0&&(t.tool_calls=e.map(e=>({type:"tool_call",id:e.id,name:e.name,args:e.args})))}}super(t),"string"!=typeof t&&(this.tool_calls=t.tool_calls??this.tool_calls,this.invalid_tool_calls=t.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=t.usage_metadata}static lc_name(){return"AIMessage"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&"v1"===this.response_metadata.output_version)return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&"string"==typeof this.response_metadata.model_provider){let e=x(this.response_metadata.model_provider);if(e)return e.translateContent(this)}let e=super.contentBlocks;if(this.tool_calls){let t=this.tool_calls.filter(t=>!e.some(e=>e.id===t.id&&e.name===t.name));e.push(...t.map(e=>({...e,type:"tool_call",id:e.id,name:e.name,args:e.args})))}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}static isInstance(e){return super.isInstance(e)&&"ai"===e.type}};function I(e){return"ai"===e._getType()}function S(e){return"ai"===e._getType()}var O=class extends f.BaseMessageChunk{type="ai";tool_calls=[];invalid_tool_calls=[];tool_call_chunks=[];usage_metadata;constructor(e){let t;if("string"==typeof e||Array.isArray(e))t={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(void 0===e.tool_call_chunks||0===e.tool_call_chunks.length)t={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:void 0!==e.usage_metadata?e.usage_metadata:void 0};else{const r=(e.tool_call_chunks??[]).reduce((e,t)=>{let r=e.findIndex(([e])=>"id"in t&&t.id&&"index"in t&&void 0!==t.index?t.id===e.id&&t.index===e.index:"id"in t&&t.id?t.id===e.id:"index"in t&&void 0!==t.index&&t.index===e.index);return -1!==r?e[r].push(t):e.push([t]),e},[]),i=[],n=[];for(const e of r){let t=null;const r=e[0]?.name??"",a=e.map(e=>e.args||"").join(""),s=a.length?a:"{}",o=e[0]?.id;try{if(t=h(s),!o||null===t||"object"!=typeof t||Array.isArray(t))throw Error("Malformed tool call chunk args.");i.push({name:r,args:t,id:o,type:"tool_call"})}catch{n.push({name:r,args:s,id:o,error:"Malformed args.",type:"invalid_tool_call"})}}t={...e,tool_calls:i,invalid_tool_calls:n,usage_metadata:void 0!==e.usage_metadata?e.usage_metadata:void 0}}super(t),this.tool_call_chunks=t.tool_call_chunks??this.tool_call_chunks,this.tool_calls=t.tool_calls??this.tool_calls,this.invalid_tool_calls=t.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=t.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}get contentBlocks(){if(this.response_metadata&&"output_version"in this.response_metadata&&"v1"===this.response_metadata.output_version)return this.content;if(this.response_metadata&&"model_provider"in this.response_metadata&&"string"==typeof this.response_metadata.model_provider){let e=x(this.response_metadata.model_provider);if(e)return e.translateContent(this)}let e=super.contentBlocks;if(this.tool_calls&&"string"!=typeof this.content){let t=this.content.filter(e=>"tool_call"===e.type).map(e=>e.id);for(let r of this.tool_calls)r.id&&!t.includes(r.id)&&e.push({...r,type:"tool_call",id:r.id,name:r.name,args:r.args})}return e}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){let t={content:(0,f.mergeContent)(this.content,e.content),additional_kwargs:(0,f._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:r(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(void 0!==this.tool_call_chunks||void 0!==e.tool_call_chunks){let r=(0,f._mergeLists)(this.tool_call_chunks,e.tool_call_chunks);void 0!==r&&r.length>0&&(t.tool_call_chunks=r)}return(void 0!==this.usage_metadata||void 0!==e.usage_metadata)&&(t.usage_metadata=n(this.usage_metadata,e.usage_metadata)),new this.constructor(t)}static isInstance(e){return super.isInstance(e)&&"ai"===e.type}};e.s(["AIMessage",()=>k,"AIMessageChunk",()=>O,"isAIMessage",()=>I,"isAIMessageChunk",()=>S],649835)},60427,e=>{"use strict";var t=e.i(640470),r=class extends t.BaseMessage{static lc_name(){return"HumanMessage"}type="human";constructor(e){super(e)}static isInstance(e){return super.isInstance(e)&&"human"===e.type}},i=class extends t.BaseMessageChunk{static lc_name(){return"HumanMessageChunk"}type="human";constructor(e){super(e)}concat(e){return new this.constructor({content:(0,t.mergeContent)(this.content,e.content),additional_kwargs:(0,t._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,t._mergeDicts)(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&"human"===e.type}};function n(e){return"human"===e.getType()}function a(e){return"human"===e.getType()}e.s(["HumanMessage",()=>r,"HumanMessageChunk",()=>i,"isHumanMessage",()=>n,"isHumanMessageChunk",()=>a])},211614,e=>{"use strict";var t=e.i(640470),r=class e extends t.BaseMessage{static lc_name(){return"SystemMessage"}type="system";constructor(e){super(e)}concat(r){if("string"==typeof r)return new e({...this,content:(0,t.mergeContent)(this.content,r)});if(e.isInstance(r))return new e({...this,additional_kwargs:{...this.additional_kwargs,...r.additional_kwargs},response_metadata:{...this.response_metadata,...r.response_metadata},content:(0,t.mergeContent)(this.content,r.content)});throw Error("Unexpected chunk type for system message")}static isInstance(e){return super.isInstance(e)&&"system"===e.type}},i=class extends t.BaseMessageChunk{static lc_name(){return"SystemMessageChunk"}type="system";constructor(e){super(e)}concat(e){return new this.constructor({content:(0,t.mergeContent)(this.content,e.content),additional_kwargs:(0,t._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,t._mergeDicts)(this.response_metadata,e.response_metadata),id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&"system"===e.type}};function n(e){return"system"===e._getType()}function a(e){return"system"===e._getType()}e.s(["SystemMessage",()=>r,"SystemMessageChunk",()=>i,"isSystemMessage",()=>n,"isSystemMessageChunk",()=>a])},922105,e=>{"use strict";let t={randomUUID:e.i(666680).default.randomUUID};e.s(["default",0,t])},799496,e=>{"use strict";var t=e.i(666680);let r=new Uint8Array(256),i=r.length;function n(){return i>r.length-16&&(t.default.randomFillSync(r),i=0),r.slice(i,i+=16)}e.s(["default",()=>n])},486342,590629,e=>{"use strict";let t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,r=function(e){return"string"==typeof e&&t.test(e)};e.s(["default",0,r],590629);let i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function n(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}e.s(["default",0,function(e,t=0){let i=n(e,t);if(!r(i))throw TypeError("Stringified UUID is invalid");return i},"unsafeStringify",()=>n],486342)},723388,e=>{"use strict";var t=e.i(922105),r=e.i(799496),i=e.i(486342);e.s(["default",0,function(e,n,a){if(t.default.randomUUID&&!n&&!e)return t.default.randomUUID();let s=(e=e||{}).random||(e.rng||r.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n){a=a||0;for(let e=0;e<16;++e)n[a+e]=s[e];return n}return(0,i.unsafeStringify)(s)}])},416042,e=>{"use strict";let t={randomUUID:e.i(666680).default.randomUUID};e.s(["default",0,t])},569849,e=>{"use strict";var t=e.i(666680);let r=new Uint8Array(256),i=r.length;function n(){return i>r.length-16&&(t.default.randomFillSync(r),i=0),r.slice(i,i+=16)}e.s(["default",()=>n])},148870,e=>{"use strict";let t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;e.s(["default",0,function(e){return"string"==typeof e&&t.test(e)}],148870)},287305,e=>{"use strict";var t=e.i(148870);let r=[];for(let e=0;e<256;++e)r.push((e+256).toString(16).slice(1));function i(e,t=0){return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}e.s(["default",0,function(e,r=0){let n=i(e,r);if(!(0,t.default)(n))throw TypeError("Stringified UUID is invalid");return n},"unsafeStringify",()=>i])},979750,e=>{"use strict";var t=e.i(416042),r=e.i(569849),i=e.i(287305);e.s(["default",0,function(e,n,a){if(t.default.randomUUID&&!n&&!e)return t.default.randomUUID();let s=(e=e||{}).random||(e.rng||r.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,n){a=a||0;for(let e=0;e<16;++e)n[a+e]=s[e];return n}return(0,i.unsafeStringify)(s)}])},838807,e=>{"use strict";var t=e.i(569849),r=e.i(287305);let i=null,n=null,a=0;e.s(["default",0,function(e,s,o){e=e||{};let l=s&&o||0,u=s||new Uint8Array(16),d=e.random||(e.rng||t.default)(),c=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.seq?e.seq:null,m=n,h=i;return c>a&&void 0===e.msecs&&(a=c,null!==p&&(m=null,h=null)),null!==p&&(p>0x7fffffff&&(p=0x7fffffff),m=p>>>19&4095,h=524287&p),(null===m||null===h)&&(m=(m=127&d[6])<<8|d[7],h=(h=(h=63&d[8])<<8|d[9])<<5|d[10]>>>3),c+1e4>a&&null===p?++h>524287&&(h=0,++m>4095&&(m=0,a++)):a=c,n=m,i=h,u[l++]=a/0x10000000000&255,u[l++]=a/0x100000000&255,u[l++]=a/0x1000000&255,u[l++]=a/65536&255,u[l++]=a/256&255,u[l++]=255&a,u[l++]=m>>>4&15|112,u[l++]=255&m,u[l++]=h>>>13&63|128,u[l++]=h>>>5&255,u[l++]=h<<3&255|7&d[10],u[l++]=d[11],u[l++]=d[12],u[l++]=d[13],u[l++]=d[14],u[l++]=d[15],s||(0,r.unsafeStringify)(u)}])},57387,(e,t,r)=>{"use strict";var i=Object.prototype.hasOwnProperty,n="~";function a(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,i,a){if("function"!=typeof r)throw TypeError("The listener must be a function");var o=new s(r,i||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)i.call(e,t)&&r.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,s=Array(a);i<a;i++)s[i]=r[i].fn;return s},u.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,i,a,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,u,d=this._events[o],c=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),c){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,i),!0;case 5:return d.fn.call(d.context,t,r,i,a),!0;case 6:return d.fn.call(d.context,t,r,i,a,s),!0}for(u=1,l=Array(c-1);u<c;u++)l[u-1]=arguments[u];d.fn.apply(d.context,l)}else{var p,m=d.length;for(u=0;u<m;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),c){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,r);break;case 4:d[u].fn.call(d[u].context,t,r,i);break;default:if(!l)for(p=1,l=Array(c-1);p<c;p++)l[p-1]=arguments[p];d[u].fn.apply(d[u].context,l)}}return!0},u.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||l(this,a);else{for(var o=0,u=[],d=s.length;o<d;o++)(s[o].fn!==t||i&&!s[o].once||r&&s[o].context!==r)&&u.push(s[o]);u.length?this._events[a]=1===u.length?u[0]:u:l(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u},352933,(e,t,r)=>{"use strict";t.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},676469,(e,t,r)=>{"use strict";let i=e.r(352933);class n extends Error{constructor(e){super(e),this.name="TimeoutError"}}let a=(e,t,r)=>new Promise((a,s)=>{if("number"!=typeof t||t<0)throw TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void a(e);let o=setTimeout(()=>{if("function"==typeof r){try{a(r())}catch(e){s(e)}return}let i="string"==typeof r?r:`Promise timed out after ${t} milliseconds`,o=r instanceof Error?r:new n(i);"function"==typeof e.cancel&&e.cancel(),s(o)},t);i(e.then(a,s),()=>{clearTimeout(o)})});t.exports=a,t.exports.default=a,t.exports.TimeoutError=n},6362,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){let i=0,n=e.length;for(;n>0;){let a=n/2|0,s=i+a;0>=r(e[s],t)?(i=++s,n-=a+1):n=a}return i}},4264,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(6362);r.default=class{constructor(){this._queue=[]}enqueue(e,t){let r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);let n=i.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(n,0,r)}dequeue(){let e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},655747,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(57387),n=e.r(676469),a=e.r(4264),s=()=>{},o=new n.TimeoutError;r.default=class extends i{constructor(e){var t,r,i,n;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:a.default},e)).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(r=null==(t=e.intervalCap)?void 0:t.toString())?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(n=null==(i=e.interval)?void 0:i.toString())?n:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(void 0===this._intervalId){let t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((r,i)=>{let a=async()=>{this._pendingCount++,this._intervalCount++;try{let a=void 0===this._timeout&&void 0===t.timeout?e():n.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&i(o)});r(await a)}catch(e){i(e)}this._next()};this._queue.enqueue(a,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},138703,(e,t,r)=>{"use strict";t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||0x1fffffffffffff,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},591130,(e,t,r)=>{"use strict";t.exports="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{}},70547,(e,t,r)=>{"use strict";let{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:a}=e.r(138703),s=e.r(591130),o=(r=t.exports={}).re=[],l=r.safeRe=[],u=r.src=[],d=r.safeSrc=[],c=r.t={},p=0,m="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",a],[m,n]],f=(e,t,r)=>{let i=(e=>{for(let[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),n=p++;s(e,n,t),c[e]=n,u[n]=t,d[n]=i,o[n]=new RegExp(t,r?"g":void 0),l[n]=new RegExp(i,r?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${m}*`),f("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${u[c.NONNUMERICIDENTIFIER]}|${u[c.NUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NONNUMERICIDENTIFIER]}|${u[c.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${m}+`),f("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),f("FULL",`^${u[c.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),f("LOOSE",`^${u[c.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),f("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),f("COERCE",`${u[c.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",u[c.COERCEPLAIN]+`(?:${u[c.PRERELEASE]})?`+`(?:${u[c.BUILD]})?`+"(?:$|[^\\d])"),f("COERCERTL",u[c.COERCE],!0),f("COERCERTLFULL",u[c.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",f("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",f("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},782789,(e,t,r)=>{"use strict";let i=Object.freeze({loose:!0}),n=Object.freeze({});t.exports=e=>e?"object"!=typeof e?i:e:n},318429,(e,t,r)=>{"use strict";let i=/^[0-9]+$/,n=(e,t)=>{if("number"==typeof e&&"number"==typeof t)return e===t?0:e<t?-1:1;let r=i.test(e),n=i.test(t);return r&&n&&(e*=1,t*=1),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};t.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},620326,(e,t,r)=>{"use strict";let i=e.r(591130),{MAX_LENGTH:n,MAX_SAFE_INTEGER:a}=e.r(138703),{safeRe:s,t:o}=e.r(70547),l=e.r(782789),{compareIdentifiers:u}=e.r(318429);class d{constructor(e,t){if(t=l(t),e instanceof d)if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;else e=e.version;else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>n)throw TypeError(`version is longer than ${n} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[o.LOOSE]:s[o.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>a||this.major<0)throw TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<a)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof d)){if("string"==typeof e&&e===this.version)return 0;e=new d(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return(e instanceof d||(e=new d(e,this.options)),this.major<e.major)?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:+(this.patch>e.patch)}comparePre(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],n=e.prerelease[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return -1;else if(r===n)continue;else return u(r,n)}while(++t)}compareBuild(e){e instanceof d||(e=new d(e,this.options));let t=0;do{let r=this.build[t],n=e.build[t];if(i("build compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return -1;else if(r===n)continue;else return u(r,n)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(t){let e=`-${t}`.match(this.options.loose?s[o.PRERELEASELOOSE]:s[o.PRERELEASE]);if(!e||e[1]!==t)throw Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=+!!Number(r);if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===r&&(i=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=d},235759,(e,t,r)=>{"use strict";let i=e.r(620326);t.exports=(e,t,r=!1)=>{if(e instanceof i)return e;try{return new i(e,t)}catch(e){if(!r)return null;throw e}}},600032,(e,t,r)=>{"use strict";let i=e.r(235759);t.exports=(e,t)=>{let r=i(e,t);return r?r.version:null}},76730,(e,t,r)=>{"use strict";let i=e.r(235759);t.exports=(e,t)=>{let r=i(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},196161,(e,t,r)=>{"use strict";let i=e.r(620326);t.exports=(e,t,r,n,a)=>{"string"==typeof r&&(a=n,n=r,r=void 0);try{return new i(e instanceof i?e.version:e,r).inc(t,n,a).version}catch(e){return null}}},716022,(e,t,r)=>{"use strict";let i=e.r(235759);t.exports=(e,t)=>{let r=i(e,null,!0),n=i(t,null,!0),a=r.compare(n);if(0===a)return null;let s=a>0,o=s?r:n,l=s?n:r,u=!!o.prerelease.length;if(l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(o))return l.minor&&!l.patch?"minor":"patch"}let d=u?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"}},808645,(e,t,r)=>{"use strict";let i=e.r(620326);t.exports=(e,t)=>new i(e,t).major},462196,(e,t,r)=>{"use strict";let i=e.r(620326);t.exports=(e,t)=>new i(e,t).minor},52686,(e,t,r)=>{"use strict";let i=e.r(620326);t.exports=(e,t)=>new i(e,t).patch},613523,(e,t,r)=>{"use strict";let i=e.r(235759);t.exports=(e,t)=>{let r=i(e,t);return r&&r.prerelease.length?r.prerelease:null}},604668,(e,t,r)=>{"use strict";let i=e.r(620326);t.exports=(e,t,r)=>new i(e,r).compare(new i(t,r))},760808,(e,t,r)=>{"use strict";let i=e.r(604668);t.exports=(e,t,r)=>i(t,e,r)},298480,(e,t,r)=>{"use strict";let i=e.r(604668);t.exports=(e,t)=>i(e,t,!0)},579552,(e,t,r)=>{"use strict";let i=e.r(620326);t.exports=(e,t,r)=>{let n=new i(e,r),a=new i(t,r);return n.compare(a)||n.compareBuild(a)}},418817,(e,t,r)=>{"use strict";let i=e.r(579552);t.exports=(e,t)=>e.sort((e,r)=>i(e,r,t))},443007,(e,t,r)=>{"use strict";let i=e.r(579552);t.exports=(e,t)=>e.sort((e,r)=>i(r,e,t))},656381,(e,t,r)=>{"use strict";let i=e.r(604668);t.exports=(e,t,r)=>i(e,t,r)>0},499583,(e,t,r)=>{"use strict";let i=e.r(604668);t.exports=(e,t,r)=>0>i(e,t,r)},66010,(e,t,r)=>{"use strict";let i=e.r(604668);t.exports=(e,t,r)=>0===i(e,t,r)},9282,(e,t,r)=>{"use strict";let i=e.r(604668);t.exports=(e,t,r)=>0!==i(e,t,r)},287709,(e,t,r)=>{"use strict";let i=e.r(604668);t.exports=(e,t,r)=>i(e,t,r)>=0},148467,(e,t,r)=>{"use strict";let i=e.r(604668);t.exports=(e,t,r)=>0>=i(e,t,r)},436269,(e,t,r)=>{"use strict";let i=e.r(66010),n=e.r(9282),a=e.r(656381),s=e.r(287709),o=e.r(499583),l=e.r(148467);t.exports=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return i(e,r,u);case"!=":return n(e,r,u);case">":return a(e,r,u);case">=":return s(e,r,u);case"<":return o(e,r,u);case"<=":return l(e,r,u);default:throw TypeError(`Invalid operator: ${t}`)}}},964166,(e,t,r)=>{"use strict";let i=e.r(620326),n=e.r(235759),{safeRe:a,t:s}=e.r(70547);t.exports=(e,t)=>{if(e instanceof i)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let i,n=t.includePrerelease?a[s.COERCERTLFULL]:a[s.COERCERTL];for(;(i=n.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&i.index+i[0].length===r.index+r[0].length||(r=i),n.lastIndex=i.index+i[1].length+i[2].length;n.lastIndex=-1}else r=e.match(t.includePrerelease?a[s.COERCEFULL]:a[s.COERCE]);if(null===r)return null;let o=r[2],l=r[3]||"0",u=r[4]||"0",d=t.includePrerelease&&r[5]?`-${r[5]}`:"",c=t.includePrerelease&&r[6]?`+${r[6]}`:"";return n(`${o}.${l}.${u}${d}${c}`,t)}},980661,(e,t,r)=>{"use strict";t.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},193006,(e,t,r)=>{"use strict";let i=/\s+/g;class n{constructor(e,t){if(t=s(t),e instanceof n)if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;else return new n(e.raw,t);if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(i," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!_(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(const e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&f)|(this.options.loose&&g))+":"+e,r=a.get(t);if(r)return r;let i=this.options.loose,n=i?d[c.HYPHENRANGELOOSE]:d[c.HYPHENRANGE];l("hyphen replace",e=e.replace(n,A(this.options.includePrerelease))),l("comparator trim",e=e.replace(d[c.COMPARATORTRIM],p)),l("tilde trim",e=e.replace(d[c.TILDETRIM],m)),l("caret trim",e=e.replace(d[c.CARETTRIM],h));let s=e.split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>T(e,this.options));i&&(s=s.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(d[c.COMPARATORLOOSE])))),l("range list",s);let u=new Map;for(let e of s.map(e=>new o(e,this.options))){if(_(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");let v=[...u.values()];return a.set(t,v),v}intersects(e,t){if(!(e instanceof n))throw TypeError("a Range is required");return this.set.some(r=>y(r,t)&&e.set.some(e=>y(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(N(this.set[t],e,this.options))return!0;return!1}}t.exports=n;let a=new(e.r(980661)),s=e.r(782789),o=e.r(321984),l=e.r(591130),u=e.r(620326),{safeRe:d,t:c,comparatorTrimReplace:p,tildeTrimReplace:m,caretTrimReplace:h}=e.r(70547),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:g}=e.r(138703),_=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,y=(e,t)=>{let r=!0,i=e.slice(),n=i.pop();for(;r&&i.length;)r=i.every(e=>n.intersects(e,t)),n=i.pop();return r},b=(e,t)=>(l("comp",e=e.replace(d[c.BUILD],""),t),l("caret",e=k(e,t)),l("tildes",e=w(e,t)),l("xrange",e=S(e,t)),l("stars",e=E(e,t)),e),$=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map(e=>x(e,t)).join(" "),x=(e,t)=>{let r=t.loose?d[c.TILDELOOSE]:d[c.TILDE];return e.replace(r,(t,r,i,n,a)=>{let s;return l("tilde",e,t,r,i,n,a),$(r)?s="":$(i)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:$(n)?s=`>=${r}.${i}.0 <${r}.${+i+1}.0-0`:a?(l("replaceTilde pr",a),s=`>=${r}.${i}.${n}-${a} <${r}.${+i+1}.0-0`):s=`>=${r}.${i}.${n} <${r}.${+i+1}.0-0`,l("tilde return",s),s})},k=(e,t)=>e.trim().split(/\s+/).map(e=>I(e,t)).join(" "),I=(e,t)=>{l("caret",e,t);let r=t.loose?d[c.CARETLOOSE]:d[c.CARET],i=t.includePrerelease?"-0":"";return e.replace(r,(t,r,n,a,s)=>{let o;return l("caret",e,t,r,n,a,s),$(r)?o="":$(n)?o=`>=${r}.0.0${i} <${+r+1}.0.0-0`:$(a)?o="0"===r?`>=${r}.${n}.0${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.0${i} <${+r+1}.0.0-0`:s?(l("replaceCaret pr",s),o="0"===r?"0"===n?`>=${r}.${n}.${a}-${s} <${r}.${n}.${+a+1}-0`:`>=${r}.${n}.${a}-${s} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${a}-${s} <${+r+1}.0.0-0`):(l("no pr"),o="0"===r?"0"===n?`>=${r}.${n}.${a}${i} <${r}.${n}.${+a+1}-0`:`>=${r}.${n}.${a}${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${a} <${+r+1}.0.0-0`),l("caret return",o),o})},S=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>O(e,t)).join(" ")),O=(e,t)=>{e=e.trim();let r=t.loose?d[c.XRANGELOOSE]:d[c.XRANGE];return e.replace(r,(r,i,n,a,s,o)=>{l("xRange",e,r,i,n,a,s,o);let u=$(n),d=u||$(a),c=d||$(s);return"="===i&&c&&(i=""),o=t.includePrerelease?"-0":"",u?r=">"===i||"<"===i?"<0.0.0-0":"*":i&&c?(d&&(a=0),s=0,">"===i?(i=">=",d?(n=+n+1,a=0):a=+a+1,s=0):"<="===i&&(i="<",d?n=+n+1:a=+a+1),"<"===i&&(o="-0"),r=`${i+n}.${a}.${s}${o}`):d?r=`>=${n}.0.0${o} <${+n+1}.0.0-0`:c&&(r=`>=${n}.${a}.0${o} <${n}.${+a+1}.0-0`),l("xRange return",r),r})},E=(e,t)=>(l("replaceStars",e,t),e.trim().replace(d[c.STAR],"")),T=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(d[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),A=e=>(t,r,i,n,a,s,o,l,u,d,c,p)=>(r=$(i)?"":$(n)?`>=${i}.0.0${e?"-0":""}`:$(a)?`>=${i}.${n}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`,l=$(u)?"":$(d)?`<${+u+1}.0.0-0`:$(c)?`<${u}.${+d+1}.0-0`:p?`<=${u}.${d}.${c}-${p}`:e?`<${u}.${d}.${+c+1}-0`:`<=${l}`,`${r} ${l}`.trim()),N=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(l(e[r].semver),e[r].semver!==o.ANY&&e[r].semver.prerelease.length>0){let i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},321984,(e,t,r)=>{"use strict";let i=Symbol("SemVer ANY");class n{static get ANY(){return i}constructor(e,t){if(t=a(t),e instanceof n)if(!!t.loose===e.loose)return e;else e=e.value;u("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){let t=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new d(r[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new c(e.value,t).test(this.value):""===e.operator?""===e.value||new c(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}t.exports=n;let a=e.r(782789),{safeRe:s,t:o}=e.r(70547),l=e.r(436269),u=e.r(591130),d=e.r(620326),c=e.r(193006)},870482,(e,t,r)=>{"use strict";let i=e.r(193006);t.exports=(e,t,r)=>{try{t=new i(t,r)}catch(e){return!1}return t.test(e)}},187095,(e,t,r)=>{"use strict";let i=e.r(193006);t.exports=(e,t)=>new i(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},492685,(e,t,r)=>{"use strict";let i=e.r(620326),n=e.r(193006);t.exports=(e,t,r)=>{let a=null,s=null,o=null;try{o=new n(t,r)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||-1===s.compare(e))&&(s=new i(a=e,r))}),a}},492500,(e,t,r)=>{"use strict";let i=e.r(620326),n=e.r(193006);t.exports=(e,t,r)=>{let a=null,s=null,o=null;try{o=new n(t,r)}catch(e){return null}return e.forEach(e=>{o.test(e)&&(!a||1===s.compare(e))&&(s=new i(a=e,r))}),a}},356388,(e,t,r)=>{"use strict";let i=e.r(620326),n=e.r(193006),a=e.r(656381);t.exports=(e,t)=>{e=new n(e,t);let r=new i("0.0.0");if(e.test(r)||(r=new i("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let n=e.set[t],s=null;n.forEach(e=>{let t=new i(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||a(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!r||a(r,s))&&(r=s)}return r&&e.test(r)?r:null}},404934,(e,t,r)=>{"use strict";let i=e.r(193006);t.exports=(e,t)=>{try{return new i(e,t).range||"*"}catch(e){return null}}},866294,(e,t,r)=>{"use strict";let i=e.r(620326),n=e.r(321984),{ANY:a}=n,s=e.r(193006),o=e.r(870482),l=e.r(656381),u=e.r(499583),d=e.r(148467),c=e.r(287709);t.exports=(e,t,r,p)=>{let m,h,f,g,_;switch(e=new i(e,p),t=new s(t,p),r){case">":m=l,h=d,f=u,g=">",_=">=";break;case"<":m=u,h=c,f=l,g="<",_="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,p))return!1;for(let r=0;r<t.set.length;++r){let i=t.set[r],s=null,o=null;if(i.forEach(e=>{e.semver===a&&(e=new n(">=0.0.0")),s=s||e,o=o||e,m(e.semver,s.semver,p)?s=e:f(e.semver,o.semver,p)&&(o=e)}),s.operator===g||s.operator===_||(!o.operator||o.operator===g)&&h(e,o.semver)||o.operator===_&&f(e,o.semver))return!1}return!0}},778757,(e,t,r)=>{"use strict";let i=e.r(866294);t.exports=(e,t,r)=>i(e,t,">",r)},56605,(e,t,r)=>{"use strict";let i=e.r(866294);t.exports=(e,t,r)=>i(e,t,"<",r)},51045,(e,t,r)=>{"use strict";let i=e.r(193006);t.exports=(e,t,r)=>(e=new i(e,r),t=new i(t,r),e.intersects(t,r))},487138,(e,t,r)=>{"use strict";let i=e.r(870482),n=e.r(604668);t.exports=(e,t,r)=>{let a=[],s=null,o=null,l=e.sort((e,t)=>n(e,t,r));for(let e of l)i(e,t,r)?(o=e,s||(s=e)):(o&&a.push([s,o]),o=null,s=null);s&&a.push([s,null]);let u=[];for(let[e,t]of a)e===t?u.push(e):t||e!==l[0]?t?e===l[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");let d=u.join(" || "),c="string"==typeof t.raw?t.raw:String(t);return d.length<c.length?d:t}},170414,(e,t,r)=>{"use strict";let i=e.r(193006),n=e.r(321984),{ANY:a}=n,s=e.r(870482),o=e.r(604668),l=[new n(">=0.0.0-0")],u=[new n(">=0.0.0")],d=(e,t,r)=>{let i,n,d,m,h,f,g;if(e===t)return!0;if(1===e.length&&e[0].semver===a)if(1===t.length&&t[0].semver===a)return!0;else e=r.includePrerelease?l:u;if(1===t.length&&t[0].semver===a)if(r.includePrerelease)return!0;else t=u;let _=new Set;for(let t of e)">"===t.operator||">="===t.operator?i=c(i,t,r):"<"===t.operator||"<="===t.operator?n=p(n,t,r):_.add(t.semver);if(_.size>1)return null;if(i&&n&&((d=o(i.semver,n.semver,r))>0||0===d&&(">="!==i.operator||"<="!==n.operator)))return null;for(let e of _){if(i&&!s(e,String(i),r)||n&&!s(e,String(n),r))return null;for(let i of t)if(!s(e,String(i),r))return!1;return!0}let v=!!n&&!r.includePrerelease&&!!n.semver.prerelease.length&&n.semver,y=!!i&&!r.includePrerelease&&!!i.semver.prerelease.length&&i.semver;for(let e of(v&&1===v.prerelease.length&&"<"===n.operator&&0===v.prerelease[0]&&(v=!1),t)){if(g=g||">"===e.operator||">="===e.operator,f=f||"<"===e.operator||"<="===e.operator,i){if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if((m=c(i,e,r))===e&&m!==i)return!1}else if(">="===i.operator&&!s(i.semver,String(e),r))return!1}if(n){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if((h=p(n,e,r))===e&&h!==n)return!1}else if("<="===n.operator&&!s(n.semver,String(e),r))return!1}if(!e.operator&&(n||i)&&0!==d)return!1}return(!i||!f||!!n||0===d)&&(!n||!g||!!i||0===d)&&!y&&!v&&!0},c=(e,t,r)=>{if(!e)return t;let i=o(e.semver,t.semver,r);return i>0?e:i<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,r)=>{if(!e)return t;let i=o(e.semver,t.semver,r);return i<0?e:i>0||"<"===t.operator&&"<="===e.operator?t:e};t.exports=(e,t,r={})=>{if(e===t)return!0;e=new i(e,r),t=new i(t,r);let n=!1;e:for(let i of e.set){for(let e of t.set){let t=d(i,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0}},348680,(e,t,r)=>{"use strict";let i=e.r(70547),n=e.r(138703),a=e.r(620326),s=e.r(318429),o=e.r(235759),l=e.r(600032),u=e.r(76730),d=e.r(196161),c=e.r(716022),p=e.r(808645),m=e.r(462196),h=e.r(52686),f=e.r(613523),g=e.r(604668),_=e.r(760808),v=e.r(298480),y=e.r(579552),b=e.r(418817),$=e.r(443007),w=e.r(656381),x=e.r(499583),k=e.r(66010),I=e.r(9282),S=e.r(287709),O=e.r(148467),E=e.r(436269),T=e.r(964166),A=e.r(321984),N=e.r(193006),j=e.r(870482),P=e.r(187095),C=e.r(492685),Z=e.r(492500),z=e.r(356388),U=e.r(404934),R=e.r(866294),D=e.r(778757),L=e.r(56605),M=e.r(51045);t.exports={parse:o,valid:l,clean:u,inc:d,diff:c,major:p,minor:m,patch:h,prerelease:f,compare:g,rcompare:_,compareLoose:v,compareBuild:y,sort:b,rsort:$,gt:w,lt:x,eq:k,neq:I,gte:S,lte:O,cmp:E,coerce:T,Comparator:A,Range:N,satisfies:j,toComparators:P,maxSatisfying:C,minSatisfying:Z,minVersion:z,validRange:U,outside:R,gtr:D,ltr:L,intersects:M,simplifyRange:e.r(487138),subset:e.r(170414),SemVer:a,re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},71305,e=>{"use strict";var t=e.i(148870);e.s(["default",0,function(e){let r;if(!(0,t.default)(e))throw TypeError("Invalid UUID");let i=new Uint8Array(16);return i[0]=(r=parseInt(e.slice(0,8),16))>>>24,i[1]=r>>>16&255,i[2]=r>>>8&255,i[3]=255&r,i[4]=(r=parseInt(e.slice(9,13),16))>>>8,i[5]=255&r,i[6]=(r=parseInt(e.slice(14,18),16))>>>8,i[7]=255&r,i[8]=(r=parseInt(e.slice(19,23),16))>>>8,i[9]=255&r,i[10]=(r=parseInt(e.slice(24,36),16))/0x10000000000&255,i[11]=r/0x100000000&255,i[12]=r>>>24&255,i[13]=r>>>16&255,i[14]=r>>>8&255,i[15]=255&r,i}])},718641,e=>{"use strict";var t=e.i(287305),r=e.i(71305);function i(e,i,n){function a(e,a,s,o){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof a&&(a=(0,r.default)(a)),(null==(l=a)?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(a),u.set(e,a.length),(u=n(u))[6]=15&u[6]|i,u[8]=63&u[8]|128,s){o=o||0;for(let e=0;e<16;++e)s[o+e]=u[e];return s}return(0,t.unsafeStringify)(u)}try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}e.s(["default",()=>i])},445989,e=>{"use strict";var t=e.i(718641),r=e.i(666680);let i=(0,t.default)("v5",80,function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),r.default.createHash("sha1").update(e).digest()});e.s(["default",0,i],445989)},704567,(e,t,r)=>{"use strict";let i=(e=0)=>t=>`\u001B[${38+e};5;${t}m`,n=(e=0)=>(t,r,i)=>`\u001B[${38+e};2;${t};${r};${i}m`;Object.defineProperty(t,"exports",{enumerable:!0,get:function(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};for(let[r,i]of(t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright,Object.entries(t))){for(let[r,n]of Object.entries(i))t[r]={open:`\u001B[${n[0]}m`,close:`\u001B[${n[1]}m`},i[r]=t[r],e.set(n[0],n[1]);Object.defineProperty(t,r,{value:i,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",t.color.ansi256=i(),t.color.ansi16m=n(),t.bgColor.ansi256=i(10),t.bgColor.ansi16m=n(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,r)=>e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:e=>{let t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:r}=t.groups;3===r.length&&(r=r.split("").map(e=>e+e).join(""));let i=Number.parseInt(r,16);return[i>>16&255,i>>8&255,255&i]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}})},736850,e=>{"use strict";let t=Object.prototype.toString,r=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function i(e,t,{min:r=0,allowInfinity:n=!1}={}){if(void 0!==t){if("number"!=typeof t||Number.isNaN(t))throw TypeError(`Expected \`${e}\` to be a number${n?" or Infinity":""}.`);if(!n&&!Number.isFinite(t))throw TypeError(`Expected \`${e}\` to be a finite number.`);if(t<r)throw TypeError(`Expected \`${e}\` to be \u2265 ${r}.`)}}class n extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function a(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}async function s({error:e,attemptNumber:i,retriesConsumed:s,startTime:o,options:l}){let u,d=e instanceof Error?e:TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(d instanceof n)throw d.originalError;let c=Number.isFinite(l.retries)?Math.max(0,l.retries-s):l.retries,p=l.maxRetryTime??1/0,m=Object.freeze({error:d,attemptNumber:i,retriesLeft:c,retriesConsumed:s});if(await l.onFailedAttempt(m),0>=a(o,p))throw d;let h=await l.shouldConsumeRetry(m),f=a(o,p);if(f<=0||c<=0)throw d;if(d instanceof TypeError&&!function(e){if(!(e&&"[object Error]"===t.call(e)&&"TypeError"===e.name&&"string"==typeof e.message))return!1;let{message:i,stack:n}=e;return"Load failed"===i?void 0===n||"__sentry_captured__"in e:!!i.startsWith("error sending request for url")||r.has(i)}(d)){if(h)throw d;return l.signal?.throwIfAborted(),!1}if(!await l.shouldRetry(m))throw d;if(!h)return l.signal?.throwIfAborted(),!1;let g=Math.min((u=Math.max(1,s+1),Math.min(Math.round((l.randomize?Math.random()+1:1)*l.minTimeout*l.factor**(u-1)),l.maxTimeout)),f);return g>0&&await new Promise((e,t)=>{let r=()=>{clearTimeout(i),l.signal?.removeEventListener("abort",r),t(l.signal.reason)},i=setTimeout(()=>{l.signal?.removeEventListener("abort",r),e()},g);l.unref&&i.unref?.(),l.signal?.addEventListener("abort",r,{once:!0})}),l.signal?.throwIfAborted(),!0}async function o(e,t={}){var r=(t={...t}).retries;if("number"==typeof r){if(r<0)throw TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(r))throw TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(void 0!==r)throw TypeError("Expected `retries` to be a number or Infinity.");if(Object.hasOwn(t,"forever"))throw Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??=10,t.factor??=2,t.minTimeout??=1e3,t.maxTimeout??=1/0,t.maxRetryTime??=1/0,t.randomize??=!1,t.onFailedAttempt??=()=>{},t.shouldRetry??=()=>!0,t.shouldConsumeRetry??=()=>!0,i("factor",t.factor,{min:0,allowInfinity:!1}),i("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),i("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),i("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),t.signal?.throwIfAborted();let n=0,a=0,l=performance.now();for(;!Number.isFinite(t.retries)||a<=t.retries;){n++;try{t.signal?.throwIfAborted();let r=await e(n);return t.signal?.throwIfAborted(),r}catch(e){await s({error:e,attemptNumber:n,retriesConsumed:a,startTime:l,options:t})&&a++}}throw Error("Retry attempts exhausted without throwing an error.")}function l(e,t){return function(...r){return o(()=>e.apply(this,r),t)}}e.s(["AbortError",()=>n,"default",()=>o,"makeRetriable",()=>l],736850)},637253,151191,622480,869065,642416,329494,496827,662394,206696,200587,869070,640516,115995,890406,707224,118755,985250,976044,664527,668508,23768,240727,759523,519886,324902,784327,433651,326176,335433,764752,249174,866753,701952,868576,947997,344249,384795,20140,819548,59393,194e3,598743,666815,235897,71972,692856,800137,746386,352447,688078,434591,962468,832057,13791,312231,256609,268840,940470,504501,151565,386614,921462,329828,597656,801615,279861,975315,756278,832534,319505,704902,519344,588428,797008,504954,989295,862292,123035,500028,359799,84850,322473,238073,529515,645668,370536,262144,785337,827599,420204,e=>{"use strict";let t,r,i,n,a,s,o,l;var u,d,c,p,m,h,f,g,_,v,y=e.i(675736),b=e.i(507577),$=e.i(403929),w=e.i(640470),x=e.i(367751),k=e.i(771863),I=e.i(649835),S=w,O=class e extends S.BaseMessage{static lc_name(){return"ChatMessage"}type="generic";role;static _chatMessageClass(){return e}constructor(e,t){("string"==typeof e||Array.isArray(e))&&(e={content:e,role:t}),super(e),this.role=e.role}static isInstance(e){return super.isInstance(e)&&"generic"===e.type}get _printableFields(){return{...super._printableFields,role:this.role}}},E=class extends S.BaseMessageChunk{static lc_name(){return"ChatMessageChunk"}type="generic";role;constructor(e,t){("string"==typeof e||Array.isArray(e))&&(e={content:e,role:t}),super(e),this.role=e.role}concat(e){return new this.constructor({content:(0,S.mergeContent)(this.content,e.content),additional_kwargs:(0,S._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,S._mergeDicts)(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}static isInstance(e){return super.isInstance(e)&&"generic"===e.type}get _printableFields(){return{...super._printableFields,role:this.role}}};function T(e){return"generic"===e._getType()}function A(e){return"generic"===e._getType()}e.s(["ChatMessage",()=>O,"ChatMessageChunk",()=>E,"isChatMessage",()=>T,"isChatMessageChunk",()=>A],151191);var N=w,j=class extends N.BaseMessage{static lc_name(){return"FunctionMessage"}type="function";name;constructor(e){super(e),this.name=e.name}},P=class extends N.BaseMessageChunk{static lc_name(){return"FunctionMessageChunk"}type="function";concat(e){return new this.constructor({content:(0,N.mergeContent)(this.content,e.content),additional_kwargs:(0,N._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,N._mergeDicts)(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}};function C(e){return"function"===e._getType()}function Z(e){return"function"===e._getType()}e.s(["FunctionMessage",()=>j,"FunctionMessageChunk",()=>P,"isFunctionMessage",()=>C,"isFunctionMessageChunk",()=>Z],622480);var z=e.i(60427),U=e.i(211614),R=w,D=class extends R.BaseMessage{type="remove";id;constructor(e){super({...e,content:[]}),this.id=e.id}get _printableFields(){return{...super._printableFields,id:this.id}}static isInstance(e){return super.isInstance(e)&&"remove"===e.type}};function L(e,t){return e.lc_error_code=t,e.message=`${e.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${t}/
`,e}function M(e){return!!(e&&"object"==typeof e&&"type"in e&&"tool_call"===e.type)}function F(e){return!!(e&&"object"==typeof e&&"toolCall"in e&&null!=e.toolCall&&"object"==typeof e.toolCall&&"id"in e.toolCall&&"string"==typeof e.toolCall.id)}e.s(["addLangChainErrorFields",()=>L],869065);var B=class extends Error{output;constructor(e,t){super(e),this.output=t}};e.s(["ToolInputParsingException",()=>B,"_configHasToolCallId",()=>F,"_isToolCall",()=>M],642416);let J=e=>e();function W(e){return M(e)?e:"string"==typeof e.id&&"function"===e.type&&"object"==typeof e.function&&null!==e.function&&"arguments"in e.function&&"string"==typeof e.function.arguments&&"name"in e.function&&"string"==typeof e.function.name?{id:e.id,args:JSON.parse(e.function.arguments),name:e.function.name,type:"tool_call"}:e}function V(e){let t,r;if("object"==typeof e&&null!=e&&1===e.lc&&Array.isArray(e.id)&&null!=e.kwargs&&"object"==typeof e.kwargs){let i=e.id.at(-1);t="HumanMessage"===i||"HumanMessageChunk"===i?"user":"AIMessage"===i||"AIMessageChunk"===i?"assistant":"SystemMessage"===i||"SystemMessageChunk"===i?"system":"FunctionMessage"===i||"FunctionMessageChunk"===i?"function":"ToolMessage"===i||"ToolMessageChunk"===i?"tool":"unknown",r=e.kwargs}else{let{type:i,...n}=e;t=i,r=n}if("human"===t||"user"===t)return new z.HumanMessage(r);if("ai"===t||"assistant"===t){let{tool_calls:e,...t}=r;if(!Array.isArray(e))return new I.AIMessage(r);let i=e.map(W);return new I.AIMessage({...t,tool_calls:i})}if("system"===t)return new U.SystemMessage(r);if("developer"===t)return new U.SystemMessage({...r,additional_kwargs:{...r.additional_kwargs,__openai_role__:"developer"}});if("tool"===t&&"tool_call_id"in r)return new k.ToolMessage({...r,content:r.content,tool_call_id:r.tool_call_id,name:r.name});if("remove"===t&&"id"in r&&"string"==typeof r.id)return new D({...r,id:r.id});throw L(Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(e,null,2)}`),"MESSAGE_COERCION_FAILURE")}function G(e){if("string"==typeof e)return new z.HumanMessage(e);if((0,w.isBaseMessage)(e))return e;if(Array.isArray(e)){let[t,r]=e;return V({type:t,content:r})}if(!(0,w._isMessageFieldWithRole)(e))return V(e);{let{role:t,...r}=e;return V({...r,type:t})}}function q(e,t="Human",r="AI"){let i=[];for(let n of e){let e;if("human"===n._getType())e=t;else if("ai"===n._getType())e=r;else if("system"===n._getType())e="System";else if("tool"===n._getType())e="Tool";else if("generic"===n._getType())e=n.role;else throw Error(`Got unsupported message type: ${n._getType()}`);let a=n.name?`${n.name}, `:"",s="string"==typeof n.content?n.content:JSON.stringify(n.content,null,2);i.push(`${e}: ${a}${s}`)}return i.join("\n")}function K(e){let t=void 0!==e.data?e:{type:e.type,data:{content:e.text,role:e.role,name:void 0,tool_call_id:void 0}};switch(t.type){case"human":return new z.HumanMessage(t.data);case"ai":return new I.AIMessage(t.data);case"system":return new U.SystemMessage(t.data);case"function":if(void 0===t.data.name)throw Error("Name must be defined for function messages");return new j(t.data);case"tool":if(void 0===t.data.tool_call_id)throw Error("Tool call ID must be defined for tool messages");return new k.ToolMessage(t.data);case"generic":if(void 0===t.data.role)throw Error("Role must be defined for chat messages");return new O(t.data);default:throw Error(`Got unexpected type: ${t.type}`)}}function H(e){return e.map(K)}function X(e){return e.map(e=>e.toDict())}function Y(e){let t=e._getType();if("human"===t)return new z.HumanMessageChunk({...e});if("ai"===t){let t={...e};return"tool_calls"in t&&(t={...t,tool_call_chunks:t.tool_calls?.map(e=>({...e,type:"tool_call_chunk",index:void 0,args:JSON.stringify(e.args)}))}),new I.AIMessageChunk({...t})}if("system"===t)return new U.SystemMessageChunk({...e});if("function"===t)return new P({...e});if(O.isInstance(e))return new E({...e});else throw Error("Unknown message type.")}e.s(["coerceMessageLikeToMessage",()=>G,"convertToChunk",()=>Y,"getBufferString",()=>q,"iife",()=>J,"mapChatMessagesToStoredMessages",()=>X,"mapStoredMessageToChatMessage",()=>K,"mapStoredMessagesToChatMessages",()=>H],329494);var Q=e.i(756740);let ee=Symbol.for("ls:tracing_async_local_storage"),et=Symbol.for("lc:context_variables"),er=()=>globalThis[ee];(0,y.__export)({},{getEnv:()=>el,getEnvironmentVariable:()=>ed,getRuntimeEnvironment:()=>eu,isBrowser:()=>ei,isDeno:()=>es,isJsDom:()=>ea,isNode:()=>eo,isWebWorker:()=>en});let ei=()=>!1,en=()=>"object"==typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name,ea=()=>"undefined"!=typeof navigator&&navigator.userAgent.includes("jsdom"),es=()=>"undefined"!=typeof Deno,eo=()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node&&!es(),el=()=>ei()?"browser":eo()?"node":en()?"webworker":ea()?"jsdom":es()?"deno":"other";function eu(){return void 0===t&&(t={library:"langchain-js",runtime:el()}),t}function ed(e){try{if("undefined"!=typeof process)return process.env?.[e];if(es())return Deno?.env.get(e);return}catch{return}}e.s(["getEnv",()=>el,"getEnvironmentVariable",()=>ed,"getRuntimeEnvironment",()=>eu],496827);var ec=e.i(723388),ec=ec;(0,y.__export)({},{BaseCallbackHandler:()=>eh,callbackHandlerPrefersStreaming:()=>em,isBaseCallbackHandler:()=>ef});var ep=class{};function em(e){return"lc_prefer_streaming"in e&&e.lc_prefer_streaming}var eh=class extends ep{lc_serializable=!1;get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,(0,Q.get_lc_unique_name)(this.constructor)]}lc_kwargs;ignoreLLM=!1;ignoreChain=!1;ignoreAgent=!1;ignoreRetriever=!1;ignoreCustomEvent=!1;raiseError=!1;awaitHandlers="false"===ed("LANGCHAIN_CALLBACKS_BACKGROUND");constructor(e){super(),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return Q.Serializable.prototype.toJSON.call(this)}toJSONNotImplemented(){return Q.Serializable.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class t extends eh{name=ec.default();constructor(){super(),Object.assign(this,e)}}return new t}};let ef=e=>void 0!==e&&"function"==typeof e.copy&&"string"==typeof e.name&&"boolean"==typeof e.awaitHandlers;e.s(["BaseCallbackHandler",()=>eh,"callbackHandlerPrefersStreaming",()=>em,"isBaseCallbackHandler",()=>ef],662394);var eg=e.i(979750),eg=eg;let e_="gen_ai.request.model",ev="gen_ai.usage.input_tokens",ey="gen_ai.usage.output_tokens",eb="gen_ai.usage.total_tokens",e$="langsmith.span.tags";e.s(["__version__",()=>eT],49753);let ew=Symbol.for("ls:fetch_implementation"),ex=()=>eC("PROJECT")??eP("LANGCHAIN_SESSION")??"default";var ek=e.i(838807),ek=ek,ek=ek;let eI={};function eS(e){eI[e]||(console.warn(e),eI[e]=!0)}let eO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function eE(e,t){if(!eO.test(e))throw Error(void 0!==t?`Invalid UUID for ${t}: ${e}`:`Invalid UUID: ${e}`);return e}let eT="0.3.82",eA=()=>r||(r="undefined"!=typeof Bun?"bun":"undefined"==typeof process||void 0===process.versions||void 0===process.versions.node||"undefined"!=typeof Deno?"object"==typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name?"webworker":"undefined"!=typeof navigator&&navigator.userAgent.includes("jsdom")?"jsdom":"undefined"!=typeof Deno?"deno":"other":"node");function eN(){return void 0===i&&(i={library:"langsmith",runtime:eA(),sdk:"langsmith-js",sdk_version:eT,...function(){if(void 0!==n)return n;let e={};for(let t of["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"]){let r=eP(t);void 0!==r&&(e[t]=r)}return n=e,e}()}),i}function ej(){let e=function(){let e={};try{if("undefined"!=typeof process&&process.env)for(let[t,r]of Object.entries(process.env))(t.startsWith("LANGCHAIN_")||t.startsWith("LANGSMITH_"))&&null!=r&&((t.toLowerCase().includes("key")||t.toLowerCase().includes("secret")||t.toLowerCase().includes("token"))&&"string"==typeof r?e[t]=r.slice(0,2)+"*".repeat(r.length-4)+r.slice(-2):e[t]=r)}catch(e){}return e}(),t={},r=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(let[i,n]of Object.entries(e))"string"!=typeof n||r.includes(i)||i.toLowerCase().includes("key")||i.toLowerCase().includes("secret")||i.toLowerCase().includes("token")||("LANGCHAIN_REVISION_ID"===i?t.revision_id=n:t[i]=n);return t}function eP(e){try{return"undefined"!=typeof process?process.env?.[e]:void 0}catch(e){return}}function eC(e){return eP(`LANGSMITH_${e}`)||eP(`LANGCHAIN_${e}`)}function eZ(){return"true"===eP("OTEL_ENABLED")||"true"===eC("OTEL_ENABLED")}class ez{constructor(){Object.defineProperty(this,"hasWarned",{enumerable:!0,configurable:!0,writable:!0,value:!1})}startActiveSpan(e,...t){let r;if(!this.hasWarned&&eZ()&&(console.warn('You have enabled OTEL export via the `OTEL_ENABLED` or `LANGSMITH_OTEL_ENABLED` environment variable, but have not initialized the required OTEL instances. Please add:\n```\nimport { initializeOTEL } from "langsmith/experimental/otel/setup";\ninitializeOTEL();\n```\nat the beginning of your code.'),this.hasWarned=!0),1===t.length&&"function"==typeof t[0]?r=t[0]:2===t.length&&"function"==typeof t[1]?r=t[1]:3===t.length&&"function"==typeof t[2]&&(r=t[2]),"function"==typeof r)return r()}}let eU=Symbol.for("ls:otel_trace"),eR=Symbol.for("ls:otel_context"),eD=Symbol.for("ls:otel_get_default_otlp_tracer_provider"),eL=new class{constructor(){Object.defineProperty(this,"mockTracer",{enumerable:!0,configurable:!0,writable:!0,value:new ez})}getTracer(e,t){return this.mockTracer}getActiveSpan(){}setSpan(e,t){return e}getSpan(e){}setSpanContext(e,t){return e}getTracerProvider(){}setGlobalTracerProvider(e){return!1}},eM=new class{active(){return{}}with(e,t){return t()}},eF=new class{getTraceInstance(){return globalThis[eU]??eL}getContextInstance(){return globalThis[eR]??eM}initializeGlobalInstances(e){void 0===globalThis[eU]&&(globalThis[eU]=e.trace),void 0===globalThis[eR]&&(globalThis[eR]=e.context)}setDefaultOTLPTracerComponents(e){globalThis[eD]=e}getDefaultOTLPTracerComponents(){return globalThis[eD]??void 0}};function eB(){return eF.getTraceInstance()}let eJ={llm:"chat",tool:"execute_tool",retriever:"embeddings",embedding:"embeddings",prompt:"chat"};class eW{constructor(){Object.defineProperty(this,"spans",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}exportBatch(e,t){for(let r of e)try{if(!r.run)continue;if("post"===r.operation){let e=this.createSpanForRun(r,r.run,t.get(r.id));e&&!r.run.end_time&&this.spans.set(r.id,e)}else this.updateSpanForRun(r,r.run)}catch(e){console.error(`Error processing operation ${r.id}:`,e)}}createSpanForRun(e,t,r){let i=r&&eB().getSpan(r);if(i)try{return this.finishSpanSetup(i,t,e)}catch(t){console.error(`Failed to create span for run ${e.id}:`,t);return}}finishSpanSetup(e,t,r){return this.setSpanAttributes(e,t,r),t.error?(e.setStatus({code:2}),e.recordException(Error(t.error))):e.setStatus({code:1}),t.end_time&&e.end(new Date(t.end_time)),e}updateSpanForRun(e,t){try{let r=this.spans.get(e.id);if(!r)return void console.debug(`No span found for run ${e.id} during update`);this.setSpanAttributes(r,t,e),t.error?(r.setStatus({code:2}),r.recordException(Error(t.error))):r.setStatus({code:1});let i=t.end_time;i&&(r.end(new Date(i)),this.spans.delete(e.id))}catch(t){console.error(`Failed to update span for run ${e.id}:`,t)}}extractModelName(e){if(e.extra?.metadata){let t=e.extra.metadata;if(t.ls_model_name)return t.ls_model_name;if(t.invocation_params){let e=t.invocation_params;if(e.model)return e.model;if(e.model_name)return e.model_name}}}setSpanAttributes(e,t,r){if("run_type"in t&&t.run_type){var i;e.setAttribute("langsmith.span.kind",t.run_type);let r=eJ[i=t.run_type||"chain"]||i;e.setAttribute("gen_ai.operation.name",r)}"name"in t&&t.name&&e.setAttribute("langsmith.trace.name",t.name),"session_id"in t&&t.session_id&&e.setAttribute("langsmith.trace.session_id",t.session_id),"session_name"in t&&t.session_name&&e.setAttribute("langsmith.trace.session_name",t.session_name),this.setGenAiSystem(e,t);let n=this.extractModelName(t);for(let[r,i]of(n&&e.setAttribute(e_,n),"prompt_tokens"in t&&"number"==typeof t.prompt_tokens&&e.setAttribute(ev,t.prompt_tokens),"completion_tokens"in t&&"number"==typeof t.completion_tokens&&e.setAttribute(ey,t.completion_tokens),"total_tokens"in t&&"number"==typeof t.total_tokens&&e.setAttribute(eb,t.total_tokens),this.setInvocationParameters(e,t),Object.entries(t.extra?.metadata||{})))null!=i&&e.setAttribute(`langsmith.metadata.${r}`,String(i));let a=t.tags;if(a&&Array.isArray(a)?e.setAttribute(e$,a.join(", ")):a&&e.setAttribute(e$,String(a)),"serialized"in t&&"object"==typeof t.serialized){let r=t.serialized;r.name&&e.setAttribute("gen_ai.serialized.name",String(r.name)),r.signature&&e.setAttribute("gen_ai.serialized.signature",String(r.signature)),r.doc&&e.setAttribute("gen_ai.serialized.doc",String(r.doc))}this.setIOAttributes(e,r)}setGenAiSystem(e,t){let r="langchain",i=this.extractModelName(t);if(i){let e=i.toLowerCase();e.includes("anthropic")||e.startsWith("claude")?r="anthropic":e.includes("bedrock")?r="aws.bedrock":e.includes("azure")&&e.includes("openai")?r="az.ai.openai":e.includes("azure")&&e.includes("inference")?r="az.ai.inference":e.includes("cohere")?r="cohere":e.includes("deepseek")?r="deepseek":e.includes("gemini")?r="gemini":e.includes("groq")?r="groq":e.includes("watson")||e.includes("ibm")?r="ibm.watsonx.ai":e.includes("mistral")?r="mistral_ai":e.includes("gpt")||e.includes("openai")?r="openai":e.includes("perplexity")||e.includes("sonar")?r="perplexity":e.includes("vertex")?r="vertex_ai":(e.includes("xai")||e.includes("grok"))&&(r="xai")}e.setAttribute("gen_ai.system",r)}setInvocationParameters(e,t){if(!t.extra?.metadata?.invocation_params)return;let r=t.extra.metadata.invocation_params;void 0!==r.max_tokens&&e.setAttribute("gen_ai.request.max_tokens",r.max_tokens),void 0!==r.temperature&&e.setAttribute("gen_ai.request.temperature",r.temperature),void 0!==r.top_p&&e.setAttribute("gen_ai.request.top_p",r.top_p),void 0!==r.frequency_penalty&&e.setAttribute("gen_ai.request.frequency_penalty",r.frequency_penalty),void 0!==r.presence_penalty&&e.setAttribute("gen_ai.request.presence_penalty",r.presence_penalty)}setIOAttributes(e,t){if(t.run.inputs)try{let r=t.run.inputs;"object"==typeof r&&null!==r&&(r.model&&Array.isArray(r.messages)&&e.setAttribute(e_,r.model),void 0!==r.stream&&e.setAttribute("langsmith.request.streaming",r.stream),r.extra_headers&&e.setAttribute("langsmith.request.headers",JSON.stringify(r.extra_headers)),r.extra_query&&e.setAttribute("gen_ai.request.extra_query",JSON.stringify(r.extra_query)),r.extra_body&&e.setAttribute("gen_ai.request.extra_body",JSON.stringify(r.extra_body))),e.setAttribute("gen_ai.prompt",JSON.stringify(r))}catch(e){console.debug(`Failed to process inputs for run ${t.id}`,e)}if(t.run.outputs)try{let r=t.run.outputs,i=this.getUnifiedRunTokens(r);if(i&&(e.setAttribute(ev,i[0]),e.setAttribute(ey,i[1]),e.setAttribute(eb,i[0]+i[1])),r&&"object"==typeof r){if(r.model&&e.setAttribute("gen_ai.response.model",String(r.model)),r.id&&e.setAttribute("gen_ai.response.id",r.id),r.choices&&Array.isArray(r.choices)){let t=r.choices.map(e=>e.finish_reason).filter(e=>e).map(String);t.length>0&&e.setAttribute("gen_ai.response.finish_reasons",t.join(", "))}if(r.service_tier&&e.setAttribute("gen_ai.response.service_tier",r.service_tier),r.system_fingerprint&&e.setAttribute("gen_ai.response.system_fingerprint",r.system_fingerprint),r.usage_metadata&&"object"==typeof r.usage_metadata){let t=r.usage_metadata;t.input_token_details&&e.setAttribute("gen_ai.usage.input_token_details",JSON.stringify(t.input_token_details)),t.output_token_details&&e.setAttribute("gen_ai.usage.output_token_details",JSON.stringify(t.output_token_details))}}e.setAttribute("gen_ai.completion",JSON.stringify(r))}catch(e){console.debug(`Failed to process outputs for run ${t.id}`,e)}}getUnifiedRunTokens(e){if(!e)return null;let t=this.extractUnifiedRunTokens(e.usage_metadata);if(t)return t;for(let r of Object.keys(e)){let i=e[r];if(i&&"object"==typeof i&&((t=this.extractUnifiedRunTokens(i.usage_metadata))||1===i.lc&&i.kwargs&&"object"==typeof i.kwargs&&(t=this.extractUnifiedRunTokens(i.kwargs.usage_metadata))))return t}let r=e.generations||[];if(!Array.isArray(r))return null;for(let e of Array.isArray(r[0])?r.flat():r)if("object"==typeof e&&e.message&&"object"==typeof e.message&&e.message.kwargs&&"object"==typeof e.message.kwargs&&(t=this.extractUnifiedRunTokens(e.message.kwargs.usage_metadata)))return t;return null}extractUnifiedRunTokens(e){return e&&"object"==typeof e&&"number"==typeof e.input_tokens&&"number"==typeof e.output_tokens?[e.input_tokens,e.output_tokens]:null}}let eV=Object.prototype.toString,eG=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function eq(e,t,{min:r=0,allowInfinity:i=!1}={}){if(void 0!==t){if("number"!=typeof t||Number.isNaN(t))throw TypeError(`Expected \`${e}\` to be a number${i?" or Infinity":""}.`);if(!i&&!Number.isFinite(t))throw TypeError(`Expected \`${e}\` to be a finite number.`);if(t<r)throw TypeError(`Expected \`${e}\` to be \u2265 ${r}.`)}}class eK extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function eH(e,t){return Number.isFinite(t)?t-(performance.now()-e):t}async function eX({error:e,attemptNumber:t,retriesConsumed:r,startTime:i,options:n}){let a,s=e instanceof Error?e:TypeError(`Non-error was thrown: "${e}". You should only throw errors.`);if(s instanceof eK)throw s.originalError;let o=Number.isFinite(n.retries)?Math.max(0,n.retries-r):n.retries,l=n.maxRetryTime??1/0,u=Object.freeze({error:s,attemptNumber:t,retriesLeft:o,retriesConsumed:r});if(await n.onFailedAttempt(u),0>=eH(i,l))throw s;let d=await n.shouldConsumeRetry(u),c=eH(i,l);if(c<=0||o<=0)throw s;if(s instanceof TypeError&&!function(e){if(!(e&&"[object Error]"===eV.call(e)&&"TypeError"===e.name&&"string"==typeof e.message))return!1;let{message:t,stack:r}=e;return"Load failed"===t?void 0===r||"__sentry_captured__"in e:!!t.startsWith("error sending request for url")||eG.has(t)}(s)){if(d)throw s;return n.signal?.throwIfAborted(),!1}if(!await n.shouldRetry(u))throw s;if(!d)return n.signal?.throwIfAborted(),!1;let p=Math.min((a=Math.max(1,r+1),Math.min(Math.round((n.randomize?Math.random()+1:1)*n.minTimeout*n.factor**(a-1)),n.maxTimeout)),c);return p>0&&await new Promise((e,t)=>{let r=()=>{clearTimeout(i),n.signal?.removeEventListener("abort",r),t(n.signal.reason)},i=setTimeout(()=>{n.signal?.removeEventListener("abort",r),e()},p);n.unref&&i.unref?.(),n.signal?.addEventListener("abort",r,{once:!0})}),n.signal?.throwIfAborted(),!0}async function eY(e,t={}){var r=(t={...t}).retries;if("number"==typeof r){if(r<0)throw TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(r))throw TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(void 0!==r)throw TypeError("Expected `retries` to be a number or Infinity.");if(Object.hasOwn(t,"forever"))throw Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??=10,t.factor??=2,t.minTimeout??=1e3,t.maxTimeout??=1/0,t.maxRetryTime??=1/0,t.randomize??=!1,t.onFailedAttempt??=()=>{},t.shouldRetry??=()=>!0,t.shouldConsumeRetry??=()=>!0,eq("factor",t.factor,{min:0,allowInfinity:!1}),eq("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),eq("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),eq("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),t.signal?.throwIfAborted();let i=0,n=0,a=performance.now();for(;!Number.isFinite(t.retries)||n<=t.retries;){i++;try{t.signal?.throwIfAborted();let r=await e(i);return t.signal?.throwIfAborted(),r}catch(e){await eX({error:e,attemptNumber:i,retriesConsumed:n,startTime:a,options:t})&&n++}}throw Error("Retry attempts exhausted without throwing an error.")}var eQ=e.i(655747);let e0=[408,425,429,500,502,503,504];class e1{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxQueueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queueSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.maxQueueSizeBytes=e.maxQueueSizeBytes,"default"in eQ.default?this.queue=new eQ.default.default({concurrency:this.maxConcurrency}):this.queue=new eQ.default({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e?.onFailedResponseHook}call(e,...t){return this.callWithOptions({},e,...t)}callWithOptions(e,t,...r){let i=e.sizeBytes??0;if(void 0!==this.maxQueueSizeBytes&&i>0&&this.queueSizeBytes+i>this.maxQueueSizeBytes)return Promise.reject(Error(`Queue size limit (${this.maxQueueSizeBytes} bytes) exceeded. Current queue size: ${this.queueSizeBytes} bytes, attempted addition: ${i} bytes.`));i>0&&(this.queueSizeBytes+=i);let n=this.onFailedResponseHook,a=this.queue.add(()=>eY(()=>t(...r).catch(e=>{if(e instanceof Error)throw e;throw Error(e)}),{async onFailedAttempt({error:e}){if(e.message.startsWith("Cancel")||e.message.startsWith("TimeoutError")||"TimeoutError"===e.name||e.message.startsWith("AbortError")||e?.code==="ECONNABORTED")throw e;let t=e?.response;if(n&&await n(t))return;let r=t?.status??e?.status;if(r&&!e0.includes(+r))throw e},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0});return(i>0&&(a=a.finally(()=>{this.queueSizeBytes-=i})),e.signal)?Promise.race([a,new Promise((t,r)=>{e.signal?.addEventListener("abort",()=>{r(Error("AbortError"))})})]):a}}function e4(e){return"function"==typeof e?._getType}function e6(e){let t={type:e._getType(),data:{content:e.content}};return e?.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(t.data.additional_kwargs={...e.additional_kwargs}),t}function e2(e){if(!e||e.split("/").length>2||e.startsWith("/")||e.endsWith("/")||e.split(":").length>2)throw Error(`Invalid identifier format: ${e}`);let[t,r]=e.split(":"),i=r||"latest";if(t.includes("/")){let[r,n]=t.split("/",2);if(!r||!n)throw Error(`Invalid identifier format: ${e}`);return[r,n,i]}if(!t)throw Error(`Invalid identifier format: ${e}`);return["-",t,i]}e.i(348680);class e9 extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function e5(e,t,r){let i;if(e.ok){r&&(i=await e.text());return}if(403===e.status)try{let t=await e.json(),r=t?.error;"org_scoped_key_requires_workspace"===r&&(i="This API key is org-scoped and requires workspace specification. Please provide 'workspaceId' parameter, or set LANGSMITH_WORKSPACE_ID environment variable.")}catch(r){let t=Error(`${e.status} ${e.statusText}`);throw t.status=e?.status,t}if(void 0===i)try{i=await e.text()}catch(e){i=""}let n=`Failed to ${t}. Received status [${e.status}]: ${e.statusText}. Message: ${i}`;if(409===e.status)throw new e9(n);let a=Error(n);throw a.status=e.status,a}let e3="ERR_CONFLICTING_ENDPOINTS";class e8 extends Error{constructor(){super("You cannot provide both LANGSMITH_ENDPOINT / LANGCHAIN_ENDPOINT and LANGSMITH_RUNS_ENDPOINTS."),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:e3}),this.name="ConflictingEndpointsError"}}var e7={result:"[Circular]"},te=[],tt=[];let tr=new TextEncoder;function ti(e){return tr.encode(e)}function tn(e){if(e&&"object"==typeof e&&null!==e){if(e instanceof Map)return Object.fromEntries(e);else if(e instanceof Set)return Array.from(e);else if(e instanceof Date)return e.toISOString();else if(e instanceof RegExp)return e.toString();else if(e instanceof Error)return{name:e.name,message:e.message}}else if("bigint"==typeof e)return e.toString();return e}function ta(e,t,r,i,n){try{let t=JSON.stringify(e,function(e,t){if(r){let i=r.call(this,e,t);if(void 0!==i)return i}return tn(t)},i);return ti(t)}catch(o){let s;if(!o.message?.includes("Converting circular structure to JSON"))return console.warn(`[WARNING]: LangSmith received unserializable value.${t?`
Context: ${t}`:""}`),ti("[Unserializable]");"true"!==eC("SUPPRESS_CIRCULAR_JSON_WARNINGS")&&console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${t?`
Context: ${t}`:""}`),void 0===n&&(n={depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}),function e(t,r,i,n,a,s,o){if(s+=1,"object"==typeof t&&null!==t){for(l=0;l<n.length;l++)if(n[l]===t)return void ts(e7,t,r,a);if(void 0!==o.depthLimit&&s>o.depthLimit||void 0!==o.edgesLimit&&i+1>o.edgesLimit)return void ts("[...]",t,r,a);if(n.push(t),Array.isArray(t))for(l=0;l<t.length;l++)e(t[l],l,l,n,t,s,o);else{var l,u=Object.keys(t=tn(t));for(l=0;l<u.length;l++){var d=u[l];e(t[d],d,l,n,t,s,o)}}n.pop()}}(e,"",0,[],void 0,0,n);try{var a;s=0===tt.length?JSON.stringify(e,r,i):JSON.stringify(e,(a=r,a=void 0!==a?a:function(e,t){return t},function(e,t){if(tt.length>0)for(var r=0;r<tt.length;r++){var i=tt[r];if(i[1]===e&&i[0]===t){t=i[2],tt.splice(r,1);break}}return a.call(this,e,t)}),i)}catch(e){return ti("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==te.length;){let e=te.pop();4===e.length?Object.defineProperty(e[0],e[1],e[3]):e[0][e[1]]=e[2]}}return ti(s)}}function ts(e,t,r,i){var n=Object.getOwnPropertyDescriptor(i,r);void 0!==n.get?n.configurable?(Object.defineProperty(i,r,{value:e}),te.push([i,r,t,n])):tt.push([t,r,e]):(i[r]=e,te.push([i,r,t]))}function to(e,t){let r=eN(),i=t??ej(),n=e.extra??{},a=n.metadata;return e.extra={...n,runtime:{...r,...n?.runtime},metadata:{...i,...i.revision_id||"revision_id"in e&&e.revision_id?{revision_id:("revision_id"in e?e.revision_id:void 0)??i.revision_id}:{},...a}},e}async function tl(e){let t=[];for await(let r of e)t.push(r);return t}function tu(e){if(void 0!==e)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}let td=async e=>{if(e?.status===429){let t=1e3*parseInt(e.headers.get("retry-after")??"10",10);if(t>0)return await new Promise(e=>setTimeout(e,t)),!0}return!1};function tc(e){return"number"==typeof e?Number(e.toFixed(4)):e}let tp="https://api.smith.langchain.com";class tm{constructor(e){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"maxSizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSizeBytes=e??0x40000000}peek(){return this.items[0]}push(e){let t,r=new Promise(e=>{t=e}),i=ta(e.item,`Serializing run with id: ${e.item.id}`).length;return this.sizeBytes+i>this.maxSizeBytes&&this.items.length>0?(console.warn(`AutoBatchQueue size limit (${this.maxSizeBytes} bytes) exceeded. Dropping run with id: ${e.item.id}. Current queue size: ${this.sizeBytes} bytes, attempted addition: ${i} bytes.`),t()):(this.items.push({action:e.action,payload:e.item,otelContext:e.otelContext,apiKey:e.apiKey,apiUrl:e.apiUrl,itemPromiseResolve:t,itemPromise:r,size:i}),this.sizeBytes+=i),r}pop({upToSizeBytes:e,upToSize:t}){if(e<1)throw Error("Number of bytes to pop off may not be less than 1.");let r=[],i=0;for(;i+(this.peek()?.size??0)<e&&this.items.length>0&&r.length<t;){let e=this.items.shift();e&&(r.push(e),i+=e.size,this.sizeBytes-=e.size)}if(0===r.length&&this.items.length>0){let e=this.items.shift();r.push(e),i+=e.size,this.sizeBytes-=e.size}return[r.map(e=>({action:e.action,item:e.payload,otelContext:e.otelContext,apiKey:e.apiKey,apiUrl:e.apiUrl,size:e.size})),()=>r.forEach(e=>e.itemPromiseResolve())]}}class th{get _fetch(){let e;return this.fetchImplementation||(e=this.debug,async(...t)=>{if(e||"true"===eC("DEBUG")){let[e,r]=t;console.log(` ${r?.method||"GET"} ${e}`)}let r=await (globalThis[ew]??((...e)=>fetch(...e)))(...t);return(e||"true"===eC("DEBUG"))&&console.log(` ${r.status} ${r.statusText} ${r.url}`),r})}constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"workspaceId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSizeLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:"false"===eP("LANGSMITH_TRACING_BACKGROUND")}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"langSmithToOTELTranslator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchImplementation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cachedLSEnvVarsForMetadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"multipartStreamingDisabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:"true"===eP("LANGSMITH_DEBUG")});const t=th.getDefaultClientConfig();if(this.tracingSampleRate=(e=>{let t=e?.toString()??eC("TRACING_SAMPLING_RATE");if(void 0===t)return;let r=parseFloat(t);if(r<0||r>1)throw Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${r}`);return r})(e.tracingSamplingRate),this.apiUrl=tu(e.apiUrl??t.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=tu(e.apiKey??t.apiKey),this.webUrl=tu(e.webUrl??t.webUrl),this.webUrl?.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.workspaceId=tu(e.workspaceId??eC("WORKSPACE_ID")),this.timeout_ms=e.timeout_ms??9e4,this.caller=new e1({...e.callerOptions??{},maxRetries:4,debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.fetchImplementation=e.fetchImplementation;const r=e.maxIngestMemoryBytes??0x40000000;this.batchIngestCaller=new e1({maxRetries:4,maxConcurrency:this.traceBatchConcurrency,maxQueueSizeBytes:r,...e.callerOptions??{},onFailedResponseHook:td,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??t.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??t.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.autoBatchQueue=new tm(r),this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.batchSizeLimit=e.batchSizeLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode,eZ()&&(this.langSmithToOTELTranslator=new eW),this.cachedLSEnvVarsForMetadata=ej()}static getDefaultClientConfig(){let e=eC("API_KEY");return{apiUrl:eC("ENDPOINT")??tp,apiKey:e,webUrl:void 0,hideInputs:"true"===eC("HIDE_INPUTS"),hideOutputs:"true"===eC("HIDE_OUTPUTS")}}getHostUrl(){let e;if(this.webUrl)return this.webUrl;if("localhost"===(e=this.apiUrl.replace("http://","").replace("https://","").split("/")[0].split(":")[0])||"127.0.0.1"===e||"::1"===e)return this.webUrl="http://localhost:3000",this.webUrl;if(this.apiUrl.endsWith("/api/v1"))return this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl;if(this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api"))return this.webUrl=this.apiUrl.replace("/api",""),this.webUrl;if(this.apiUrl.split(".",1)[0].includes("dev"))return this.webUrl="https://dev.smith.langchain.com",this.webUrl;else if(this.apiUrl.split(".",1)[0].includes("eu"))return this.webUrl="https://eu.smith.langchain.com",this.webUrl;else if(this.apiUrl.split(".",1)[0].includes("beta"))return this.webUrl="https://beta.smith.langchain.com",this.webUrl;else return this.webUrl="https://smith.langchain.com",this.webUrl}get headers(){let e={"User-Agent":`langsmith-js/${eT}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),this.workspaceId&&(e["x-tenant-id"]=this.workspaceId),e}_getPlatformEndpointPath(e){return"/v1"!==this.apiUrl.slice(-3)&&"/v1/"!==this.apiUrl.slice(-4)?`/v1/platform/${e}`:`/platform/${e}`}async processInputs(e){return!1===this.hideInputs?e:!0===this.hideInputs?{}:"function"==typeof this.hideInputs?this.hideInputs(e):e}async processOutputs(e){return!1===this.hideOutputs?e:!0===this.hideOutputs?{}:"function"==typeof this.hideOutputs?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){let t={...e};return void 0!==t.inputs&&(t.inputs=await this.processInputs(t.inputs)),void 0!==t.outputs&&(t.outputs=await this.processOutputs(t.outputs)),t}async _getResponse(e,t){let r=t?.toString()??"",i=`${this.apiUrl}${e}?${r}`;return await this.caller.call(async()=>{let t=await this._fetch(i,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,`fetch ${e}`),t})}async _get(e,t){return(await this._getResponse(e,t)).json()}async *_getPaginated(e,t=new URLSearchParams,r){let i=Number(t.get("offset"))||0,n=Number(t.get("limit"))||100;for(;;){t.set("offset",String(i)),t.set("limit",String(n));let a=`${this.apiUrl}${e}?${t}`,s=await this.caller.call(async()=>{let t=await this._fetch(a,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,`fetch ${e}`),t}),o=r?r(await s.json()):await s.json();if(0===o.length||(yield o,o.length<n))break;i+=o.length}}async *_getCursorPaginatedList(e,t=null,r="POST",i="runs"){let n=t?{...t}:{};for(;;){let t=JSON.stringify(n),a=await this.caller.call(async()=>{let i=await this._fetch(`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:t});return await e5(i,`fetch ${e}`),i}),s=await a.json();if(!s||!s[i])break;yield s[i];let o=s.cursors;if(!o||!o.next)break;n.cursor=o.next}}_shouldSample(){return void 0===this.tracingSampleRate||Math.random()<this.tracingSampleRate}_filterForSampling(e,t=!1){if(void 0===this.tracingSampleRate)return e;if(t){let t=[];for(let r of e)this.filteredPostUuids.has(r.trace_id)?r.id===r.trace_id&&this.filteredPostUuids.delete(r.trace_id):t.push(r);return t}{let t=[];for(let r of e){let e=r.trace_id??r.id;this.filteredPostUuids.has(e)||(r.id===e?this._shouldSample()?t.push(r):this.filteredPostUuids.add(e):t.push(r))}return t}}async _getBatchSizeLimitBytes(){let e=await this._ensureServerInfo();return this.batchSizeBytesLimit??e.batch_ingest_config?.size_limit_bytes??0x1800000}async _getBatchSizeLimit(){let e=await this._ensureServerInfo();return this.batchSizeLimit??e.batch_ingest_config?.size_limit??100}async _getDatasetExamplesMultiPartSupport(){let e=await this._ensureServerInfo();return e.instance_flags?.dataset_examples_multipart_enabled??!1}drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:t}){let r=[];for(;this.autoBatchQueue.items.length>0;){let[i,n]=this.autoBatchQueue.pop({upToSizeBytes:e,upToSize:t});if(!i.length){n();break}let a=i.reduce((e,t)=>{let r=t.apiUrl??this.apiUrl,i=t.apiKey??this.apiKey,n=t.apiKey===this.apiKey&&t.apiUrl===this.apiUrl?"default":`${r}|${i}`;return e[n]||(e[n]=[]),e[n].push(t),e},{}),s=[];for(let[e,t]of Object.entries(a)){let r=this._processBatch(t,{apiUrl:"default"===e?void 0:e.split("|")[0],apiKey:"default"===e?void 0:e.split("|")[1]});s.push(r)}let o=Promise.all(s).finally(n);r.push(o)}return Promise.all(r)}async _processBatch(e,t){if(!e.length)return;let r=e.reduce((e,t)=>e+(t.size??0),0);try{if(void 0!==this.langSmithToOTELTranslator)this._sendBatchToOTELTranslator(e);else{let i={runCreates:e.filter(e=>"create"===e.action).map(e=>e.item),runUpdates:e.filter(e=>"update"===e.action).map(e=>e.item)},n=await this._ensureServerInfo();if(n?.batch_ingest_config?.use_multipart_endpoint){let e=n?.instance_flags?.gzip_body_enabled;await this.multipartIngestRuns(i,{...t,useGzip:e,sizeBytes:r})}else await this.batchIngestRuns(i,{...t,sizeBytes:r})}}catch(e){console.error("Error exporting batch:",e)}}_sendBatchToOTELTranslator(e){if(void 0!==this.langSmithToOTELTranslator){let t=new Map,r=[];for(let i of e)i.item.id&&i.otelContext&&(t.set(i.item.id,i.otelContext),"create"===i.action?r.push({operation:"post",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}):r.push({operation:"patch",id:i.item.id,trace_id:i.item.trace_id??i.item.id,run:i.item}));this.langSmithToOTELTranslator.exportBatch(r,t)}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.item=to(e.item,this.cachedLSEnvVarsForMetadata);let t=this.autoBatchQueue.push(e);if(this.manualFlushMode)return t;let r=await this._getBatchSizeLimitBytes(),i=await this._getBatchSizeLimit();return(this.autoBatchQueue.sizeBytes>r||this.autoBatchQueue.items.length>i)&&this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i}),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue({batchSizeLimitBytes:r,batchSizeLimit:i})},this.autoBatchAggregationDelayMs)),t}async _getServerInfo(){let e=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4),...this.fetchOptions});return await e5(e,"get server info"),e}),t=await e.json();return this.debug&&console.log("\n=== LangSmith Server Configuration ===\n"+JSON.stringify(t,null,2)+"\n"),t}async _ensureServerInfo(){return void 0===this._getServerInfoPromise&&(this._getServerInfoPromise=(async()=>{if(void 0===this._serverInfo)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[LANGSMITH]: Failed to fetch info on supported operations. Falling back to batch operations and default limits. Info: ${e.status??"Unspecified status code"} ${e.message}`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(void 0===this._serverInfo&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){let e=await this._getBatchSizeLimitBytes(),t=await this._getBatchSizeLimit();await this.drainAutoBatchQueue({batchSizeLimitBytes:e,batchSizeLimit:t})}_cloneCurrentOTELContext(){let e=eB(),t=eF.getContextInstance();if(void 0!==this.langSmithToOTELTranslator){let r=e.getActiveSpan();if(r)return e.setSpan(t.active(),r)}}async createRun(e,t){if(!this._filterForSampling([e]).length)return;let r={...this.headers,"Content-Type":"application/json"},i=e.project_name;delete e.project_name;let n=await this.prepareRunCreateOrUpdateInputs({session_name:i,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&void 0!==n.trace_id&&void 0!==n.dotted_order){let e=this._cloneCurrentOTELContext();this.processRunOperation({action:"create",item:n,otelContext:e,apiKey:t?.apiKey,apiUrl:t?.apiUrl}).catch(console.error);return}let a=to(n,this.cachedLSEnvVarsForMetadata);t?.apiKey!==void 0&&(r["x-api-key"]=t.apiKey),t?.workspaceId!==void 0&&(r["x-tenant-id"]=t.workspaceId);let s=ta(a,`Creating run with id: ${a.id}`);await this.caller.call(async()=>{let e=await this._fetch(`${t?.apiUrl??this.apiUrl}/runs`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await e5(e,"create run",!0),e})}async batchIngestRuns({runCreates:e,runUpdates:t},r){if(void 0===e&&void 0===t)return;let i=await Promise.all(e?.map(e=>this.prepareRunCreateOrUpdateInputs(e))??[]),n=await Promise.all(t?.map(e=>this.prepareRunCreateOrUpdateInputs(e))??[]);if(i.length>0&&n.length>0){let e=i.reduce((e,t)=>(t.id&&(e[t.id]=t),e),{}),t=[];for(let r of n)void 0!==r.id&&e[r.id]?e[r.id]={...e[r.id],...r}:t.push(r);i=Object.values(e),n=t}let a={post:i,patch:n};if(!a.post.length&&!a.patch.length)return;let s={post:[],patch:[]};for(let e of["post","patch"]){let t=a[e].reverse(),r=t.pop();for(;void 0!==r;)s[e].push(r),r=t.pop()}if(s.post.length>0||s.patch.length>0){let e=s.post.map(e=>e.id).concat(s.patch.map(e=>e.id)).join(",");await this._postBatchIngestRuns(ta(s,`Ingesting runs with ids: ${e}`),r)}}async _postBatchIngestRuns(e,t){let r={...this.headers,"Content-Type":"application/json",Accept:"application/json"};t?.apiKey!==void 0&&(r["x-api-key"]=t.apiKey),await this.batchIngestCaller.callWithOptions({sizeBytes:t?.sizeBytes},async()=>{let i=await this._fetch(`${t?.apiUrl??this.apiUrl}/runs/batch`,{method:"POST",headers:r,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:e});return await e5(i,"batch create run",!0),i})}async multipartIngestRuns({runCreates:e,runUpdates:t},r){if(void 0===e&&void 0===t)return;let i={},n=[];for(let t of e??[]){let e=await this.prepareRunCreateOrUpdateInputs(t);void 0!==e.id&&void 0!==e.attachments&&(i[e.id]=e.attachments),delete e.attachments,n.push(e)}let a=[];for(let e of t??[])a.push(await this.prepareRunCreateOrUpdateInputs(e));if(void 0!==n.find(e=>void 0===e.trace_id||void 0===e.dotted_order))throw Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(void 0!==a.find(e=>void 0===e.trace_id||void 0===e.dotted_order))throw Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(n.length>0&&a.length>0){let e=n.reduce((e,t)=>(t.id&&(e[t.id]=t),e),{}),t=[];for(let r of a)void 0!==r.id&&e[r.id]?e[r.id]={...e[r.id],...r}:t.push(r);n=Object.values(e),a=t}if(0===n.length&&0===a.length)return;let s=[],o=[];for(let[e,t]of[["post",n],["patch",a]])for(let r of t){let{inputs:t,outputs:n,events:a,extra:l,error:u,serialized:d,attachments:c,...p}=r,m={inputs:t,outputs:n,events:a,extra:l,error:u,serialized:d},h=ta(p,`Serializing for multipart ingestion of run with id: ${p.id}`);for(let[t,r]of(o.push({name:`${e}.${p.id}`,payload:new Blob([h],{type:`application/json; length=${h.length}`})}),Object.entries(m))){if(void 0===r)continue;let i=ta(r,`Serializing ${t} for multipart ingestion of run with id: ${p.id}`);o.push({name:`${e}.${p.id}.${t}`,payload:new Blob([i],{type:`application/json; length=${i.length}`})})}if(void 0!==p.id){let e=i[p.id];if(e)for(let[t,r]of(delete i[p.id],Object.entries(e))){let e,i;if(Array.isArray(r)?[e,i]=r:(e=r.mimeType,i=r.data),t.includes(".")){console.warn(`Skipping attachment '${t}' for run ${p.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}o.push({name:`attachment.${p.id}.${t}`,payload:new Blob([i],{type:`${e}; length=${i.byteLength}`})})}}s.push(`trace=${p.trace_id},id=${p.id}`)}await this._sendMultipartRequest(o,s.join("; "),r)}async _createNodeFetchBody(e,t){let r=[];for(let i of e)r.push(new Blob([`--${t}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${i.name}"\r
`,`Content-Type: ${i.payload.type}\r
\r
`])),r.push(i.payload),r.push(new Blob(["\r\n"]));r.push(new Blob([`--${t}--\r
`]));let i=new Blob(r);return await i.arrayBuffer()}async _createMultipartStream(e,t){let r=new TextEncoder;return new ReadableStream({async start(i){let n=async e=>{"string"==typeof e?i.enqueue(r.encode(e)):i.enqueue(e)};for(let r of e){await n(`--${t}\r
`),await n(`Content-Disposition: form-data; name="${r.name}"\r
`),await n(`Content-Type: ${r.payload.type}\r
\r
`);let e=r.payload.stream().getReader();try{let t;for(;!(t=await e.read()).done;)i.enqueue(t.value)}finally{e.releaseLock()}await n("\r\n")}await n(`--${t}--\r
`),i.close()}})}async _sendMultipartRequest(e,t,r){let i,n="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),a=!!(i=globalThis[ew])&&"function"==typeof i&&"Headers"in i&&"Request"in i&&"Response"in i,s=()=>this._createNodeFetchBody(e,n),o=()=>this._createMultipartStream(e,n),l=async e=>this.batchIngestCaller.callWithOptions({sizeBytes:r?.sizeBytes},async()=>{let t=await e(),i={...this.headers,"Content-Type":`multipart/form-data; boundary=${n}`};r?.apiKey!==void 0&&(i["x-api-key"]=r.apiKey);let a=t;r?.useGzip&&"object"==typeof t&&"pipeThrough"in t&&(a=t.pipeThrough(new CompressionStream("gzip")),i["Content-Encoding"]="gzip");let s=await this._fetch(`${r?.apiUrl??this.apiUrl}/runs/multipart`,{method:"POST",headers:i,body:a,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(s,"Failed to send multipart request",!0),s});try{let e,i=!1;a||this.multipartStreamingDisabled||"bun"===eA()?e=await l(s):(i=!0,e=await l(o)),(!this.multipartStreamingDisabled||i)&&422===e.status&&(r?.apiUrl??this.apiUrl)!==tp&&(console.warn(`Streaming multipart upload to ${r?.apiUrl??this.apiUrl}/runs/multipart failed. This usually means the host does not support chunked uploads. Retrying with a buffered upload for operation "${t}".`),this.multipartStreamingDisabled=!0,e=await l(s))}catch(e){console.warn(`${e.message.trim()}

Context: ${t}`)}}async updateRun(e,t,r){eE(e),t.inputs&&(t.inputs=await this.processInputs(t.inputs)),t.outputs&&(t.outputs=await this.processOutputs(t.outputs));let i={...t,id:e};if(!this._filterForSampling([i],!0).length)return;if(this.autoBatchTracing&&void 0!==i.trace_id&&void 0!==i.dotted_order){let e=this._cloneCurrentOTELContext();return void 0!==t.end_time&&void 0===i.parent_run_id&&this.blockOnRootRunFinalization&&!this.manualFlushMode?void await this.processRunOperation({action:"update",item:i,otelContext:e,apiKey:r?.apiKey,apiUrl:r?.apiUrl}).catch(console.error):void this.processRunOperation({action:"update",item:i,otelContext:e,apiKey:r?.apiKey,apiUrl:r?.apiUrl}).catch(console.error)}let n={...this.headers,"Content-Type":"application/json"};r?.apiKey!==void 0&&(n["x-api-key"]=r.apiKey),r?.workspaceId!==void 0&&(n["x-tenant-id"]=r.workspaceId);let a=ta(t,`Serializing payload to update run with id: ${e}`);await this.caller.call(async()=>{let t=await this._fetch(`${r?.apiUrl??this.apiUrl}/runs/${e}`,{method:"PATCH",headers:n,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await e5(t,"update run",!0),t})}async readRun(e,{loadChildRuns:t}={loadChildRuns:!1}){eE(e);let r=await this._get(`/runs/${e}`);return t&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:t,projectOpts:r}){if(void 0!==t){let e;e=t.session_id?t.session_id:r?.projectName?(await this.readProject({projectName:r?.projectName})).id:r?.projectId?r?.projectId:(await this.readProject({projectName:eC("PROJECT")||"default"})).id;let i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${e}/r/${t.id}?poll=true`}if(void 0!==e){let t=await this.readRun(e);if(!t.app_path)throw Error(`Run ${e} has no app_path`);let r=this.getHostUrl();return`${r}${t.app_path}`}throw Error("Must provide either runId or run")}async _loadChildRuns(e){let t=await tl(this.listRuns({isRoot:!1,projectId:e.session_id,traceId:e.trace_id})),r={},i={};for(let n of(t.sort((e,t)=>(e?.dotted_order??"").localeCompare(t?.dotted_order??"")),t)){if(null===n.parent_run_id||void 0===n.parent_run_id)throw Error(`Child run ${n.id} has no parent`);n.dotted_order?.startsWith(e.dotted_order??"")&&n.id!==e.id&&(n.parent_run_id in r||(r[n.parent_run_id]=[]),r[n.parent_run_id].push(n),i[n.id]=n)}for(let t in e.child_runs=r[e.id]||[],r)t!==e.id&&(i[t].child_runs=r[t]);return e}async *listRuns(e){let{projectId:t,projectName:r,parentRunId:i,traceId:n,referenceExampleId:a,startTime:s,executionOrder:o,isRoot:l,runType:u,error:d,id:c,query:p,filter:m,traceFilter:h,treeFilter:f,limit:g,select:_,order:v}=e,y=[];if(t&&(y=Array.isArray(t)?t:[t]),r){let e=Array.isArray(r)?r:[r],t=await Promise.all(e.map(e=>this.readProject({projectName:e}).then(e=>e.id)));y.push(...t)}let b={session:y.length?y:null,run_type:u,reference_example:a,query:p,filter:m,trace_filter:h,tree_filter:f,execution_order:o,parent_run:i,start_time:s?s.toISOString():null,error:d,id:c,limit:g,trace:n,select:_||["app_path","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],is_root:l,order:v};b.select.includes("child_run_ids")&&eS("Deprecated: 'child_run_ids' in the listRuns select parameter is deprecated and will be removed in a future version.");let $=0;for await(let e of this._getCursorPaginatedList("/runs/query",b))if(g){if($>=g)break;if(e.length+$>g){let t=e.slice(0,g-$);yield*t;break}$+=e.length,yield*e}else yield*e}async *listGroupRuns(e){let{projectId:t,projectName:r,groupBy:i,filter:n,startTime:a,endTime:s,limit:o,offset:l}=e,u={session_id:t||(await this.readProject({projectName:r})).id,group_by:i,filter:n,start_time:a?a.toISOString():null,end_time:s?s.toISOString():null,limit:Number(o)||100},d=Number(l)||0,c="/runs/group",p=`${this.apiUrl}${c}`;for(;;){let e=JSON.stringify(Object.fromEntries(Object.entries({...u,offset:d}).filter(([e,t])=>void 0!==t))),t=await this.caller.call(async()=>{let t=await this._fetch(p,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:e});return await e5(t,`Failed to fetch ${c}`),t}),{groups:r,total:i}=await t.json();if(0===r.length)break;for(let e of r)yield e;if((d+=r.length)>=i)break}}async getRunStats({id:e,trace:t,parentRun:r,runType:i,projectNames:n,projectIds:a,referenceExampleIds:s,startTime:o,endTime:l,error:u,query:d,filter:c,traceFilter:p,treeFilter:m,isRoot:h,dataSourceType:f}){let g=a||[];n&&(g=[...a||[],...await Promise.all(n.map(e=>this.readProject({projectName:e}).then(e=>e.id)))]);let _=JSON.stringify(Object.fromEntries(Object.entries({id:e,trace:t,parent_run:r,run_type:i,session:g,reference_example:s,start_time:o,end_time:l,error:u,query:d,filter:c,trace_filter:p,tree_filter:m,is_root:h,data_source_type:f}).filter(([e,t])=>void 0!==t))),v=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/runs/stats`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:_});return await e5(e,"get run stats"),e});return await v.json()}async shareRun(e,{shareId:t}={}){let r={run_id:e,share_token:t||eg.default()};eE(e);let i=JSON.stringify(r),n=await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await e5(t,"share run"),t}),a=await n.json();if(null===a||!("share_token"in a))throw Error("Invalid response from server");return`${this.getHostUrl()}/public/${a.share_token}/r`}async unshareRun(e){eE(e),await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,"unshare run",!0),t})}async readRunSharedLink(e){eE(e);let t=await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,"read run shared link"),t}),r=await t.json();if(null!==r&&"share_token"in r)return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:t}={}){let r=new URLSearchParams({share_token:e});if(void 0!==t)for(let e of t)r.append("id",e);eE(e);let i=await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,"list shared runs"),t});return await i.json()}async readDatasetSharedSchema(e,t){if(!e&&!t)throw Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id),eE(e);let r=await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,"read dataset shared schema"),t}),i=await r.json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async shareDataset(e,t){if(!e&&!t)throw Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id);let r={dataset_id:e};eE(e);let i=JSON.stringify(r),n=await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:i});return await e5(t,"share dataset"),t}),a=await n.json();return a.url=`${this.getHostUrl()}/public/${a.share_token}/d`,a}async unshareDataset(e){eE(e),await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,"unshare dataset",!0),t})}async readSharedDataset(e){eE(e);let t=await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,"read shared dataset"),t});return await t.json()}async listSharedExamples(e,t){let r={};t?.exampleIds&&(r.id=t.exampleIds);let i=new URLSearchParams;Object.entries(r).forEach(([e,t])=>{Array.isArray(t)?t.forEach(t=>i.append(e,t)):i.append(e,t)});let n=await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/public/${e}/examples?${i.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,"list shared examples"),t}),a=await n.json();if(!n.ok){if("detail"in a)throw Error(`Failed to list shared examples.
Status: ${n.status}
Message: ${Array.isArray(a.detail)?a.detail.join("\n"):"Unspecified error"}`);throw Error(`Failed to list shared examples: ${n.status} ${n.statusText}`)}return a.map(e=>({...e,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:t=null,metadata:r=null,upsert:i=!1,projectExtra:n=null,referenceDatasetId:a=null}){let s=`${this.apiUrl}/sessions${i?"?upsert=true":""}`,o=n||{};r&&(o.metadata=r);let l={name:e,extra:o,description:t};null!==a&&(l.reference_dataset_id=a);let u=JSON.stringify(l),d=await this.caller.call(async()=>{let e=await this._fetch(s,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:u});return await e5(e,"create project"),e});return await d.json()}async updateProject(e,{name:t=null,description:r=null,metadata:i=null,projectExtra:n=null,endTime:a=null}){let s=`${this.apiUrl}/sessions/${e}`,o=n;i&&(o={...o||{},metadata:i});let l=JSON.stringify({name:t,extra:o,description:r,end_time:a?new Date(a).toISOString():null}),u=await this.caller.call(async()=>{let e=await this._fetch(s,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await e5(e,"update project"),e});return await u.json()}async hasProject({projectId:e,projectName:t}){let r="/sessions",i=new URLSearchParams;if(void 0!==e&&void 0!==t)throw Error("Must provide either projectName or projectId, not both");if(void 0!==e)eE(e),r+=`/${e}`;else if(void 0!==t)i.append("name",t);else throw Error("Must provide projectName or projectId");let n=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}${r}?${i}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(e,"has project"),e});try{let e=await n.json();if(!n.ok)return!1;if(Array.isArray(e))return e.length>0;return!0}catch(e){return!1}}async readProject({projectId:e,projectName:t,includeStats:r}){let i,n="/sessions",a=new URLSearchParams;if(void 0!==e&&void 0!==t)throw Error("Must provide either projectName or projectId, not both");if(void 0!==e)eE(e),n+=`/${e}`;else if(void 0!==t)a.append("name",t);else throw Error("Must provide projectName or projectId");void 0!==r&&a.append("include_stats",r.toString());let s=await this._get(n,a);if(Array.isArray(s)){if(0===s.length)throw Error(`Project[id=${e}, name=${t}] not found`);i=s[0]}else i=s;return i}async getProjectUrl({projectId:e,projectName:t}){if(void 0===e&&void 0===t)throw Error("Must provide either projectName or projectId");let r=await this.readProject({projectId:e,projectName:t}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:t}){if(void 0===e&&void 0===t)throw Error("Must provide either datasetName or datasetId");let r=await this.readDataset({datasetId:e,datasetName:t}),i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/datasets/${r.id}`}async _getTenantId(){if(null!==this._tenantId)return this._tenantId;let e=new URLSearchParams({limit:"1"});for await(let t of this._getPaginated("/sessions",e))return this._tenantId=t[0].tenant_id,t[0].tenant_id;throw Error("No projects found to resolve tenant.")}async *listProjects({projectIds:e,name:t,nameContains:r,referenceDatasetId:i,referenceDatasetName:n,includeStats:a,datasetVersion:s,referenceFree:o,metadata:l}={}){let u=new URLSearchParams;if(void 0!==e)for(let t of e)u.append("id",t);if(void 0!==t&&u.append("name",t),void 0!==r&&u.append("name_contains",r),void 0!==i)u.append("reference_dataset",i);else if(void 0!==n){let e=await this.readDataset({datasetName:n});u.append("reference_dataset",e.id)}for await(let e of(void 0!==a&&u.append("include_stats",a.toString()),void 0!==s&&u.append("dataset_version",s),void 0!==o&&u.append("reference_free",o.toString()),void 0!==l&&u.append("metadata",JSON.stringify(l)),this._getPaginated("/sessions",u)))yield*e}async deleteProject({projectId:e,projectName:t}){let r;if(void 0===e&&void 0===t)throw Error("Must provide projectName or projectId");if(void 0!==e&&void 0!==t)throw Error("Must provide either projectName or projectId, not both");eE(r=void 0===e?(await this.readProject({projectName:t})).id:e),await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(e,`delete session ${r} (${t})`,!0),e})}async uploadCsv({csvFile:e,fileName:t,inputKeys:r,outputKeys:i,description:n,dataType:a,name:s}){let o=`${this.apiUrl}/datasets/upload`,l=new FormData;l.append("file",e,t),r.forEach(e=>{l.append("input_keys",e)}),i.forEach(e=>{l.append("output_keys",e)}),n&&l.append("description",n),a&&l.append("data_type",a),s&&l.append("name",s);let u=await this.caller.call(async()=>{let e=await this._fetch(o,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await e5(e,"upload CSV"),e});return await u.json()}async createDataset(e,{description:t,dataType:r,inputsSchema:i,outputsSchema:n,metadata:a}={}){let s={name:e,description:t,extra:a?{metadata:a}:void 0};r&&(s.data_type=r),i&&(s.inputs_schema_definition=i),n&&(s.outputs_schema_definition=n);let o=JSON.stringify(s),l=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await e5(e,"create dataset"),e});return await l.json()}async readDataset({datasetId:e,datasetName:t}){let r,i="/datasets",n=new URLSearchParams({limit:"1"});if(e&&t)throw Error("Must provide either datasetName or datasetId, not both");if(e)eE(e),i+=`/${e}`;else if(t)n.append("name",t);else throw Error("Must provide datasetName or datasetId");let a=await this._get(i,n);if(Array.isArray(a)){if(0===a.length)throw Error(`Dataset[id=${e}, name=${t}] not found`);r=a[0]}else r=a;return r}async hasDataset({datasetId:e,datasetName:t}){try{return await this.readDataset({datasetId:e,datasetName:t}),!0}catch(e){if(e instanceof Error&&e.message.toLocaleLowerCase().includes("not found"))return!1;throw e}}async diffDatasetVersions({datasetId:e,datasetName:t,fromVersion:r,toVersion:i}){let n=e;if(void 0===n&&void 0===t)throw Error("Must provide either datasetName or datasetId");if(void 0!==n&&void 0!==t)throw Error("Must provide either datasetName or datasetId, not both");void 0===n&&(n=(await this.readDataset({datasetName:t})).id);let a=new URLSearchParams({from_version:"string"==typeof r?r:r.toISOString(),to_version:"string"==typeof i?i:i.toISOString()});return await this._get(`/datasets/${n}/versions/diff`,a)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:t}){if(void 0!==e);else if(void 0!==t)e=(await this.readDataset({datasetName:t})).id;else throw Error("Must provide either datasetName or datasetId");let r=await this._getResponse(`/datasets/${e}/openai_ft`);return(await r.text()).trim().split("\n").map(e=>JSON.parse(e))}async *listDatasets({limit:e=100,offset:t=0,datasetIds:r,datasetName:i,datasetNameContains:n,metadata:a}={}){let s=new URLSearchParams({limit:e.toString(),offset:t.toString()});if(void 0!==r)for(let e of r)s.append("id",e);for await(let e of(void 0!==i&&s.append("name",i),void 0!==n&&s.append("name_contains",n),void 0!==a&&s.append("metadata",JSON.stringify(a)),this._getPaginated("/datasets",s)))yield*e}async updateDataset(e){let{datasetId:t,datasetName:r,...i}=e;if(!t&&!r)throw Error("Must provide either datasetName or datasetId");let n=t??(await this.readDataset({datasetName:r})).id;eE(n);let a=JSON.stringify(i),s=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/datasets/${n}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await e5(e,"update dataset"),e});return await s.json()}async updateDatasetTag(e){let{datasetId:t,datasetName:r,asOf:i,tag:n}=e;if(!t&&!r)throw Error("Must provide either datasetName or datasetId");let a=t??(await this.readDataset({datasetName:r})).id;eE(a);let s=JSON.stringify({as_of:"string"==typeof i?i:i.toISOString(),tag:n});await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/datasets/${a}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await e5(e,"update dataset tags",!0),e})}async deleteDataset({datasetId:e,datasetName:t}){let r="/datasets",i=e;if(void 0!==e&&void 0!==t)throw Error("Must provide either datasetName or datasetId, not both");if(void 0!==t&&(i=(await this.readDataset({datasetName:t})).id),void 0!==i)eE(i),r+=`/${i}`;else throw Error("Must provide datasetName or datasetId");await this.caller.call(async()=>{let e=await this._fetch(this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(e,`delete ${r}`,!0),e})}async indexDataset({datasetId:e,datasetName:t,tag:r}){let i=e;if(i||t)if(i&&t)throw Error("Must provide either datasetName or datasetId, not both");else i||(i=(await this.readDataset({datasetName:t})).id);else throw Error("Must provide either datasetName or datasetId");eE(i);let n=JSON.stringify({tag:r}),a=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/datasets/${i}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:n});return await e5(e,"index dataset"),e});await a.json()}async similarExamples(e,t,r,{filter:i}={}){let n={limit:r,inputs:e};void 0!==i&&(n.filter=i),eE(t);let a=JSON.stringify(n),s=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/datasets/${t}/search`,{headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,method:"POST",body:a});return await e5(e,"fetch similar examples"),e});return(await s.json()).examples}async createExample(e,t,r){let i;if(tf(e)&&(void 0!==t||void 0!==r))throw Error("Cannot provide outputs or options when using ExampleCreate object");let n=t?r?.datasetId:e.dataset_id,a=t?r?.datasetName:e.dataset_name;if(void 0===n&&void 0===a)throw Error("Must provide either datasetName or datasetId");if(void 0!==n&&void 0!==a)throw Error("Must provide either datasetName or datasetId, not both");void 0===n&&(n=(await this.readDataset({datasetName:a})).id);let s=(t?r?.createdAt:e.created_at)||new Date;i=tf(e)?e:{inputs:e,outputs:t,created_at:s?.toISOString(),id:r?.exampleId,metadata:r?.metadata,split:r?.split,source_run_id:r?.sourceRunId,use_source_run_io:r?.useSourceRunIO,use_source_run_attachments:r?.useSourceRunAttachments,attachments:r?.attachments};let o=await this._uploadExamplesMultipart(n,[i]);return await this.readExample(o.example_ids?.[0]??eg.default())}async createExamples(e){if(Array.isArray(e)){if(0===e.length)return[];let t=e[0].dataset_id,r=e[0].dataset_name;if(void 0===t&&void 0===r)throw Error("Must provide either datasetName or datasetId");if(void 0!==t&&void 0!==r)throw Error("Must provide either datasetName or datasetId, not both");void 0===t&&(t=(await this.readDataset({datasetName:r})).id);let i=await this._uploadExamplesMultipart(t,e);return await Promise.all(i.example_ids.map(e=>this.readExample(e)))}let{inputs:t,outputs:r,metadata:i,splits:n,sourceRunIds:a,useSourceRunIOs:s,useSourceRunAttachments:o,attachments:l,exampleIds:u,datasetId:d,datasetName:c}=e;if(void 0===t)throw Error("Must provide inputs when using legacy parameters");let p=d;if(void 0===p&&void 0===c)throw Error("Must provide either datasetName or datasetId");if(void 0!==p&&void 0!==c)throw Error("Must provide either datasetName or datasetId, not both");void 0===p&&(p=(await this.readDataset({datasetName:c})).id);let m=t.map((e,t)=>({dataset_id:p,inputs:e,outputs:r?.[t],metadata:i?.[t],split:n?.[t],id:u?.[t],attachments:l?.[t],source_run_id:a?.[t],use_source_run_io:s?.[t],use_source_run_attachments:o?.[t]})),h=await this._uploadExamplesMultipart(p,m);return await Promise.all(h.example_ids.map(e=>this.readExample(e)))}async createLLMExample(e,t,r){return this.createExample({input:e},{output:t},r)}async createChatExample(e,t,r){let i=e.map(e=>e4(e)?e6(e):e),n=e4(t)?e6(t):t;return this.createExample({input:i},{output:n},r)}async readExample(e){eE(e);let t=`/examples/${e}`,{attachment_urls:r,...i}=await this._get(t);return r&&(i.attachments=Object.entries(r).reduce((e,[t,r])=>(e[t.slice(11)]={presigned_url:r.presigned_url,mime_type:r.mime_type},e),{})),i}async *listExamples({datasetId:e,datasetName:t,exampleIds:r,asOf:i,splits:n,inlineS3Urls:a,metadata:s,limit:o,offset:l,filter:u,includeAttachments:d}={}){let c;if(void 0!==e&&void 0!==t)throw Error("Must provide either datasetName or datasetId, not both");if(void 0!==e)c=e;else if(void 0!==t)c=(await this.readDataset({datasetName:t})).id;else throw Error("Must provide a datasetName or datasetId");let p=new URLSearchParams({dataset:c}),m=i?"string"==typeof i?i:i?.toISOString():void 0;if(m&&p.append("as_of",m),p.append("inline_s3_urls",(a??!0).toString()),void 0!==r)for(let e of r)p.append("id",e);if(void 0!==n)for(let e of n)p.append("splits",e);if(void 0!==s){let e=JSON.stringify(s);p.append("metadata",e)}void 0!==o&&p.append("limit",o.toString()),void 0!==l&&p.append("offset",l.toString()),void 0!==u&&p.append("filter",u),!0===d&&["attachment_urls","outputs","metadata"].forEach(e=>p.append("select",e));let h=0;for await(let e of this._getPaginated("/examples",p)){for(let t of e){let{attachment_urls:e,...r}=t;e&&(r.attachments=Object.entries(e).reduce((e,[t,r])=>(e[t.slice(11)]={presigned_url:r.presigned_url,mime_type:r.mime_type||void 0},e),{})),yield r,h++}if(void 0!==o&&h>=o)break}}async deleteExample(e){eE(e);let t=`/examples/${e}`;await this.caller.call(async()=>{let e=await this._fetch(this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(e,`delete ${t}`,!0),e})}async updateExample(e,t){let r,i,n;return eE(r=t?e:e.id),n=void 0!==(i=t?{id:r,...t}:e).dataset_id?i.dataset_id:(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(n,[i])}async updateExamples(e){let t;return t=void 0===e[0].dataset_id?(await this.readExample(e[0].id)).dataset_id:e[0].dataset_id,this._updateExamplesMultipart(t,e)}async readDatasetVersion({datasetId:e,datasetName:t,asOf:r,tag:i}){let n;if(eE(n=e||(await this.readDataset({datasetName:t})).id),r&&i||!r&&!i)throw Error("Exactly one of asOf and tag must be specified.");let a=new URLSearchParams;void 0!==r&&a.append("as_of","string"==typeof r?r:r.toISOString()),void 0!==i&&a.append("tag",i);let s=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/datasets/${n}/version?${a.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(e,"read dataset version"),e});return await s.json()}async listDatasetSplits({datasetId:e,datasetName:t,asOf:r}){let i;if(void 0===e&&void 0===t)throw Error("Must provide dataset name or ID");if(void 0!==e&&void 0!==t)throw Error("Must provide either datasetName or datasetId, not both");eE(i=void 0===e?(await this.readDataset({datasetName:t})).id:e);let n=new URLSearchParams,a=r?"string"==typeof r?r:r?.toISOString():void 0;return a&&n.append("as_of",a),await this._get(`/datasets/${i}/splits`,n)}async updateDatasetSplits({datasetId:e,datasetName:t,splitName:r,exampleIds:i,remove:n=!1}){let a;if(void 0===e&&void 0===t)throw Error("Must provide dataset name or ID");if(void 0!==e&&void 0!==t)throw Error("Must provide either datasetName or datasetId, not both");eE(a=void 0===e?(await this.readDataset({datasetName:t})).id:e);let s=JSON.stringify({split_name:r,examples:i.map(e=>(eE(e),e)),remove:n});await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/datasets/${a}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await e5(e,"update dataset splits",!0),e})}async evaluateRun(e,t,{sourceInfo:r,loadChildRuns:i,referenceExample:n}={loadChildRuns:!1}){let a;if(eS("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead."),"string"==typeof e)a=await this.readRun(e,{loadChildRuns:i});else if("object"==typeof e&&"id"in e)a=e;else throw Error(`Invalid run type: ${typeof e}`);null!==a.reference_example_id&&void 0!==a.reference_example_id&&(n=await this.readExample(a.reference_example_id));let s=await t.evaluateRun(a,n),[o,l]=await this._logEvaluationFeedback(s,a,r);return l[0]}async createFeedback(e,t,{score:r,value:i,correction:n,comment:a,sourceInfo:s,feedbackSourceType:o="api",sourceRunId:l,feedbackId:u,feedbackConfig:d,projectId:c,comparativeExperimentId:p}){if(!e&&!c)throw Error("One of runId or projectId must be provided");if(e&&c)throw Error("Only one of runId or projectId can be provided");let m={type:o??"api",metadata:s??{}};void 0===l||m?.metadata===void 0||m.metadata.__run||(m.metadata.__run={run_id:l}),m?.metadata!==void 0&&m.metadata.__run?.run_id!==void 0&&eE(m.metadata.__run.run_id);let h={id:u??eg.default(),run_id:e,key:t,score:tc(r),value:i,correction:n,comment:a,feedback_source:m,comparative_experiment_id:p,feedbackConfig:d,session_id:c},f=JSON.stringify(h),g=`${this.apiUrl}/feedback`;return await this.caller.call(async()=>{let e=await this._fetch(g,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:f});return await e5(e,"create feedback",!0),e}),h}async updateFeedback(e,{score:t,value:r,correction:i,comment:n}){let a={};null!=t&&(a.score=tc(t)),null!=r&&(a.value=r),null!=i&&(a.correction=i),null!=n&&(a.comment=n),eE(e);let s=JSON.stringify(a);await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await e5(t,"update feedback",!0),t})}async readFeedback(e){eE(e);let t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){eE(e);let t=`/feedback/${e}`;await this.caller.call(async()=>{let e=await this._fetch(this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(e,`delete ${t}`,!0),e})}async *listFeedback({runIds:e,feedbackKeys:t,feedbackSourceTypes:r}={}){let i=new URLSearchParams;if(e)for(let t of e)eE(t),i.append("run",t);if(t)for(let e of t)i.append("key",e);if(r)for(let e of r)i.append("source",e);for await(let e of this._getPaginated("/feedback",i))yield*e}async createPresignedFeedbackToken(e,t,{expiration:r,feedbackConfig:i}={}){let n={run_id:e,feedback_key:t,feedback_config:i};r?"string"==typeof r?n.expires_at=r:(r?.hours||r?.minutes||r?.days)&&(n.expires_in=r):n.expires_in={hours:3};let a=JSON.stringify(n),s=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await e5(e,"create presigned feedback token"),e});return await s.json()}async createComparativeExperiment({name:e,experimentIds:t,referenceDatasetId:r,createdAt:i,description:n,metadata:a,id:s}){if(0===t.length)throw Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:t[0]})).reference_dataset_id),null==!r)throw Error("A reference dataset is required");let o={id:s,name:e,experiment_ids:t,reference_dataset_id:r,description:n,created_at:(i??new Date)?.toISOString(),extra:{}};a&&(o.extra.metadata=a);let l=JSON.stringify(o);return(await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:l});return await e5(e,"create comparative experiment"),e})).json()}async *listPresignedFeedbackTokens(e){eE(e);let t=new URLSearchParams({run_id:e});for await(let e of this._getPaginated("/feedback/tokens",t))yield*e}_selectEvalResults(e){return"results"in e?e.results:Array.isArray(e)?e:[e]}async _logEvaluationFeedback(e,t,r){let i=this._selectEvalResults(e),n=[];for(let e of i){let i=r||{};e.evaluatorInfo&&(i={...e.evaluatorInfo,...i});let a=null;e.targetRunId?a=e.targetRunId:t&&(a=t.id),n.push(await this.createFeedback(a,e.key,{score:e.score,value:e.value,comment:e.comment,correction:e.correction,sourceInfo:i,sourceRunId:e.sourceRunId,feedbackConfig:e.feedbackConfig,feedbackSourceType:"model"}))}return[i,n]}async logEvaluationFeedback(e,t,r){let[i]=await this._logEvaluationFeedback(e,t,r);return i}async *listAnnotationQueues(e={}){let{queueIds:t,name:r,nameContains:i,limit:n}=e,a=new URLSearchParams;t&&t.forEach((e,t)=>{eE(e,`queueIds[${t}]`),a.append("ids",e)}),r&&a.append("name",r),i&&a.append("name_contains",i),a.append("limit",(void 0!==n?Math.min(n,100):100).toString());let s=0;for await(let e of this._getPaginated("/annotation-queues",a))if(yield*e,s++,void 0!==n&&s>=n)break}async createAnnotationQueue(e){let{name:t,description:r,queueId:i,rubricInstructions:n}=e,a=JSON.stringify(Object.fromEntries(Object.entries({name:t,description:r,id:i||eg.default(),rubric_instructions:n}).filter(([e,t])=>void 0!==t)));return(await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await e5(e,"create annotation queue"),e})).json()}async readAnnotationQueue(e){return(await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/annotation-queues/${eE(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,"read annotation queue"),t})).json()}async updateAnnotationQueue(e,t){let{name:r,description:i,rubricInstructions:n}=t,a=JSON.stringify({name:r,description:i,rubric_instructions:n});await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/annotation-queues/${eE(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await e5(t,"update annotation queue",!0),t})}async deleteAnnotationQueue(e){await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/annotation-queues/${eE(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,"delete annotation queue",!0),t})}async addRunsToAnnotationQueue(e,t){let r=JSON.stringify(t.map((e,t)=>eE(e,`runIds[${t}]`).toString()));await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/annotation-queues/${eE(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await e5(t,"add runs to annotation queue",!0),t})}async getRunFromAnnotationQueue(e,t){let r=`/annotation-queues/${eE(e,"queueId")}/run`;return(await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}${r}/${t}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(e,"get run from annotation queue"),e})).json()}async deleteRunFromAnnotationQueue(e,t){await this.caller.call(async()=>{let r=await this._fetch(`${this.apiUrl}/annotation-queues/${eE(e,"queueId")}/runs/${eE(t,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(r,"delete run from annotation queue",!0),r})}async getSizeFromAnnotationQueue(e){return(await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/annotation-queues/${eE(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,"get size from annotation queue"),t})).json()}async _currentTenantIsOwner(e){let t=await this._getSettings();return"-"==e||t.tenant_handle===e}async _ownerConflictError(e,t){let r=await this._getSettings();return Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${t}`)}async _getLatestCommitHash(e){let t=await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(t,"get latest commit hash"),t}),r=await t.json();if(0!==r.commits.length)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,t){let[r,i,n]=e2(e),a=JSON.stringify({like:t});return(await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/likes/${r}/${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await e5(e,`${t?"like":"unlike"} prompt`),e})).json()}async _getPromptUrl(e){let[t,r,i]=e2(e);if(await this._currentTenantIsOwner(t)){let e=await this._getSettings();return"latest"!==i?`${this.getHostUrl()}/prompts/${r}/${i.substring(0,8)}?organizationId=${e.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${e.id}`}return"latest"!==i?`${this.getHostUrl()}/hub/${t}/${r}/${i.substring(0,8)}`:`${this.getHostUrl()}/hub/${t}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async *listCommits(e){for await(let t of this._getPaginated(`/commits/${e}/`,new URLSearchParams,e=>e.commits))yield*t}async *listPrompts(e){let t=new URLSearchParams;for await(let r of(t.append("sort_field",e?.sortField??"updated_at"),t.append("sort_direction","desc"),t.append("is_archived",(!!e?.isArchived).toString()),e?.isPublic!==void 0&&t.append("is_public",e.isPublic.toString()),e?.query&&t.append("query",e.query),this._getPaginated("/repos",t,e=>e.repos)))yield*r}async getPrompt(e){let[t,r,i]=e2(e),n=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/repos/${t}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return e?.status===404?null:(await e5(e,"get prompt"),e)}),a=await n?.json();return a?.repo?a.repo:null}async createPrompt(e,t){let r=await this._getSettings();if(t?.isPublic&&!r.tenant_handle)throw Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle.
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);let[i,n,a]=e2(e);if(!await this._currentTenantIsOwner(i))throw await this._ownerConflictError("create a prompt",i);let s=JSON.stringify({repo_handle:n,...t?.description&&{description:t.description},...t?.readme&&{readme:t.readme},...t?.tags&&{tags:t.tags},is_public:!!t?.isPublic}),o=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:s});return await e5(e,"create prompt"),e}),{repo:l}=await o.json();return l}async createCommit(e,t,r){if(!await this.promptExists(e))throw Error("Prompt does not exist, you must create it first.");let[i,n,a]=e2(e),s=r?.parentCommitHash!=="latest"&&r?.parentCommitHash?r?.parentCommitHash:await this._getLatestCommitHash(`${i}/${n}`),o=JSON.stringify({manifest:JSON.parse(JSON.stringify(t)),parent_commit:s}),l=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/commits/${i}/${n}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:o});return await e5(e,"create commit"),e}),u=await l.json();return this._getPromptUrl(`${i}/${n}${u.commit_hash?`:${u.commit_hash}`:""}`)}async updateExamplesMultipart(e,t=[]){return this._updateExamplesMultipart(e,t)}async _updateExamplesMultipart(e,t=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");let r=new FormData;for(let e of t){let t=e.id,i=new Blob([ta({...e.metadata&&{metadata:e.metadata},...e.split&&{split:e.split}},`Serializing body for example with id: ${t}`)],{type:"application/json"});if(r.append(t,i),e.inputs){let i=new Blob([ta(e.inputs,`Serializing inputs for example with id: ${t}`)],{type:"application/json"});r.append(`${t}.inputs`,i)}if(e.outputs){let i=new Blob([ta(e.outputs,`Serializing outputs whle updating example with id: ${t}`)],{type:"application/json"});r.append(`${t}.outputs`,i)}if(e.attachments)for(let[i,n]of Object.entries(e.attachments)){let e,a;Array.isArray(n)?[e,a]=n:(e=n.mimeType,a=n.data);let s=new Blob([a],{type:`${e}; length=${a.byteLength}`});r.append(`${t}.attachment.${i}`,s)}if(e.attachments_operations){let i=new Blob([ta(e.attachments_operations,`Serializing attachments while updating example with id: ${t}`)],{type:"application/json"});r.append(`${t}.attachments_operations`,i)}}let i=e??t[0]?.dataset_id;return(await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${i}/examples`)}`,{method:"PATCH",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await e5(e,"update examples"),e})).json()}async uploadExamplesMultipart(e,t=[]){return this._uploadExamplesMultipart(e,t)}async _uploadExamplesMultipart(e,t=[]){if(!await this._getDatasetExamplesMultiPartSupport())throw Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");let r=new FormData;for(let e of t){let t=(e.id??eg.default()).toString(),i=new Blob([ta({created_at:e.created_at,...e.metadata&&{metadata:e.metadata},...e.split&&{split:e.split},...e.source_run_id&&{source_run_id:e.source_run_id},...e.use_source_run_io&&{use_source_run_io:e.use_source_run_io},...e.use_source_run_attachments&&{use_source_run_attachments:e.use_source_run_attachments}},`Serializing body for uploaded example with id: ${t}`)],{type:"application/json"});if(r.append(t,i),e.inputs){let i=new Blob([ta(e.inputs,`Serializing inputs for uploaded example with id: ${t}`)],{type:"application/json"});r.append(`${t}.inputs`,i)}if(e.outputs){let i=new Blob([ta(e.outputs,`Serializing outputs for uploaded example with id: ${t}`)],{type:"application/json"});r.append(`${t}.outputs`,i)}if(e.attachments)for(let[i,n]of Object.entries(e.attachments)){let e,a;Array.isArray(n)?[e,a]=n:(e=n.mimeType,a=n.data);let s=new Blob([a],{type:`${e}; length=${a.byteLength}`});r.append(`${t}.attachment.${i}`,s)}}return(await this.caller.call(async()=>{let t=await this._fetch(`${this.apiUrl}${this._getPlatformEndpointPath(`datasets/${e}/examples`)}`,{method:"POST",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:r});return await e5(t,"upload examples"),t})).json()}async updatePrompt(e,t){if(!await this.promptExists(e))throw Error("Prompt does not exist, you must create it first.");let[r,i]=e2(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);let n={};if(t?.description!==void 0&&(n.description=t.description),t?.readme!==void 0&&(n.readme=t.readme),t?.tags!==void 0&&(n.tags=t.tags),t?.isPublic!==void 0&&(n.is_public=t.isPublic),t?.isArchived!==void 0&&(n.is_archived=t.isArchived),0===Object.keys(n).length)throw Error("No valid update options provided");let a=JSON.stringify(n);return(await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/repos/${r}/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:a});return await e5(e,"update prompt"),e})).json()}async deletePrompt(e){if(!await this.promptExists(e))throw Error("Prompt does not exist, you must create it first.");let[t,r,i]=e2(e);if(!await this._currentTenantIsOwner(t))throw await this._ownerConflictError("delete a prompt",t);return(await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/repos/${t}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(e,"delete prompt"),e})).json()}async pullPromptCommit(e,t){let[r,i,n]=e2(e),a=await this.caller.call(async()=>{let e=await this._fetch(`${this.apiUrl}/commits/${r}/${i}/${n}${t?.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await e5(e,"pull prompt commit"),e}),s=await a.json();return{owner:r,repo:i,commit_hash:s.commit_hash,manifest:s.manifest,examples:s.examples}}async _pullPrompt(e,t){return JSON.stringify((await this.pullPromptCommit(e,{includeModel:t?.includeModel})).manifest)}async pushPrompt(e,t){return(await this.promptExists(e)?t&&Object.keys(t).some(e=>"object"!==e)&&await this.updatePrompt(e,{description:t?.description,readme:t?.readme,tags:t?.tags,isPublic:t?.isPublic}):await this.createPrompt(e,{description:t?.description,readme:t?.readme,tags:t?.tags,isPublic:t?.isPublic}),t?.object)?await this.createCommit(e,t?.object,{parentCommitHash:t?.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,t={}){let{sourceApiUrl:r=this.apiUrl,datasetName:i}=t,[n,a]=this.parseTokenOrUrl(e,r),s=new th({apiUrl:n,apiKey:"placeholder"}),o=await s.readSharedDataset(a),l=i||o.name;try{if(await this.hasDataset({datasetId:l}))return void console.log(`Dataset ${l} already exists in your tenant. Skipping.`)}catch(e){}let u=await s.listSharedExamples(a),d=await this.createDataset(l,{description:o.description,dataType:o.data_type||"kv",inputsSchema:o.inputs_schema_definition??void 0,outputsSchema:o.outputs_schema_definition??void 0});try{await this.createExamples({inputs:u.map(e=>e.inputs),outputs:u.flatMap(e=>e.outputs?[e.outputs]:[]),datasetId:d.id})}catch(e){throw console.error(`An error occurred while creating dataset ${l}. You should delete it manually.`),e}}parseTokenOrUrl(e,t,r=2,i="dataset"){try{return eE(e),[t,e]}catch(e){}try{let n=new URL(e).pathname.split("/").filter(e=>""!==e);if(n.length>=r){let e=n[n.length-r];return[t,e]}throw Error(`Invalid public ${i} URL: ${e}`)}catch(t){throw Error(`Invalid public ${i} URL or token: ${e}`)}}async awaitPendingTraceBatches(){if(this.manualFlushMode)return console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve();await Promise.all([...this.autoBatchQueue.items.map(({itemPromise:e})=>e),this.batchIngestCaller.queue.onIdle()]),void 0!==this.langSmithToOTELTranslator&&await eF.getDefaultOTLPTracerComponents()?.DEFAULT_LANGSMITH_SPAN_PROCESSOR?.forceFlush()}}function tf(e){return"dataset_id"in e||"dataset_name"in e}let tg=Symbol.for("lc:context_variables"),t_=Symbol.for("langsmith:replica_trace_roots");function tv(e,t){if(tg in e)return e[tg][t]}var ty=e.i(445989),ty=ty;let tb="6ba7b810-9dad-11d1-80b4-00c04fd430c8";function t$(e){let t=Object.keys(e).sort().map(t=>`${t}:${e[t]??""}`).join("|");return(0,ty.default)(t,tb)}function tw(e,t=1){let r=t.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${r}Z`}function tx(e,t,r=1){let i=tw(e,r);return{dottedOrder:i.replace(/[-:.]/g,"")+t,microsecondPrecisionDatestring:i}}class tk{constructor(e,t,r,i){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=t,this.project_name=r,this.replicas=i}static fromHeader(e){let t,r,i=e.split(","),n={},a=[];for(let e of i){let[i,s]=e.split("="),o=decodeURIComponent(s);"langsmith-metadata"===i?n=JSON.parse(o):"langsmith-tags"===i?a=o.split(","):"langsmith-project"===i?t=o:"langsmith-replicas"===i&&(r=JSON.parse(o))}return new tk(n,a,t,r)}toHeader(){let e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class tI{constructor(e){if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"replicas",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"distributedParentId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_serialized_start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),function(e){return null!=e&&"function"==typeof e.createChild&&"function"==typeof e.postRun}(e))return void Object.assign(this,{...e});const t=tI.getDefaultConfig(),{metadata:r,...i}=e,n=i.client??tI.getSharedClient(),a={...r,...i?.extra?.metadata};if(i.extra={...i.extra,metadata:a},"id"in i&&null==i.id&&delete i.id,Object.assign(this,{...t,...i,client:n}),this.execution_order??=1,this.child_execution_order??=1,this.dotted_order||(this._serialized_start_time=tw(this.start_time,this.execution_order)),this.id||(this.id=function(e){let t="string"==typeof e?Date.parse(e):e;return(0,ek.default)({msecs:t,seq:0})}(this._serialized_start_time??this.start_time)),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.replicas=function(e){return e?e.map(e=>Array.isArray(e)?{projectName:e[0],updates:e[1]}:e):function(){let e=eP("LANGSMITH_RUNS_ENDPOINTS");if(!e)return[];try{let r=JSON.parse(e);if(Array.isArray(r)){let e=[];for(let t of r){if("object"!=typeof t||null===t){console.warn(`Invalid item type in LANGSMITH_RUNS_ENDPOINTS: expected object, got ${typeof t}`);continue}if("string"!=typeof t.api_url){console.warn(`Invalid api_url type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof t.api_url}`);continue}if("string"!=typeof t.api_key){console.warn(`Invalid api_key type in LANGSMITH_RUNS_ENDPOINTS: expected string, got ${typeof t.api_key}`);continue}e.push({apiUrl:t.api_url.replace(/\/$/,""),apiKey:t.api_key})}return e}if("object"!=typeof r||null===r)return console.warn(`Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey, got ${typeof r}`),[];{var t=r;if(Object.keys(t).length>0&&eC("ENDPOINT"))throw new e8;let e=[];for(let[t,i]of Object.entries(r)){let r=t.replace(/\/$/,"");if("string"==typeof i)e.push({apiUrl:r,apiKey:i});else{console.warn(`Invalid value type in LANGSMITH_RUNS_ENDPOINTS for URL ${t}: expected string, got ${typeof i}`);continue}}return e}}catch(e){if("object"==typeof e&&null!==e&&e.code===e3)throw e;return console.warn("Invalid LANGSMITH_RUNS_ENDPOINTS  must be valid JSON array of objects with api_url and api_key properties, or object mapping url->apiKey"),[]}}()}(this.replicas),!this.dotted_order){const{dottedOrder:e}=tx(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+e:this.dotted_order=e}}set metadata(e){this.extra={...this.extra,metadata:{...this.extra?.metadata,...e}}}get metadata(){return this.extra?.metadata}static getDefaultConfig(){let e=Date.now();return{run_type:"chain",project_name:ex(),child_runs:[],api_url:eP("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:eP("LANGCHAIN_API_KEY"),caller_options:{},start_time:e,serialized:{},inputs:{},extra:{}}}static getSharedClient(){return tI.sharedClient||(tI.sharedClient=new th),tI.sharedClient}createChild(e){var t,r;let i=this.child_execution_order+1,n=this.replicas?.map(e=>{let{reroot:t,...r}=e;return r}),a=e.replicas??n,s=new tI({...e,parent_run:this,project_name:this.project_name,replicas:a,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:i,child_execution_order:i});tg in this&&(s[tg]=this[tg]);let o=Symbol.for("lc:child_config"),l=e.extra?.[o]??this.extra[o];if(null!=(t=l)&&"object"==typeof t.callbacks&&(tO(t.callbacks?.handlers)||tO(t.callbacks))){let e={...l},t="object"==typeof(r=e.callbacks)&&null!=r&&Array.isArray(r.handlers)?e.callbacks.copy?.():void 0;t&&(Object.assign(t,{_parentRunId:s.id}),t.handlers?.find(tS)?.updateFromRunTree?.(s),e.callbacks=t),s.extra[o]=e}let u=new Set,d=this;for(;null!=d&&!u.has(d.id);)u.add(d.id),d.child_execution_order=Math.max(d.child_execution_order,i),d=d.parent_run;return this.child_runs.push(s),s}async end(e,t,r=Date.now(),i){this.outputs=this.outputs??e,this.error=this.error??t,this.end_time=this.end_time??r,i&&Object.keys(i).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...i}}:{metadata:i})}_convertToCreate(e,t,r=!0){let i,n,a=e.extra??{};if(a?.runtime?.library===void 0&&(a.runtime||(a.runtime={}),t))for(let[e,r]of Object.entries(t))a.runtime[e]||(a.runtime[e]=r);return r?(n=e.parent_run?.id??e.parent_run_id,i=[]):(i=e.child_runs.map(e=>this._convertToCreate(e,t,r)),n=void 0),{id:e.id,name:e.name,start_time:e._serialized_start_time??e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:a,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:i,parent_run_id:n,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments,events:e.events}}_sliceParentId(e,t){if(t.dotted_order){let r=t.dotted_order.split("."),i=null;for(let t=0;t<r.length;t++)if(r[t].slice(-36)===e){i=t;break}if(null!==i){let e=r.slice(i+1);t.dotted_order=e.join("."),e.length>0?t.trace_id=e[0].slice(-36):t.trace_id=t.id}}t.parent_run_id===e&&(t.parent_run_id=void 0)}_setReplicaTraceRoot(e,t){let r,i=tv(this,t_)??{};for(let n of(i[e]=t,(r=tg in this?this[tg]:{})[t_]=i,this[tg]=r,this.child_runs))n._setReplicaTraceRoot(e,t)}_remapForProject(e){let t,r,i,n,{projectName:a,runtimeEnv:s,excludeChildRuns:o=!0,reroot:l=!1,distributedParentId:u,apiUrl:d,apiKey:c,workspaceId:p}=e,m=this._convertToCreate(this,s,o);if(a===this.project_name)return{...m,session_name:a};if(l){if(u)this._sliceParentId(u,m);else if(m.parent_run_id=void 0,m.dotted_order){let e=m.dotted_order.split(".");e.length>0&&(m.dotted_order=e[e.length-1],m.trace_id=m.id)}let e=t$({projectName:a,apiUrl:d,apiKey:c,workspaceId:p});this._setReplicaTraceRoot(e,m.id)}if(!l&&(t=(tv(this,t_)??{})[t$({projectName:a,apiUrl:d,apiKey:c,workspaceId:p})])&&(m.trace_id=t,m.dotted_order)){let e=m.dotted_order.split("."),r=null;for(let i=0;i<e.length;i++)if(e[i].slice(-36)===t){r=i;break}null!==r&&(m.dotted_order=e.slice(r).join("."))}let h=m.id,f=(0,ty.default)(`${h}:${a}`,tb);return r=m.trace_id?(0,ty.default)(`${m.trace_id}:${a}`,tb):f,m.parent_run_id&&(i=(0,ty.default)(`${m.parent_run_id}:${a}`,tb)),m.dotted_order&&(n=m.dotted_order.split(".").map(e=>{let t=e.slice(-36),r=(0,ty.default)(`${t}:${a}`,tb);return e.slice(0,-36)+r}).join(".")),{...m,id:f,trace_id:r,parent_run_id:i,dotted_order:n,session_name:a}}async postRun(e=!0){try{let t=eN();if(this.replicas&&this.replicas.length>0)for(let{projectName:e,apiKey:r,apiUrl:i,workspaceId:n,reroot:a}of this.replicas){let s=this._remapForProject({projectName:e??this.project_name,runtimeEnv:t,excludeChildRuns:!0,reroot:a,distributedParentId:this.distributedParentId,apiUrl:i,apiKey:r,workspaceId:n});await this.client.createRun(s,{apiKey:r,apiUrl:i,workspaceId:n})}else{let r=this._convertToCreate(this,t,e);await this.client.createRun(r)}if(!e)for(let e of(eS("Posting with excludeChildRuns=false is deprecated and will be removed in a future version."),this.child_runs))await e.postRun(!1)}catch(e){console.error(`Error in postRun for run ${this.id}:`,e)}}async patchRun(e){if(this.replicas&&this.replicas.length>0)for(let{projectName:t,apiKey:r,apiUrl:i,workspaceId:n,updates:a,reroot:s}of this.replicas){let o=this._remapForProject({projectName:t??this.project_name,runtimeEnv:void 0,excludeChildRuns:!0,reroot:s,distributedParentId:this.distributedParentId,apiUrl:i,apiKey:r,workspaceId:n}),l={id:o.id,name:o.name,run_type:o.run_type,start_time:o.start_time,outputs:o.outputs,error:o.error,parent_run_id:o.parent_run_id,session_name:o.session_name,reference_example_id:o.reference_example_id,end_time:o.end_time,dotted_order:o.dotted_order,trace_id:o.trace_id,events:o.events,tags:o.tags,extra:o.extra,attachments:this.attachments,...a};e?.excludeInputs||(l.inputs=o.inputs),await this.client.updateRun(o.id,l,{apiKey:r,apiUrl:i,workspaceId:n})}else try{let t={name:this.name,run_type:this.run_type,start_time:this._serialized_start_time??this.start_time,end_time:this.end_time,error:this.error,outputs:this.outputs,parent_run_id:this.parent_run?.id??this.parent_run_id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};e?.excludeInputs||(t.inputs=this.inputs),await this.client.updateRun(this.id,t)}catch(e){console.error(`Error in patchRun for run ${this.id}`,e)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),"string"==typeof e?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,t){var r;let i,n,a,s=e?.callbacks,o=void 0!==r?r:!!["TRACING_V2","TRACING"].find(e=>"true"===eC(e));if(s){let e=s?.getParentRunId?.()??"",t=s?.handlers?.find(e=>e?.name=="langchain_tracer");i=t?.getRun?.(e),n=t?.projectName,a=t?.client,o=o||!!t}return i?new tI({name:i.name,id:i.id,trace_id:i.trace_id,dotted_order:i.dotted_order,client:a,tracingEnabled:o,project_name:n,tags:[...new Set((i?.tags??[]).concat(e?.tags??[]))],extra:{metadata:{...i?.extra?.metadata,...e?.metadata}}}).createChild(t):new tI({...t,client:a,tracingEnabled:o,project_name:n})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,t){let r="get"in e&&"function"==typeof e.get?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,i=r["langsmith-trace"];if(!i||"string"!=typeof i)return;let n=i.trim(),a=n.split(".").map(e=>{let[t,r]=e.split("Z");return{strTime:t,time:Date.parse(t+"Z"),uuid:r}}),s=a[0].uuid,o={...t,name:t?.name??"parent",run_type:t?.run_type??"chain",start_time:t?.start_time??Date.now(),id:a.at(-1)?.uuid,trace_id:s,dotted_order:n};if(r.baggage&&"string"==typeof r.baggage){let e=tk.fromHeader(r.baggage);o.metadata=e.metadata,o.tags=e.tags,o.project_name=e.project_name,o.replicas=e.replicas}let l=new tI(o);return l.distributedParentId=l.id,l}toHeaders(e){let t={"langsmith-trace":this.dotted_order,baggage:new tk(this.extra?.metadata,this.tags,this.project_name,this.replicas).toHeader()};if(e)for(let[r,i]of Object.entries(t))e.set(r,i);return t}}function tS(e){return"object"==typeof e&&null!=e&&"string"==typeof e.name&&"langchain_tracer"===e.name}function tO(e){return Array.isArray(e)&&e.some(e=>tS(e))}function tE(e,t){return e&&!Array.isArray(e)&&"object"==typeof e?e:{[t]:e}}function tT(e){return"function"==typeof e._addRunToRunMap}Object.defineProperty(tI,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null}),(0,y.__export)({},{BaseTracer:()=>tA,isBaseTracer:()=>tT});var tA=class extends eh{runMap=new Map;runTreeMap=new Map;usesRunTreeMap=!1;constructor(e){super(...arguments)}copy(){return this}getRunById(e){if(void 0!==e)return this.usesRunTreeMap?(e=>{if(e)return e.events=e.events??[],e.child_runs=e.child_runs??[],e})(this.runTreeMap.get(e)):this.runMap.get(e)}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`

${e.stack}`:""):"string"==typeof e?e:`${e}`}_addChildRun(e,t){e.child_runs.push(t)}_addRunToRunMap(e){let{dottedOrder:t,microsecondPrecisionDatestring:r}=tx(new Date(e.start_time).getTime(),e.id,e.execution_order),i={...e},n=this.getRunById(i.parent_run_id);if(void 0!==i.parent_run_id?n&&(this._addChildRun(n,i),n.child_execution_order=Math.max(n.child_execution_order,i.child_execution_order),i.trace_id=n.trace_id,void 0!==n.dotted_order&&(i.dotted_order=[n.dotted_order,t].join("."),i._serialized_start_time=r)):(i.trace_id=i.id,i.dotted_order=t,i._serialized_start_time=r),this.usesRunTreeMap){let e=function e(t,r){if(t)return new tI({...t,start_time:t._serialized_start_time??t.start_time,parent_run:e(r),child_runs:t.child_runs.map(t=>e(t)).filter(e=>void 0!==e),extra:{...t.extra,runtime:eu()},tracingEnabled:!1})}(i,n);void 0!==e&&this.runTreeMap.set(i.id,e)}else this.runMap.set(i.id,i);return i}async _endTrace(e){let t=void 0!==e.parent_run_id&&this.getRunById(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),await this.onRunUpdate?.(e),this.usesRunTreeMap?this.runTreeMap.delete(e.id):this.runMap.delete(e.id)}_getExecutionOrder(e){let t=void 0!==e&&this.getRunById(e);return t?t.child_execution_order+1:1}_createRunForLLMStart(e,t,r,i,n,a,s,o){let l=this._getExecutionOrder(i),u=Date.now(),d=s?{...n,metadata:s}:n,c={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{prompts:t},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:d??{},tags:a||[]};return this._addRunToRunMap(c)}async handleLLMStart(e,t,r,i,n,a,s,o){let l=this.getRunById(r)??this._createRunForLLMStart(e,t,r,i,n,a,s,o);return await this.onRunCreate?.(l),await this.onLLMStart?.(l),l}_createRunForChatModelStart(e,t,r,i,n,a,s,o){let l=this._getExecutionOrder(i),u=Date.now(),d=s?{...n,metadata:s}:n,c={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:{messages:t},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:d??{},tags:a||[]};return this._addRunToRunMap(c)}async handleChatModelStart(e,t,r,i,n,a,s,o){let l=this.getRunById(r)??this._createRunForChatModelStart(e,t,r,i,n,a,s,o);return await this.onRunCreate?.(l),await this.onLLMStart?.(l),l}async handleLLMEnd(e,t,r,i,n){let a=this.getRunById(t);if(!a||a?.run_type!=="llm")throw Error("No LLM run to end.");return a.end_time=Date.now(),a.outputs=e,a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),a.extra={...a.extra,...n},await this.onLLMEnd?.(a),await this._endTrace(a),a}async handleLLMError(e,t,r,i,n){let a=this.getRunById(t);if(!a||a?.run_type!=="llm")throw Error("No LLM run to end.");return a.end_time=Date.now(),a.error=this.stringifyError(e),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),a.extra={...a.extra,...n},await this.onLLMError?.(a),await this._endTrace(a),a}_createRunForChainStart(e,t,r,i,n,a,s,o){let l=this._getExecutionOrder(i),u=Date.now(),d={id:r,name:o??e.id[e.id.length-1],parent_run_id:i,start_time:u,serialized:e,events:[{name:"start",time:new Date(u).toISOString()}],inputs:t,execution_order:l,child_execution_order:l,run_type:s??"chain",child_runs:[],extra:a?{metadata:a}:{},tags:n||[]};return this._addRunToRunMap(d)}async handleChainStart(e,t,r,i,n,a,s,o){let l=this.getRunById(r)??this._createRunForChainStart(e,t,r,i,n,a,s,o);return await this.onRunCreate?.(l),await this.onChainStart?.(l),l}async handleChainEnd(e,t,r,i,n){let a=this.getRunById(t);if(!a)throw Error("No chain run to end.");return a.end_time=Date.now(),a.outputs=tE(e,"output"),a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),n?.inputs!==void 0&&(a.inputs=tE(n.inputs,"input")),await this.onChainEnd?.(a),await this._endTrace(a),a}async handleChainError(e,t,r,i,n){let a=this.getRunById(t);if(!a)throw Error("No chain run to end.");return a.end_time=Date.now(),a.error=this.stringifyError(e),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),n?.inputs!==void 0&&(a.inputs=tE(n.inputs,"input")),await this.onChainError?.(a),await this._endTrace(a),a}_createRunForToolStart(e,t,r,i,n,a,s){let o=this._getExecutionOrder(i),l=Date.now(),u={id:r,name:s??e.id[e.id.length-1],parent_run_id:i,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{input:t},execution_order:o,child_execution_order:o,run_type:"tool",child_runs:[],extra:a?{metadata:a}:{},tags:n||[]};return this._addRunToRunMap(u)}async handleToolStart(e,t,r,i,n,a,s){let o=this.getRunById(r)??this._createRunForToolStart(e,t,r,i,n,a,s);return await this.onRunCreate?.(o),await this.onToolStart?.(o),o}async handleToolEnd(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="tool")throw Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await this.onToolEnd?.(r),await this._endTrace(r),r}async handleToolError(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="tool")throw Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await this.onToolError?.(r),await this._endTrace(r),r}async handleAgentAction(e,t){let r=this.getRunById(t);r&&r?.run_type==="chain"&&(r.actions=r.actions||[],r.actions.push(e),r.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentAction?.(r))}async handleAgentEnd(e,t){let r=this.getRunById(t);r&&r?.run_type==="chain"&&(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await this.onAgentEnd?.(r))}_createRunForRetrieverStart(e,t,r,i,n,a,s){let o=this._getExecutionOrder(i),l=Date.now(),u={id:r,name:s??e.id[e.id.length-1],parent_run_id:i,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{query:t},execution_order:o,child_execution_order:o,run_type:"retriever",child_runs:[],extra:a?{metadata:a}:{},tags:n||[]};return this._addRunToRunMap(u)}async handleRetrieverStart(e,t,r,i,n,a,s){let o=this.getRunById(r)??this._createRunForRetrieverStart(e,t,r,i,n,a,s);return await this.onRunCreate?.(o),await this.onRetrieverStart?.(o),o}async handleRetrieverEnd(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="retriever")throw Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await this.onRetrieverEnd?.(r),await this._endTrace(r),r}async handleRetrieverError(e,t){let r=this.getRunById(t);if(!r||r?.run_type!=="retriever")throw Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await this.onRetrieverError?.(r),await this._endTrace(r),r}async handleText(e,t){let r=this.getRunById(t);r&&r?.run_type==="chain"&&(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await this.onText?.(r))}async handleLLMNewToken(e,t,r,i,n,a){let s=this.getRunById(r);if(!s||s?.run_type!=="llm")throw Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return s.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:t,chunk:a?.chunk}}),await this.onLLMNewToken?.(s,e,{chunk:a?.chunk}),s}},tN=e.i(704567);function tj(e,t){return`${e.open}${t}${e.close}`}function tP(e,t){try{return JSON.stringify(e,null,2)}catch{return t}}function tC(e){return"string"==typeof e?e.trim():null==e?e:tP(e,e.toString())}function tZ(e){if(!e.end_time)return"";let t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}(0,y.__export)({},{ConsoleCallbackHandler:()=>tU});let{color:tz}=tN.default;var tU=class extends tA{name="console_callback_handler";persistRun(e){return Promise.resolve()}getParents(e){let t=[],r=e;for(;r.parent_run_id;){let e=this.runMap.get(r.parent_run_id);if(e)t.push(e),r=e;else break}return t}getBreadcrumbs(e){let t=[...this.getParents(e).reverse(),e].map((e,t,r)=>{let i=`${e.execution_order}:${e.run_type}:${e.name}`;return t===r.length-1?tj(tN.default.bold,i):i}).join(" > ");return tj(tz.grey,t)}onChainStart(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.green,"[chain/start]")} [${t}] Entering Chain run with input: ${tP(e.inputs,"[inputs]")}`)}onChainEnd(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.cyan,"[chain/end]")} [${t}] [${tZ(e)}] Exiting Chain run with output: ${tP(e.outputs,"[outputs]")}`)}onChainError(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.red,"[chain/error]")} [${t}] [${tZ(e)}] Chain run errored with error: ${tP(e.error,"[error]")}`)}onLLMStart(e){let t=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(e=>e.trim())}:e.inputs;console.log(`${tj(tz.green,"[llm/start]")} [${t}] Entering LLM run with input: ${tP(r,"[inputs]")}`)}onLLMEnd(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.cyan,"[llm/end]")} [${t}] [${tZ(e)}] Exiting LLM run with output: ${tP(e.outputs,"[response]")}`)}onLLMError(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.red,"[llm/error]")} [${t}] [${tZ(e)}] LLM run errored with error: ${tP(e.error,"[error]")}`)}onToolStart(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.green,"[tool/start]")} [${t}] Entering Tool run with input: "${tC(e.inputs.input)}"`)}onToolEnd(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.cyan,"[tool/end]")} [${t}] [${tZ(e)}] Exiting Tool run with output: "${tC(e.outputs?.output)}"`)}onToolError(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.red,"[tool/error]")} [${t}] [${tZ(e)}] Tool run errored with error: ${tP(e.error,"[error]")}`)}onRetrieverStart(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${tP(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.cyan,"[retriever/end]")} [${t}] [${tZ(e)}] Exiting Retriever run with output: ${tP(e.outputs,"[outputs]")}`)}onRetrieverError(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.red,"[retriever/error]")} [${t}] [${tZ(e)}] Retriever run errored with error: ${tP(e.error,"[error]")}`)}onAgentAction(e){let t=this.getBreadcrumbs(e);console.log(`${tj(tz.blue,"[agent/action]")} [${t}] Agent selected action: ${tP(e.actions[e.actions.length-1],"[action]")}`)}};e.i(49753);let tR=()=>(void 0===a&&(a=new th("false"===ed("LANGCHAIN_CALLBACKS_BACKGROUND")?{blockOnRootRunFinalization:!0}:{})),a),tD=Symbol.for("ls:tracing_async_local_storage"),tL=new class{getStore(){}run(e,t){return t()}},tM=new class{getInstance(){return globalThis[tD]??tL}initializeGlobalInstance(e){void 0===globalThis[tD]&&(globalThis[tD]=e)}};function tF(e){return"function"==typeof e&&"langsmith:traceable"in e}Symbol.for("langsmith:traceable:root"),(0,y.__export)({},{LangChainTracer:()=>tB});var tB=class e extends tA{name="langchain_tracer";projectName;exampleId;client;replicas;usesRunTreeMap=!0;constructor(t={}){super(t);const{exampleId:r,projectName:i,client:n,replicas:a}=t;this.projectName=i??ex(),this.replicas=a,this.exampleId=r,this.client=n??tR();const s=e.getTraceableRunTree();s&&this.updateFromRunTree(s)}async persistRun(e){}async onRunCreate(e){let t=this.getRunTreeWithTracingConfig(e.id);await t?.postRun()}async onRunUpdate(e){let t=this.getRunTreeWithTracingConfig(e.id);await t?.patchRun()}getRun(e){return this.runTreeMap.get(e)}updateFromRunTree(e){this.runTreeMap.set(e.id,e);let t=e,r=new Set;for(;t.parent_run&&!r.has(t.id)&&(r.add(t.id),t.parent_run);){;t=t.parent_run}r.clear();let i=[t];for(;i.length>0;){let e=i.shift();!(!e||r.has(e.id))&&(r.add(e.id),this.runTreeMap.set(e.id,e),e.child_runs&&i.push(...e.child_runs))}this.client=e.client??this.client,this.replicas=e.replicas??this.replicas,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}getRunTreeWithTracingConfig(e){let t=this.runTreeMap.get(e);if(t)return new tI({...t,client:this.client,project_name:this.projectName,replicas:this.replicas,reference_example_id:this.exampleId,tracingEnabled:!0})}static getTraceableRunTree(){try{return function(e=!1){let t=tM.getInstance().getStore();if(!e&&void 0===t)throw Error("Could not get the current run tree.\n\nPlease make sure you are calling this method within a traceable function and that tracing is enabled.");return t}(!0)}catch{return}}};async function tJ(e,t){if(!0===t){let t=er();void 0!==t?await t.run(void 0,async()=>e()):await e()}else void 0===s&&(s=new("default"in eQ.default?eQ.default.default:eQ.default)({autoStart:!0,concurrency:1})),s.add(async()=>{let t=er();void 0!==t?await t.run(void 0,async()=>e()):await e()})}async function tW(){let e=tR();await Promise.allSettled([void 0!==s?s.onIdle():Promise.resolve(),e.awaitPendingTraceBatches()])}function tV(e){let t=er();if(void 0===t)return;let r=t.getStore();return r?.[et]?.[e]}(0,y.__export)({},{awaitAllCallbacks:()=>tW,consumeCallback:()=>tJ});let tG=Symbol("lc:configure_hooks");var ec=ec;function tq(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}}(0,y.__export)({},{BaseCallbackManager:()=>tK,BaseRunManager:()=>tH,CallbackManager:()=>t1,CallbackManagerForChainRun:()=>tQ,CallbackManagerForLLMRun:()=>tY,CallbackManagerForRetrieverRun:()=>tX,CallbackManagerForToolRun:()=>t0,ensureHandler:()=>t4,parseCallbackConfigArg:()=>tq});var tK=class{setHandler(e){return this.setHandlers([e])}},tH=class{constructor(e,t,r,i,n,a,s,o){this.runId=e,this.handlers=t,this.inheritableHandlers=r,this.tags=i,this.inheritableTags=n,this.metadata=a,this.inheritableMetadata=s,this._parentRunId=o}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(t=>tJ(async()=>{try{await t.handleText?.(e,this.runId,this._parentRunId,this.tags)}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleText: ${e}`),t.raiseError)throw e}},t.awaitHandlers)))}async handleCustomEvent(e,t,r,i,n){await Promise.all(this.handlers.map(r=>tJ(async()=>{try{await r.handleCustomEvent?.(e,t,this.runId,this.tags,this.metadata)}catch(e){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleCustomEvent: ${e}`),r.raiseError)throw e}},r.awaitHandlers)))}},tX=class extends tH{getChild(e){let t=new t1(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(t=>tJ(async()=>{if(!t.ignoreRetriever)try{await t.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetriever`),t.raiseError)throw e}},t.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(t=>tJ(async()=>{if(!t.ignoreRetriever)try{await t.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags)}catch(r){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleRetrieverError: ${r}`),t.raiseError)throw e}},t.awaitHandlers)))}},tY=class extends tH{async handleLLMNewToken(e,t,r,i,n,a){await Promise.all(this.handlers.map(r=>tJ(async()=>{if(!r.ignoreLLM)try{await r.handleLLMNewToken?.(e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,a)}catch(e){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleLLMNewToken: ${e}`),r.raiseError)throw e}},r.awaitHandlers)))}async handleLLMError(e,t,r,i,n){await Promise.all(this.handlers.map(t=>tJ(async()=>{if(!t.ignoreLLM)try{await t.handleLLMError?.(e,this.runId,this._parentRunId,this.tags,n)}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMError: ${e}`),t.raiseError)throw e}},t.awaitHandlers)))}async handleLLMEnd(e,t,r,i,n){await Promise.all(this.handlers.map(t=>tJ(async()=>{if(!t.ignoreLLM)try{await t.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags,n)}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleLLMEnd: ${e}`),t.raiseError)throw e}},t.awaitHandlers)))}},tQ=class extends tH{getChild(e){let t=new t1(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,r,i,n){await Promise.all(this.handlers.map(t=>tJ(async()=>{if(!t.ignoreChain)try{await t.handleChainError?.(e,this.runId,this._parentRunId,this.tags,n)}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainError: ${e}`),t.raiseError)throw e}},t.awaitHandlers)))}async handleChainEnd(e,t,r,i,n){await Promise.all(this.handlers.map(t=>tJ(async()=>{if(!t.ignoreChain)try{await t.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,n)}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleChainEnd: ${e}`),t.raiseError)throw e}},t.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(t=>tJ(async()=>{if(!t.ignoreAgent)try{await t.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags)}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentAction: ${e}`),t.raiseError)throw e}},t.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(t=>tJ(async()=>{if(!t.ignoreAgent)try{await t.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleAgentEnd: ${e}`),t.raiseError)throw e}},t.awaitHandlers)))}},t0=class extends tH{getChild(e){let t=new t1(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map(t=>tJ(async()=>{if(!t.ignoreAgent)try{await t.handleToolError?.(e,this.runId,this._parentRunId,this.tags)}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolError: ${e}`),t.raiseError)throw e}},t.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(t=>tJ(async()=>{if(!t.ignoreAgent)try{await t.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags)}catch(e){if((t.raiseError?console.error:console.warn)(`Error in handler ${t.constructor.name}, handleToolEnd: ${e}`),t.raiseError)throw e}},t.awaitHandlers)))}},t1=class e extends tK{handlers=[];inheritableHandlers=[];tags=[];inheritableTags=[];metadata={};inheritableMetadata={};name="callback_manager";_parentRunId;constructor(e,t){super(),this.handlers=t?.handlers??this.handlers,this.inheritableHandlers=t?.inheritableHandlers??this.inheritableHandlers,this.tags=t?.tags??this.tags,this.inheritableTags=t?.inheritableTags??this.inheritableTags,this.metadata=t?.metadata??this.metadata,this.inheritableMetadata=t?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,t,r,i,n,a,s,o){return Promise.all(t.map(async(t,i)=>{let a=0===i&&r?r:(0,ec.default)();return await Promise.all(this.handlers.map(r=>{if(!r.ignoreLLM)return tT(r)&&r._createRunForLLMStart(e,[t],a,this._parentRunId,n,this.tags,this.metadata,o),tJ(async()=>{try{await r.handleLLMStart?.(e,[t],a,this._parentRunId,n,this.tags,this.metadata,o)}catch(e){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleLLMStart: ${e}`),r.raiseError)throw e}},r.awaitHandlers)})),new tY(a,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,t,r,i,n,a,s,o){return Promise.all(t.map(async(t,i)=>{let a=0===i&&r?r:(0,ec.default)();return await Promise.all(this.handlers.map(r=>{if(!r.ignoreLLM)return tT(r)&&r._createRunForChatModelStart(e,[t],a,this._parentRunId,n,this.tags,this.metadata,o),tJ(async()=>{try{if(r.handleChatModelStart)await r.handleChatModelStart?.(e,[t],a,this._parentRunId,n,this.tags,this.metadata,o);else if(r.handleLLMStart){let i=q(t);await r.handleLLMStart?.(e,[i],a,this._parentRunId,n,this.tags,this.metadata,o)}}catch(e){if((r.raiseError?console.error:console.warn)(`Error in handler ${r.constructor.name}, handleLLMStart: ${e}`),r.raiseError)throw e}},r.awaitHandlers)})),new tY(a,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,t,r=(0,ec.default)(),i,n,a,s){return await Promise.all(this.handlers.map(n=>{if(!n.ignoreChain)return tT(n)&&n._createRunForChainStart(e,t,r,this._parentRunId,this.tags,this.metadata,i,s),tJ(async()=>{try{await n.handleChainStart?.(e,t,r,this._parentRunId,this.tags,this.metadata,i,s)}catch(e){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleChainStart: ${e}`),n.raiseError)throw e}},n.awaitHandlers)})),new tQ(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t,r=(0,ec.default)(),i,n,a,s){return await Promise.all(this.handlers.map(i=>{if(!i.ignoreAgent)return tT(i)&&i._createRunForToolStart(e,t,r,this._parentRunId,this.tags,this.metadata,s),tJ(async()=>{try{await i.handleToolStart?.(e,t,r,this._parentRunId,this.tags,this.metadata,s)}catch(e){if((i.raiseError?console.error:console.warn)(`Error in handler ${i.constructor.name}, handleToolStart: ${e}`),i.raiseError)throw e}},i.awaitHandlers)})),new t0(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,t,r=(0,ec.default)(),i,n,a,s){return await Promise.all(this.handlers.map(i=>{if(!i.ignoreRetriever)return tT(i)&&i._createRunForRetrieverStart(e,t,r,this._parentRunId,this.tags,this.metadata,s),tJ(async()=>{try{await i.handleRetrieverStart?.(e,t,r,this._parentRunId,this.tags,this.metadata,s)}catch(e){if((i.raiseError?console.error:console.warn)(`Error in handler ${i.constructor.name}, handleRetrieverStart: ${e}`),i.raiseError)throw e}},i.awaitHandlers)})),new tX(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,t,r,i,n){await Promise.all(this.handlers.map(i=>tJ(async()=>{if(!i.ignoreCustomEvent)try{await i.handleCustomEvent?.(e,t,r,this.tags,this.metadata)}catch(e){if((i.raiseError?console.error:console.warn)(`Error in handler ${i.constructor.name}, handleCustomEvent: ${e}`),i.raiseError)throw e}},i.awaitHandlers)))}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e),this.inheritableHandlers=this.inheritableHandlers.filter(t=>t!==e)}setHandlers(e,t=!0){for(let r of(this.handlers=[],this.inheritableHandlers=[],e))this.addHandler(r,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(t=>!e.includes(t)),this.inheritableTags=this.inheritableTags.filter(t=>!e.includes(t))}addMetadata(e,t=!0){this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(let t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(t=[],r=!0){let i=new e(this._parentRunId);for(let e of this.handlers){let t=this.inheritableHandlers.includes(e);i.addHandler(e,t)}for(let e of this.tags){let t=this.inheritableTags.includes(e);i.addTags([e],t)}for(let e of Object.keys(this.metadata)){let t=Object.keys(this.inheritableMetadata).includes(e);i.addMetadata({[e]:this.metadata[e]},t)}for(let e of t)i.handlers.filter(e=>"console_callback_handler"===e.name).some(t=>t.name===e.name)||i.addHandler(e,r);return i}static fromHandlers(e){class t extends eh{name=(0,ec.default)();constructor(){super(),Object.assign(this,e)}}let r=new this;return r.addHandler(new t),r}static configure(e,t,r,i,n,a,s){return this._configureSync(e,t,r,i,n,a,s)}static _configureSync(t,r,i,n,a,s,o){var l;let u;(t||r)&&(Array.isArray(t)||!t?(u=new e).setHandlers(t?.map(t4)??[],!0):u=t,u=u.copy(Array.isArray(r)?r.map(t4):r?.handlers,!1));let d="true"===ed("LANGCHAIN_VERBOSE")||o?.verbose,c=tB.getTraceableRunTree()?.tracingEnabled||(void 0!==l?l:!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(e=>"true"===ed(e))),p=c||(ed("LANGCHAIN_TRACING")??!1);if(d||p){if(u||(u=new e),d&&!u.handlers.some(e=>e.name===tU.prototype.name)){let e=new tU;u.addHandler(e,!0)}if(p&&!u.handlers.some(e=>"langchain_tracer"===e.name)&&c){let e=new tB;u.addHandler(e,!0)}if(c){let e=tB.getTraceableRunTree();if(e&&void 0===u._parentRunId){u._parentRunId=e.id;let t=u.handlers.find(e=>"langchain_tracer"===e.name);t?.updateFromRunTree(e)}}}for(let{contextVar:t,inheritable:r=!0,handlerClass:i,envVar:n}of tV(tG)||[]){let a,s=n&&"true"===ed(n)&&i,o=void 0!==t?tV(t):void 0;o&&ef(o)?a=o:s&&(a=new i({})),void 0!==a&&(u||(u=new e),u.handlers.some(e=>e.name===a.name)||u.addHandler(a,r))}return(i||n)&&u&&(u.addTags(i??[]),u.addTags(n??[],!1)),(a||s)&&u&&(u.addMetadata(a??{}),u.addMetadata(s??{},!1)),u}};function t4(e){return"name"in e?e:eh.fromMethods(e)}e.s(["CallbackManager",()=>t1,"ensureHandler",()=>t4,"parseCallbackConfigArg",()=>tq],206696);var t6=class{getStore(){}run(e,t){return t()}enterWith(e){}};let t2=new t6,t9=Symbol.for("lc:child_config"),t5=new class{getInstance(){return er()??t2}getRunnableConfig(){let e=this.getInstance();return e.getStore()?.extra?.[t9]}runWithConfig(e,t,r){let i,n=t1._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata),a=this.getInstance(),s=a.getStore(),o=n?.getParentRunId(),l=n?.handlers?.find(e=>e?.name==="langchain_tracer");return l&&o?i=l.getRunTreeWithTracingConfig(o):r||(i=new tI({name:"<runnable_lambda>",tracingEnabled:!1})),i&&(i.extra={...i.extra,[t9]:e}),void 0!==s&&void 0!==s[et]&&(void 0===i&&(i={}),i[et]=s[et]),a.run(i,t)}initializeGlobalInstance(e){void 0===er()&&(globalThis[ee]=e)}};async function t3(e){return t1._configureSync(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)}function t8(...e){let t={};for(let r of e.filter(e=>!!e))for(let e of Object.keys(r))if("metadata"===e)t[e]={...t[e],...r[e]};else if("tags"===e){let i=t[e]??[];t[e]=[...new Set(i.concat(r[e]??[]))]}else if("configurable"===e)t[e]={...t[e],...r[e]};else if("timeout"===e)void 0===t.timeout?t.timeout=r.timeout:void 0!==r.timeout&&(t.timeout=Math.min(t.timeout,r.timeout));else if("signal"===e)void 0===t.signal?t.signal=r.signal:void 0!==r.signal&&("any"in AbortSignal?t.signal=AbortSignal.any([t.signal,r.signal]):t.signal=r.signal);else if("callbacks"===e){let e=t.callbacks,i=r.callbacks;if(Array.isArray(i))if(e)if(Array.isArray(e))t.callbacks=e.concat(i);else{let r=e.copy();for(let e of i)r.addHandler(t4(e),!0);t.callbacks=r}else t.callbacks=i;else if(i)if(e)if(Array.isArray(e)){let r=i.copy();for(let t of e)r.addHandler(t4(t),!0);t.callbacks=r}else t.callbacks=new t1(i._parentRunId,{handlers:e.handlers.concat(i.handlers),inheritableHandlers:e.inheritableHandlers.concat(i.inheritableHandlers),tags:Array.from(new Set(e.tags.concat(i.tags))),inheritableTags:Array.from(new Set(e.inheritableTags.concat(i.inheritableTags))),metadata:{...e.metadata,...i.metadata}});else t.callbacks=i}else t[e]=r[e]??t[e];return t}e.s(["AsyncLocalStorageProviderSingleton",()=>t5,"MockAsyncLocalStorage",()=>t6],200587),(0,y.__export)({},{AsyncLocalStorageProviderSingleton:()=>t5,MockAsyncLocalStorage:()=>t6,_CONTEXT_VARIABLES_KEY:()=>et}),e.s([],869070);let t7=new Set(["string","number","boolean"]);function re(e){let t=t5.getRunnableConfig(),r={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(t){let{runId:e,runName:i,...n}=t;r=Object.entries(n).reduce((e,[t,r])=>(void 0!==r&&(e[t]=r),e),r)}if(e&&(r=Object.entries(e).reduce((e,[t,r])=>(void 0!==r&&(e[t]=r),e),r)),r?.configurable)for(let e of Object.keys(r.configurable))t7.has(typeof r.configurable[e])&&!r.metadata?.[e]&&(r.metadata||(r.metadata={}),r.metadata[e]=r.configurable[e]);if(void 0!==r.timeout){if(r.timeout<=0)throw Error("Timeout must be a positive number");let e=AbortSignal.timeout(r.timeout);void 0!==r.signal?"any"in AbortSignal&&(r.signal=AbortSignal.any([r.signal,e])):r.signal=e,delete r.timeout}return r}function rt(e={},{callbacks:t,maxConcurrency:r,recursionLimit:i,runName:n,configurable:a,runId:s}={}){let o=re(e);return void 0!==t&&(delete o.runName,o.callbacks=t),void 0!==i&&(o.recursionLimit=i),void 0!==r&&(o.maxConcurrency=r),void 0!==n&&(o.runName=n),void 0!==a&&(o.configurable={...o.configurable,...a}),void 0!==s&&delete o.runId,o}function rr(e){if(e)return{configurable:e.configurable,recursionLimit:e.recursionLimit,callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,maxConcurrency:e.maxConcurrency,timeout:e.timeout,signal:e.signal,store:e.store}}async function ri(e,t){let r;return void 0===t?e:Promise.race([e.catch(e=>{if(!t?.aborted)throw e}),new Promise((e,i)=>{r=()=>{i(rn(t))},t.addEventListener("abort",r),t.aborted&&i(rn(t))})]).finally(()=>t.removeEventListener("abort",r))}function rn(e){return e?.reason instanceof Error?e.reason:"string"==typeof e?.reason?Error(e.reason):Error("Aborted")}e.s(["DEFAULT_RECURSION_LIMIT",()=>25,"ensureConfig",()=>re,"getCallbackManagerForConfig",()=>t3,"mergeConfigs",()=>t8,"patchConfig",()=>rt,"pickRunnableConfigKeys",()=>rr],640516),e.s(["getAbortSignalError",()=>rn,"raceWithSignal",()=>ri],115995),(0,y.__export)({},{AsyncGeneratorWithSetup:()=>rl,IterableReadableStream:()=>ra,atee:()=>rs,concat:()=>ro,pipeGeneratorWithSetup:()=>ru});var ra=class e extends ReadableStream{reader;ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{let e=await this.reader.read();if(e.done)return this.reader.releaseLock(),{done:!0,value:void 0};return{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){let e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){let e=this.reader.cancel();this.reader.releaseLock(),await e}throw e}[Symbol.asyncIterator](){return this}async [Symbol.asyncDispose](){await this.return()}static fromReadableStream(t){let r=t.getReader();return new e({start:e=>(function t(){return r.read().then(({done:r,value:i})=>r?void e.close():(e.enqueue(i),t()))})(),cancel(){r.releaseLock()}})}static fromAsyncGenerator(t){return new e({async pull(e){let{value:r,done:i}=await t.next();i&&e.close(),e.enqueue(r)},async cancel(e){await t.return(e)}})}};function rs(e,t=2){let r=Array.from({length:t},()=>[]);return r.map(async function*(t){for(;;)if(0===t.length){let t=await e.next();for(let e of r)e.push(t)}else{if(t[0].done)return;yield t.shift().value}})}function ro(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if("string"==typeof e&&"string"==typeof t)return e+t;if("number"==typeof e&&"number"==typeof t)return e+t;if("concat"in e&&"function"==typeof e.concat)return e.concat(t);if("object"==typeof e&&"object"==typeof t){let r={...e};for(let[e,i]of Object.entries(t))e in r&&!Array.isArray(r[e])?r[e]=ro(r[e],i):r[e]=i;return r}else throw Error(`Cannot concat ${typeof e} and ${typeof t}`)}var rl=class{generator;setup;config;signal;firstResult;firstResultUsed=!1;constructor(e){this.generator=e.generator,this.config=e.config,this.signal=e.signal??this.config?.signal,this.setup=new Promise((t,r)=>{t5.runWithConfig(rr(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(t,r):this.firstResult.then(e=>t(void 0),r)},!0)})}async next(...e){return(this.signal?.throwIfAborted(),this.firstResultUsed)?t5.runWithConfig(rr(this.config),this.signal?async()=>ri(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async [Symbol.asyncDispose](){await this.return()}};async function ru(e,t,r,i,...n){let a=new rl({generator:t,startSetup:r,signal:i}),s=await a.setup;return{output:e(a,s,...n),setup:s}}e.s(["AsyncGeneratorWithSetup",()=>rl,"IterableReadableStream",()=>ra,"atee",()=>rs,"concat",()=>ro,"pipeGeneratorWithSetup",()=>ru],890406);let rd=Object.prototype.hasOwnProperty;function rc(e,t){return rd.call(e,t)}function rp(e){if(Array.isArray(e)){let t=Array(e.length);for(let e=0;e<t.length;e++)t[e]=""+e;return t}if(Object.keys)return Object.keys(e);let t=[];for(let r in e)rc(e,r)&&t.push(r);return t}function rm(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function rh(e){let t,r=0,i=e.length;for(;r<i;){if((t=e.charCodeAt(r))>=48&&t<=57){r++;continue}return!1}return!0}function rf(e){return -1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function rg(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function r_(e,t){let r=[e];for(let e in t){let i="object"==typeof t[e]?JSON.stringify(t[e],null,2):t[e];void 0!==i&&r.push(`${e}: ${i}`)}return r.join("\n")}var rv=class extends Error{constructor(e,t,r,i,n){super(r_(e,{name:t,index:r,operation:i,tree:n})),this.name=t,this.index=r,this.operation=i,this.tree=n,Object.setPrototypeOf(this,new.target.prototype),this.message=r_(e,{name:t,index:r,operation:i,tree:n})}},ry={};(0,y.__export)(ry,{JsonPatchError:()=>rb,_areEquals:()=>rA,applyOperation:()=>rI,applyPatch:()=>rS,applyReducer:()=>rO,deepClone:()=>r$,getValueByPointer:()=>rk,validate:()=>rT,validator:()=>rE});let rb=rv,r$=rm,rw={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var i=e[t];return delete e[t],{newDocument:r,removed:i}},replace:function(e,t,r){var i=e[t];return e[t]=this.value,{newDocument:r,removed:i}},move:function(e,t,r){let i=rk(r,this.path);i&&(i=rm(i));let n=rI(r,{op:"remove",path:this.from}).removed;return rI(r,{op:"add",path:this.path,value:n}),{newDocument:r,removed:i}},copy:function(e,t,r){let i=rk(r,this.from);return rI(r,{op:"add",path:this.path,value:rm(i)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:rA(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}};var rx={add:function(e,t,r){return rh(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var i=e[t];return e[t]=this.value,{newDocument:r,removed:i}},move:rw.move,copy:rw.copy,test:rw.test,_get:rw._get};function rk(e,t){if(""==t)return e;var r={op:"_get",path:t};return rI(e,r),r.value}function rI(e,t,r=!1,i=!0,n=!0,a=0){if(r&&("function"==typeof r?r(t,0,e,t.path):rE(t,0)),""===t.path){let i={newDocument:e};if("add"===t.op)return i.newDocument=t.value,i;if("replace"===t.op)return i.newDocument=t.value,i.removed=e,i;if("move"===t.op||"copy"===t.op)return i.newDocument=rk(e,t.from),"move"===t.op&&(i.removed=e),i;else if("test"===t.op){if(i.test=rA(e,t.value),!1===i.test)throw new rb("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i.newDocument=e,i}else if("remove"===t.op)return i.removed=e,i.newDocument=null,i;else if("_get"===t.op)return t.value=e,i;else if(!r)return i;else throw new rb("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e)}{let s,o,l;i||(e=rm(e));let u=(t.path||"").split("/"),d=e,c=1,p=u.length;for(o="function"==typeof r?r:rE;;){if((s=u[c])&&-1!=s.indexOf("~")&&(s=rg(s)),n&&("__proto__"==s||"prototype"==s&&c>0&&"constructor"==u[c-1]))throw TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&void 0===l&&(void 0===d[s]?l=u.slice(0,c).join("/"):c==p-1&&(l=t.path),void 0!==l&&o(t,0,e,l)),c++,Array.isArray(d)){if("-"===s)s=d.length;else if(r&&!rh(s))throw new rb("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);else rh(s)&&(s=~~s);if(c>=p){if(r&&"add"===t.op&&s>d.length)throw new rb("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);let i=rx[t.op].call(t,d,s,e);if(!1===i.test)throw new rb("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i}}else if(c>=p){let r=rw[t.op].call(t,d,s,e);if(!1===r.test)throw new rb("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return r}if(d=d[s],r&&c<p&&(!d||"object"!=typeof d))throw new rb("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function rS(e,t,r,i=!0,n=!0){if(r&&!Array.isArray(t))throw new rb("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");i||(e=rm(e));let a=Array(t.length);for(let i=0,s=t.length;i<s;i++)a[i]=rI(e,t[i],r,!0,n,i),e=a[i].newDocument;return a.newDocument=e,a}function rO(e,t,r){let i=rI(e,t);if(!1===i.test)throw new rb("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return i.newDocument}function rE(e,t,r,i){if("object"!=typeof e||null===e||Array.isArray(e))throw new rb("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(rw[e.op]){if("string"!=typeof e.path)throw new rb("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);else if(0!==e.path.indexOf("/")&&e.path.length>0)throw new rb('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);else if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new rb("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);else if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new rb("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);else if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function e(t){if(void 0===t)return!0;if(t){if(Array.isArray(t)){for(let r=0,i=t.length;r<i;r++)if(e(t[r]))return!0}else if("object"==typeof t){let i=rp(t),n=i.length;for(var r=0;r<n;r++)if(e(t[i[r]]))return!0}}return!1}(e.value))throw new rb("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);else if(r){if("add"==e.op){var n=e.path.split("/").length,a=i.split("/").length;if(n!==a+1&&n!==a)throw new rb("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==i)throw new rb("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if("move"===e.op||"copy"===e.op){var s=rT([{op:"_get",path:e.from,value:void 0}],r);if(s&&"OPERATION_PATH_UNRESOLVABLE"===s.name)throw new rb("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}}else throw new rb("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r)}function rT(e,t,r){try{if(!Array.isArray(e))throw new rb("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)rS(rm(t),rm(e),r||!0);else{r=r||rE;for(var i=0;i<e.length;i++)r(e[i],i,t,void 0)}}catch(e){if(e instanceof rb)return e;throw e}}function rA(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,i,n,a=Array.isArray(e),s=Array.isArray(t);if(a&&s){if((i=e.length)!=t.length)return!1;for(r=i;0!=r--;)if(!rA(e[r],t[r]))return!1;return!0}if(a!=s)return!1;var o=Object.keys(e);if((i=o.length)!==Object.keys(t).length)return!1;for(r=i;0!=r--;)if(!t.hasOwnProperty(o[r]))return!1;for(r=i;0!=r--;)if(!rA(e[n=o[r]],t[n]))return!1;return!0}return e!=e&&t!=t}function rN(e,t,r=!1){var i=[];return!function e(t,r,i,n,a){if(r!==t){"function"==typeof r.toJSON&&(r=r.toJSON());for(var s=rp(r),o=rp(t),l=!1,u=o.length-1;u>=0;u--){var d=o[u],c=t[d];if(rc(r,d)&&(void 0!==r[d]||void 0===c||!1!==Array.isArray(r))){var p=r[d];"object"==typeof c&&null!=c&&"object"==typeof p&&null!=p&&Array.isArray(c)===Array.isArray(p)?e(c,p,i,n+"/"+rf(d),a):c!==p&&(a&&i.push({op:"test",path:n+"/"+rf(d),value:rm(c)}),i.push({op:"replace",path:n+"/"+rf(d),value:rm(p)}))}else Array.isArray(t)===Array.isArray(r)?(a&&i.push({op:"test",path:n+"/"+rf(d),value:rm(c)}),i.push({op:"remove",path:n+"/"+rf(d)}),l=!0):(a&&i.push({op:"test",path:n,value:t}),i.push({op:"replace",path:n,value:r}))}if(l||s.length!=o.length)for(var u=0;u<s.length;u++){var d=s[u];rc(t,d)||void 0===r[d]||i.push({op:"add",path:n+"/"+rf(d),value:rm(r[d])})}}}(e,t,i,"",r),i}e.s(["applyPatch",()=>rS,"core_exports",()=>ry],707224),e.s(["compare",()=>rN],118755),e.s([],985250),(0,y.__export)({},{LogStreamCallbackHandler:()=>rU,RunLog:()=>rP,RunLogPatch:()=>rj,isLogStreamHandler:()=>rC});var rj=class{ops;constructor(e){this.ops=e.ops??[]}concat(e){let t=this.ops.concat(e.ops),r=rS({},t);return new rP({ops:t,state:r[r.length-1].newDocument})}},rP=class e extends rj{state;constructor(e){super(e),this.state=e.state}concat(t){let r=this.ops.concat(t.ops),i=rS(this.state,t.ops);return new e({ops:r,state:i[i.length-1].newDocument})}static fromRunLogPatch(t){let r=rS({},t.ops);return new e({ops:t.ops,state:r[r.length-1].newDocument})}};let rC=e=>"log_stream_tracer"===e.name;async function rZ(e,t){if("original"===t)throw Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");let{inputs:r}=e;return["retriever","llm","prompt"].includes(e.run_type)?r:1!==Object.keys(r).length||r?.input!==""?r.input:void 0}async function rz(e,t){let{outputs:r}=e;return"original"===t||["retriever","llm","prompt"].includes(e.run_type)?r:void 0!==r&&1===Object.keys(r).length&&r?.output!==void 0?r.output:r}var rU=class extends tA{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;_schemaFormat="original";rootId;keyMapByRunId={};counterMapByRunName={};transformStream;writer;receiveStream;name="log_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=ra.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;let t=e.tags??[],r=void 0===this.includeNames&&void 0===this.includeTags&&void 0===this.includeTypes;return void 0!==this.includeNames&&(r=r||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(r=r||this.includeTypes.includes(e.run_type)),void 0!==this.includeTags&&(r=r||void 0!==t.find(e=>this.includeTags?.includes(e))),void 0!==this.excludeNames&&(r=r&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(r=r&&!this.excludeTypes.includes(e.run_type)),void 0!==this.excludeTags&&(r=r&&t.every(e=>!this.excludeTags?.includes(e))),r}async *tapOutputIterable(e,t){for await(let r of t){if(e!==this.rootId){let t=this.keyMapByRunId[e];t&&await this.writer.write(new rj({ops:[{op:"add",path:`/logs/${t}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){if(void 0===this.rootId&&(this.rootId=e.id,await this.writer.write(new rj({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;void 0===this.counterMapByRunName[e.name]&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;let t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=1===t?e.name:`${e.name}:${t}`;let r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};"streaming_events"===this._schemaFormat&&(r.inputs=await rZ(e,this._schemaFormat)),await this.writer.write(new rj({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{let t=this.keyMapByRunId[e.id];if(void 0===t)return;let r=[];"streaming_events"===this._schemaFormat&&r.push({op:"replace",path:`/logs/${t}/inputs`,value:await rZ(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${t}/final_output`,value:await rz(e,this._schemaFormat)}),void 0!==e.end_time&&r.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});let i=new rj({ops:r});await this.writer.write(i)}finally{if(e.id===this.rootId){let t=new rj({ops:[{op:"replace",path:"/final_output",value:await rz(e,this._schemaFormat)}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t,r){let i,n=this.keyMapByRunId[e.id];if(void 0===n)return;if(void 0!==e.inputs.messages){var a;i=void 0!==(a=r?.chunk)&&void 0!==a.message?r?.chunk:new I.AIMessageChunk({id:`run-${e.id}`,content:t})}else i=t;let s=new rj({ops:[{op:"add",path:`/logs/${n}/streamed_output_str/-`,value:t},{op:"add",path:`/logs/${n}/streamed_output/-`,value:i}]});await this.writer.write(s)}};(0,y.__export)({},{ChatGenerationChunk:()=>rL,GenerationChunk:()=>rD,RUN_KEY:()=>rR});let rR="__run";var rD=class e{text;generationInfo;constructor(e){this.text=e.text,this.generationInfo=e.generationInfo}concat(t){return new e({text:this.text+t.text,generationInfo:{...this.generationInfo,...t.generationInfo}})}},rL=class e extends rD{message;constructor(e){super(e),this.message=e.message}concat(t){return new e({text:this.text+t.text,generationInfo:{...this.generationInfo,...t.generationInfo},message:this.message.concat(t.message)})}};function rM({name:e,serialized:t}){return void 0!==e?e:t?.name!==void 0?t.name:t?.id!==void 0&&Array.isArray(t?.id)?t.id[t.id.length-1]:"Unnamed"}e.s(["ChatGenerationChunk",()=>rL,"GenerationChunk",()=>rD,"RUN_KEY",()=>rR],976044);let rF=e=>"event_stream_tracer"===e.name;var rB=class extends tA{autoClose=!0;includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;runInfoMap=new Map;tappedPromises=new Map;transformStream;writer;receiveStream;name="event_stream_tracer";lc_prefer_streaming=!0;constructor(e){super({_awaitHandler:!0,...e}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=ra.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){let t=e.tags??[],r=void 0===this.includeNames&&void 0===this.includeTags&&void 0===this.includeTypes;return void 0!==this.includeNames&&(r=r||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(r=r||this.includeTypes.includes(e.runType)),void 0!==this.includeTags&&(r=r||void 0!==t.find(e=>this.includeTags?.includes(e))),void 0!==this.excludeNames&&(r=r&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(r=r&&!this.excludeTypes.includes(e.runType)),void 0!==this.excludeTags&&(r=r&&t.every(e=>!this.excludeTags?.includes(e))),r}async *tapOutputIterable(e,t){let r=await t.next();if(r.done)return;let i=this.runInfoMap.get(e);if(void 0===i)return void(yield r.value);function n(e,t){return"llm"===e&&"string"==typeof t?new rD({text:t}):t}let a=this.tappedPromises.get(e);if(void 0===a){let s;a=new Promise(e=>{s=e}),this.tappedPromises.set(e,a);try{let a={event:`on_${i.runType}_stream`,run_id:e,name:i.name,tags:i.tags,metadata:i.metadata,data:{}};for await(let e of(await this.send({...a,data:{chunk:n(i.runType,r.value)}},i),yield r.value,t))"tool"!==i.runType&&"retriever"!==i.runType&&await this.send({...a,data:{chunk:n(i.runType,e)}},i),yield e}finally{s?.()}}else for await(let e of(yield r.value,t))yield e}async send(e,t){this._includeRun(t)&&await this.writer.write(e)}async sendEndEvent(e,t){let r=this.tappedPromises.get(e.run_id);void 0!==r?r.then(()=>{this.send(e,t)}):await this.send(e,t)}async onLLMStart(e){let t=rM(e),r=void 0!==e.inputs.messages?"chat_model":"llm",i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,i);let n=`on_${r}_start`;await this.send({event:n,data:{input:e.inputs},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onLLMNewToken(e,t,r){let i,n,a=this.runInfoMap.get(e.id);if(void 0===a)throw Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(1!==this.runInfoMap.size){if("chat_model"===a.runType)n="on_chat_model_stream",i=r?.chunk===void 0?new I.AIMessageChunk({content:t,id:`run-${e.id}`}):r.chunk.message;else if("llm"===a.runType)n="on_llm_stream",i=r?.chunk===void 0?new rD({text:t}):r.chunk;else throw Error(`Unexpected run type ${a.runType}`);await this.send({event:n,data:{chunk:i},run_id:e.id,name:a.name,tags:a.tags,metadata:a.metadata},a)}}async onLLMEnd(e){let t,r,i=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===i)throw Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);let n=e.outputs?.generations;if("chat_model"===i.runType){for(let e of n??[]){if(void 0!==r)break;r=e[0]?.message}t="on_chat_model_end"}else if("llm"===i.runType)r={generations:n?.map(e=>e.map(e=>({text:e.text,generationInfo:e.generationInfo}))),llmOutput:e.outputs?.llmOutput??{}},t="on_llm_end";else throw Error(`onLLMEnd: Unexpected run type: ${i.runType}`);await this.sendEndEvent({event:t,data:{output:r,input:i.inputs},run_id:e.id,name:i.name,tags:i.tags,metadata:i.metadata},i)}async onChainStart(e){let t=rM(e),r=e.run_type??"chain",i={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:e.run_type},n={};""===e.inputs.input&&1===Object.keys(e.inputs).length?(n={},i.inputs={}):void 0!==e.inputs.input?(n.input=e.inputs.input,i.inputs=e.inputs.input):(n.input=e.inputs,i.inputs=e.inputs),this.runInfoMap.set(e.id,i),await this.send({event:`on_${r}_start`,data:n,name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},i)}async onChainEnd(e){let t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw Error(`onChainEnd: Run ID ${e.id} not found in run map.`);let r=`on_${e.run_type}_end`,i=e.inputs??t.inputs??{},n={output:e.outputs?.output??e.outputs,input:i};i.input&&1===Object.keys(i).length&&(n.input=i.input,t.inputs=i.input),await this.sendEndEvent({event:r,data:n,run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata??{}},t)}async onToolStart(e){let t=rM(e),r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:t,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},r)}async onToolEnd(e){let t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(void 0===t.inputs)throw Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);let r=e.outputs?.output===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onRetrieverStart(e){let t=rM(e),r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,r),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},r)}async onRetrieverEnd(e){let t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async handleCustomEvent(e,t,r){let i=this.runInfoMap.get(r);if(void 0===i)throw Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:i.tags,metadata:i.metadata,data:t},i)}async finish(){Promise.all([...this.tappedPromises.values()]).finally(()=>{this.writer.close()})}},rJ=e.i(736850);(0,y.__export)({},{AsyncCaller:()=>rG});let rW=[400,401,402,403,404,405,406,407,409],rV=e=>{if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||"AbortError"===e.name||e?.code==="ECONNABORTED")throw e;let t=e?.response?.status??e?.status;if(t&&rW.includes(+t))throw e;if(e?.error?.code==="insufficient_quota"){let t=Error(e?.message);throw t.name="InsufficientQuotaError",t}};var rG=class{maxConcurrency;maxRetries;onFailedAttempt;queue;constructor(e){this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??rV;const t="default"in eQ.default?eQ.default.default:eQ.default;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add(()=>(0,rJ.default)(()=>e(...t).catch(e=>{if(e instanceof Error)throw e;throw Error(e)}),{onFailedAttempt:({error:e})=>this.onFailedAttempt?.(e),retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,t,...r){if(e.signal){let i;return Promise.race([this.call(t,...r),new Promise((t,r)=>{i=()=>{r(rn(e.signal))},e.signal?.addEventListener("abort",i)})]).finally(()=>{e.signal&&i&&e.signal.removeEventListener("abort",i)})}return this.call(t,...r)}fetch(...e){return this.call(()=>fetch(...e).then(e=>e.ok?e:Promise.reject(e)))}};e.s(["AsyncCaller",()=>rG],664527);var rq=class extends tA{name="RootListenersTracer";rootId;config;argOnStart;argOnEnd;argOnError;constructor({config:e,onStart:t,onEnd:r,onError:i}){super({_awaitHandler:!0}),this.config=e,this.argOnStart=t,this.argOnEnd=r,this.argOnError=i}persistRun(e){return Promise.resolve()}async onRunCreate(e){!this.rootId&&(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}};function rK(e){return!!e&&e.lc_runnable}var rH=class{includeNames;includeTypes;includeTags;excludeNames;excludeTypes;excludeTags;constructor(e){this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,t){let r=void 0===this.includeNames&&void 0===this.includeTypes&&void 0===this.includeTags,i=e.tags??[];return void 0!==this.includeNames&&(r=r||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(r=r||this.includeTypes.includes(t)),void 0!==this.includeTags&&(r=r||i.some(e=>this.includeTags?.includes(e))),void 0!==this.excludeNames&&(r=r&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(r=r&&!this.excludeTypes.includes(t)),void 0!==this.excludeTags&&(r=r&&i.every(e=>!this.excludeTags?.includes(e))),r}};let rX=Object.freeze({status:"aborted"});function rY(e,t,r){function i(r,i){if(r._zod||Object.defineProperty(r,"_zod",{value:{def:i,constr:s,traits:new Set},enumerable:!1}),r._zod.traits.has(e))return;r._zod.traits.add(e),t(r,i);let n=s.prototype,a=Object.keys(n);for(let e=0;e<a.length;e++){let t=a[e];t in r||(r[t]=n[t].bind(r))}}let n=r?.Parent??Object;class a extends n{}function s(e){var t;let n=r?.Parent?new a:this;for(let r of(i(n,e),(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred))r();return n}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(s,"init",{value:i}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}let rQ=Symbol("zod_brand");class r0 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class r1 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}let r4={};function r6(e){return e&&Object.assign(r4,e),r4}function r2(e){return e}function r9(e){return e}function r5(e){}function r3(e){throw Error()}function r8(e){}function r7(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function ie(e,t="|"){return e.map(e=>iN(e)).join(t)}function it(e,t){return"bigint"==typeof t?t.toString():t}function ir(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ii(e){return null==e}function ia(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function is(e,t){let r=(e.toString().split(".")[1]||"").length,i=t.toString(),n=(i.split(".")[1]||"").length;if(0===n&&/\d?e-\d?/.test(i)){let e=i.match(/\d?e-(\d?)/);e?.[1]&&(n=Number.parseInt(e[1]))}let a=r>n?r:n;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}e.s(["$ZodAsyncError",()=>r0,"$ZodEncodeError",()=>r1,"$brand",0,rQ,"$constructor",()=>rY,"NEVER",0,rX,"config",()=>r6,"globalConfig",0,r4],668508);let io=Symbol("evaluating");function il(e,t,r){let i;Object.defineProperty(e,t,{get(){if(i!==io)return void 0===i&&(i=io,i=r()),i},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function iu(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function id(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ic(...e){let t={};for(let r of e)Object.assign(t,Object.getOwnPropertyDescriptors(r));return Object.defineProperties({},t)}function ip(e){return ic(e._zod.def)}function im(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function ih(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let i=0;i<t.length;i++)r[t[i]]=e[i];return r})}function ig(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let i=0;i<e;i++)r+=t[Math.floor(Math.random()*t.length)];return r}function i_(e){return JSON.stringify(e)}function iv(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}let iy="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function ib(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let i$=ir(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function iw(e){if(!1===ib(e))return!1;let t=e.constructor;if(void 0===t||"function"!=typeof t)return!0;let r=t.prototype;return!1!==ib(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function ix(e){return iw(e)?{...e}:Array.isArray(e)?[...e]:e}function ik(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}let iI=new Set(["string","number","symbol"]),iS=new Set(["string","number","bigint","boolean","symbol","undefined"]);function iO(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function iE(e,t,r){let i=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(i._zod.parent=e),i}function iT(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function iA(e){let t;return new Proxy({},{get:(r,i,n)=>(t??(t=e()),Reflect.get(t,i,n)),set:(r,i,n,a)=>(t??(t=e()),Reflect.set(t,i,n,a)),has:(r,i)=>(t??(t=e()),Reflect.has(t,i)),deleteProperty:(r,i)=>(t??(t=e()),Reflect.deleteProperty(t,i)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,i)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,i)),defineProperty:(r,i,n)=>(t??(t=e()),Reflect.defineProperty(t,i,n))})}function iN(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function ij(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}let iP={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},iC={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function iZ(e,t){let r=e._zod.def,i=ic(e._zod.def,{get shape(){let e={};for(let i in t){if(!(i in r.shape))throw Error(`Unrecognized key: "${i}"`);t[i]&&(e[i]=r.shape[i])}return id(this,"shape",e),e},checks:[]});return iE(e,i)}function iz(e,t){let r=e._zod.def,i=ic(e._zod.def,{get shape(){let i={...e._zod.def.shape};for(let e in t){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete i[e]}return id(this,"shape",i),i},checks:[]});return iE(e,i)}function iU(e,t){if(!iw(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let i=ic(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t};return id(this,"shape",r),r},checks:[]});return iE(e,i)}function iR(e,t){if(!iw(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return id(this,"shape",r),r},checks:e._zod.def.checks};return iE(e,r)}function iD(e,t){let r=ic(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return id(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return iE(e,r)}function iL(e,t,r){let i=ic(t._zod.def,{get shape(){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=e?new e({type:"optional",innerType:i[t]}):i[t])}else for(let t in i)n[t]=e?new e({type:"optional",innerType:i[t]}):i[t];return id(this,"shape",n),n},checks:[]});return iE(t,i)}function iM(e,t,r){let i=ic(t._zod.def,{get shape(){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=new e({type:"nonoptional",innerType:i[t]}))}else for(let t in i)n[t]=new e({type:"nonoptional",innerType:i[t]});return id(this,"shape",n),n},checks:[]});return iE(t,i)}function iF(e,t=0){if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function iB(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function iJ(e){return"string"==typeof e?e:e?.message}function iW(e,t,r){let i={...e,path:e.path??[]};return e.message||(i.message=iJ(e.inst?._zod.def?.error?.(e))??iJ(t?.error?.(e))??iJ(r.customError?.(e))??iJ(r.localeError?.(e))??"Invalid input"),delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}function iV(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function iG(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function iq(...e){let[t,r,i]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:i}:{...t}}function iK(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function iH(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function iX(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function iY(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return iH(t+r)}function iQ(e){return iX(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function i0(e){let t=e.replace(/^0x/,"");if(t.length%2!=0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e/2]=Number.parseInt(t.slice(e,e+2),16);return r}function i1(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class i4{constructor(...e){}}e.s(["BIGINT_FORMAT_RANGES",0,iC,"Class",()=>i4,"NUMBER_FORMAT_RANGES",0,iP,"aborted",()=>iF,"allowsEval",0,i$,"assert",()=>r8,"assertEqual",()=>r2,"assertIs",()=>r5,"assertNever",()=>r3,"assertNotEqual",()=>r9,"assignProp",()=>id,"base64ToUint8Array",()=>iH,"base64urlToUint8Array",()=>iY,"cached",()=>ir,"captureStackTrace",0,iy,"cleanEnum",()=>iK,"cleanRegex",()=>ia,"clone",()=>iE,"cloneDef",()=>ip,"createTransparentProxy",()=>iA,"defineLazy",()=>il,"esc",()=>i_,"escapeRegex",()=>iO,"extend",()=>iU,"finalizeIssue",()=>iW,"floatSafeRemainder",()=>is,"getElementAtPath",()=>im,"getEnumValues",()=>r7,"getLengthableOrigin",()=>iG,"getParsedType",0,e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},"getSizableOrigin",()=>iV,"hexToUint8Array",()=>i0,"isObject",()=>ib,"isPlainObject",()=>iw,"issue",()=>iq,"joinValues",()=>ie,"jsonStringifyReplacer",()=>it,"merge",()=>iD,"mergeDefs",()=>ic,"normalizeParams",()=>iT,"nullish",()=>ii,"numKeys",()=>ik,"objectClone",()=>iu,"omit",()=>iz,"optionalKeys",()=>ij,"partial",()=>iL,"pick",()=>iZ,"prefixIssues",()=>iB,"primitiveTypes",0,iS,"promiseAllObject",()=>ih,"propertyKeyTypes",0,iI,"randomString",()=>ig,"required",()=>iM,"safeExtend",()=>iR,"shallowClone",()=>ix,"slugify",()=>iv,"stringifyPrimitive",()=>iN,"uint8ArrayToBase64",()=>iX,"uint8ArrayToBase64url",()=>iQ,"uint8ArrayToHex",()=>i1,"unwrapMessage",()=>iJ],23768);let i6=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,it,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},i2=rY("$ZodError",i6),i9=rY("$ZodError",i6,{Parent:Error});function i5(e,t=e=>e.message){let r={},i=[];for(let n of e.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):i.push(t(n));return{formErrors:i,fieldErrors:r}}function i3(e,t=e=>e.message){let r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code&&n.errors.length)n.errors.map(e=>i({issues:e}));else if("invalid_key"===n.code)i({issues:n.issues});else if("invalid_element"===n.code)i({issues:n.issues});else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(e),r}function i8(e,t=e=>e.message){let r={errors:[]},i=(e,n=[])=>{var a,s;for(let o of e.issues)if("invalid_union"===o.code&&o.errors.length)o.errors.map(e=>i({issues:e},o.path));else if("invalid_key"===o.code)i({issues:o.issues},o.path);else if("invalid_element"===o.code)i({issues:o.issues},o.path);else{let e=[...n,...o.path];if(0===e.length){r.errors.push(t(o));continue}let i=r,l=0;for(;l<e.length;){let r=e[l],n=l===e.length-1;"string"==typeof r?(i.properties??(i.properties={}),(a=i.properties)[r]??(a[r]={errors:[]}),i=i.properties[r]):(i.items??(i.items=[]),(s=i.items)[r]??(s[r]={errors:[]}),i=i.items[r]),n&&i.errors.push(t(o)),l++}}};return i(e),r}function i7(e){let t=[];for(let r of e.map(e=>"object"==typeof e?e.key:e))"number"==typeof r?t.push(`[${r}]`):"symbol"==typeof r?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function ne(e){let t=[];for(let r of[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length))t.push(` ${r.message}`),r.path?.length&&t.push(`   at ${i7(r.path)}`);return t.join("\n")}e.s(["$ZodError",0,i2,"$ZodRealError",0,i9,"flattenError",()=>i5,"formatError",()=>i3,"prettifyError",()=>ne,"toDotPath",()=>i7,"treeifyError",()=>i8],240727);let nt=e=>(t,r,i,n)=>{let a=i?Object.assign(i,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new r0;if(s.issues.length){let t=new(n?.Err??e)(s.issues.map(e=>iW(e,a,r6())));throw iy(t,n?.callee),t}return s.value},nr=nt(i9),ni=e=>async(t,r,i,n)=>{let a=i?Object.assign(i,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){let t=new(n?.Err??e)(s.issues.map(e=>iW(e,a,r6())));throw iy(t,n?.callee),t}return s.value},nn=ni(i9),na=e=>(t,r,i)=>{let n=i?{...i,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},n);if(a instanceof Promise)throw new r0;return a.issues.length?{success:!1,error:new(e??i2)(a.issues.map(e=>iW(e,n,r6())))}:{success:!0,data:a.value}},ns=na(i9),no=e=>async(t,r,i)=>{let n=i?Object.assign(i,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},n);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>iW(e,n,r6())))}:{success:!0,data:a.value}},nl=no(i9),nu=e=>(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return nt(e)(t,r,n)},nd=nu(i9),nc=e=>(t,r,i)=>nt(e)(t,r,i),np=nc(i9),nm=e=>async(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ni(e)(t,r,n)},nh=nm(i9),nf=e=>async(t,r,i)=>ni(e)(t,r,i),ng=nf(i9),n_=e=>(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return na(e)(t,r,n)},nv=n_(i9),ny=e=>(t,r,i)=>na(e)(t,r,i),nb=ny(i9),n$=e=>async(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return no(e)(t,r,n)},nw=n$(i9),nx=e=>async(t,r,i)=>no(e)(t,r,i),nk=nx(i9);e.s(["_decode",0,nc,"_decodeAsync",0,nf,"_encode",0,nu,"_encodeAsync",0,nm,"_parse",0,nt,"_parseAsync",0,ni,"_safeDecode",0,ny,"_safeDecodeAsync",0,nx,"_safeEncode",0,n_,"_safeEncodeAsync",0,n$,"_safeParse",0,na,"_safeParseAsync",0,no,"decode",0,np,"decodeAsync",0,ng,"encode",0,nd,"encodeAsync",0,nh,"parse",0,nr,"parseAsync",0,nn,"safeDecode",0,nb,"safeDecodeAsync",0,nk,"safeEncode",0,nv,"safeEncodeAsync",0,nw,"safeParse",0,ns,"safeParseAsync",0,nl],759523);let nI=/^[cC][^\s-]{8,}$/,nS=/^[0-9a-z]+$/,nO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,nE=/^[0-9a-vA-V]{20}$/,nT=/^[A-Za-z0-9]{27}$/,nA=/^[a-zA-Z0-9_-]{21}$/,nN=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,nj=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,nP=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,nC=nP(4),nZ=nP(6),nz=nP(7),nU=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,nR=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function nD(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let nL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,nF=e=>{let t=iO(e??":");return RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},nB=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,nJ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nW=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,nV=/^[A-Za-z0-9_-]*$/,nG=/^\+(?:[0-9]){6,14}[0-9]$/,nq="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",nK=RegExp(`^${nq}$`);function nH(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function nX(e){return RegExp(`^${nH(e)}$`)}function nY(e){let t=nH({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let i=`${t}(?:${r.join("|")})`;return RegExp(`^${nq}T(?:${i})$`)}let nQ=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},n0=/^-?\d+n?$/,n1=/^-?\d+$/,n4=/^-?\d+(?:\.\d+)?/,n6=/^(?:true|false)$/i,n2=/^null$/i,n9=/^undefined$/i,n5=/^[^A-Z]*$/,n3=/^[^a-z]*$/;function n8(e,t){return RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function n7(e){return RegExp(`^[A-Za-z0-9_-]{${e}}$`)}let ae=n8(22,"=="),at=n7(22),ar=n8(27,"="),ai=n7(27),an=n8(43,"="),aa=n7(43),as=n8(64,""),ao=n7(64),al=n8(86,"=="),au=n7(86);e.s(["base64",0,nW,"base64url",0,nV,"bigint",0,n0,"boolean",0,n6,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,nB,"cidrv6",0,nJ,"cuid",0,nI,"cuid2",0,nS,"date",0,nK,"datetime",()=>nY,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,nN,"e164",0,nG,"email",0,nU,"emoji",()=>nD,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,nj,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,nR,"integer",0,n1,"ipv4",0,nL,"ipv6",0,nM,"ksuid",0,nT,"lowercase",0,n5,"mac",0,nF,"md5_base64",0,ae,"md5_base64url",0,at,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,nA,"null",()=>n2,"number",0,n4,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,ar,"sha1_base64url",0,ai,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,an,"sha256_base64url",0,aa,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,as,"sha384_base64url",0,ao,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,al,"sha512_base64url",0,au,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,nQ,"time",()=>nX,"ulid",0,nO,"undefined",()=>n9,"unicodeEmail",0,nR,"uppercase",0,n3,"uuid",0,nP,"uuid4",0,nC,"uuid6",0,nZ,"uuid7",0,nz,"xid",0,nE],519886);let ad=rY("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),ac={number:"number",bigint:"bigint",object:"date"},ap=rY("$ZodCheckLessThan",(e,t)=>{ad.init(e,t);let r=ac[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,i=(t.inclusive?r.maximum:r.exclusiveMaximum)??1/0;t.value<i&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:r,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),am=rY("$ZodCheckGreaterThan",(e,t)=>{ad.init(e,t);let r=ac[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,i=(t.inclusive?r.minimum:r.exclusiveMinimum)??-1/0;t.value>i&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:r,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ah=rY("$ZodCheckMultipleOf",(e,t)=>{ad.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===is(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),af=rY("$ZodCheckNumberFormat",(e,t)=>{ad.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),i=r?"int":"number",[n,a]=iP[t.format];e._zod.onattach.push(e=>{let i=e._zod.bag;i.format=t.format,i.minimum=n,i.maximum=a,r&&(i.pattern=n1)}),e._zod.check=s=>{let o=s.value;if(r){if(!Number.isInteger(o))return void s.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});if(!Number.isSafeInteger(o))return void(o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}))}o<n&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),o>a&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inst:e})}}),ag=rY("$ZodCheckBigIntFormat",(e,t)=>{ad.init(e,t);let[r,i]=iC[t.format];e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,n.minimum=r,n.maximum=i}),e._zod.check=n=>{let a=n.value;a<r&&n.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),a>i&&n.issues.push({origin:"bigint",input:a,code:"too_big",maximum:i,inst:e})}}),a_=rY("$ZodCheckMaxSize",(e,t)=>{var r;ad.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!ii(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;i.size<=t.maximum||r.issues.push({origin:iV(i),code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),av=rY("$ZodCheckMinSize",(e,t)=>{var r;ad.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!ii(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;i.size>=t.minimum||r.issues.push({origin:iV(i),code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),ay=rY("$ZodCheckSizeEquals",(e,t)=>{var r;ad.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!ii(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.size,r.maximum=t.size,r.size=t.size}),e._zod.check=r=>{let i=r.value,n=i.size;if(n===t.size)return;let a=n>t.size;r.issues.push({origin:iV(i),...a?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),ab=rY("$ZodCheckMaxLength",(e,t)=>{var r;ad.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!ii(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;if(i.length<=t.maximum)return;let n=iG(i);r.issues.push({origin:n,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),a$=rY("$ZodCheckMinLength",(e,t)=>{var r;ad.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!ii(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;if(i.length>=t.minimum)return;let n=iG(i);r.issues.push({origin:n,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),aw=rY("$ZodCheckLengthEquals",(e,t)=>{var r;ad.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!ii(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let i=r.value,n=i.length;if(n===t.length)return;let a=iG(i),s=n>t.length;r.issues.push({origin:a,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),ax=rY("$ZodCheckStringFormat",(e,t)=>{var r,i;ad.init(e,t),e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),ak=rY("$ZodCheckRegex",(e,t)=>{ax.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),aI=rY("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=n5),ax.init(e,t)}),aS=rY("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=n3),ax.init(e,t)}),aO=rY("$ZodCheckIncludes",(e,t)=>{ad.init(e,t);let r=iO(t.includes),i=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=i,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(i)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),aE=rY("$ZodCheckStartsWith",(e,t)=>{ad.init(e,t);let r=RegExp(`^${iO(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),aT=rY("$ZodCheckEndsWith",(e,t)=>{ad.init(e,t);let r=RegExp(`.*${iO(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}});function aA(e,t,r){e.issues.length&&t.issues.push(...iB(r,e.issues))}let aN=rY("$ZodCheckProperty",(e,t)=>{ad.init(e,t),e._zod.check=e=>{let r=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(r instanceof Promise)return r.then(r=>aA(r,e,t.property));aA(r,e,t.property)}}),aj=rY("$ZodCheckMimeType",(e,t)=>{ad.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=i=>{r.has(i.value.type)||i.issues.push({code:"invalid_value",values:t.mime,input:i.value.type,inst:e,continue:!t.abort})}}),aP=rY("$ZodCheckOverwrite",(e,t)=>{ad.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});e.s(["$ZodCheck",0,ad,"$ZodCheckBigIntFormat",0,ag,"$ZodCheckEndsWith",0,aT,"$ZodCheckGreaterThan",0,am,"$ZodCheckIncludes",0,aO,"$ZodCheckLengthEquals",0,aw,"$ZodCheckLessThan",0,ap,"$ZodCheckLowerCase",0,aI,"$ZodCheckMaxLength",0,ab,"$ZodCheckMaxSize",0,a_,"$ZodCheckMimeType",0,aj,"$ZodCheckMinLength",0,a$,"$ZodCheckMinSize",0,av,"$ZodCheckMultipleOf",0,ah,"$ZodCheckNumberFormat",0,af,"$ZodCheckOverwrite",0,aP,"$ZodCheckProperty",0,aN,"$ZodCheckRegex",0,ak,"$ZodCheckSizeEquals",0,ay,"$ZodCheckStartsWith",0,aE,"$ZodCheckStringFormat",0,ax,"$ZodCheckUpperCase",0,aS],324902);class aC{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}e.s(["Doc",()=>aC],784327);let aZ={major:4,minor:1,patch:13};e.s(["version",0,aZ],433651);let az=rY("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=aZ;let i=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&i.unshift(e),i))for(let r of t._zod.onattach)r(e);if(0===i.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let i,n=iF(e);for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(n)continue;let t=e.issues.length,s=a._zod.check(e);if(s instanceof Promise&&r?.async===!1)throw new r0;if(i||s instanceof Promise)i=(i??Promise.resolve()).then(async()=>{await s,e.issues.length!==t&&(n||(n=iF(e,t)))});else{if(e.issues.length===t)continue;n||(n=iF(e,t))}}return i?i.then(()=>e):e},r=(r,n,a)=>{if(iF(r))return r.aborted=!0,r;let s=t(n,i,a);if(s instanceof Promise){if(!1===a.async)throw new r0;return s.then(t=>e._zod.parse(t,a))}return e._zod.parse(s,a)};e._zod.run=(n,a)=>{if(a.skipChecks)return e._zod.parse(n,a);if("backward"===a.direction){let t=e._zod.parse({value:n.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>r(e,n,a)):r(t,n,a)}let s=e._zod.parse(n,a);if(s instanceof Promise){if(!1===a.async)throw new r0;return s.then(e=>t(e,i,a))}return t(s,i,a)}}e["~standard"]={validate:t=>{try{let r=ns(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return nl(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),aU=rY("$ZodString",(e,t)=>{az.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??nQ(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch(e){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),aR=rY("$ZodStringFormat",(e,t)=>{ax.init(e,t),aU.init(e,t)}),aD=rY("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=nj),aR.init(e,t)}),aL=rY("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=nP(e))}else t.pattern??(t.pattern=nP());aR.init(e,t)}),aM=rY("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=nU),aR.init(e,t)}),aF=rY("$ZodURL",(e,t)=>{aR.init(e,t),e._zod.check=r=>{try{let i=r.value.trim(),n=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=n.href:r.value=i;return}catch(i){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),aB=rY("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=nD()),aR.init(e,t)}),aJ=rY("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=nA),aR.init(e,t)}),aW=rY("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=nI),aR.init(e,t)}),aV=rY("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=nS),aR.init(e,t)}),aG=rY("$ZodULID",(e,t)=>{t.pattern??(t.pattern=nO),aR.init(e,t)}),aq=rY("$ZodXID",(e,t)=>{t.pattern??(t.pattern=nE),aR.init(e,t)}),aK=rY("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=nT),aR.init(e,t)}),aH=rY("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=nY(t)),aR.init(e,t)}),aX=rY("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=nK),aR.init(e,t)}),aY=rY("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=nX(t)),aR.init(e,t)}),aQ=rY("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=nN),aR.init(e,t)}),a0=rY("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=nL),aR.init(e,t),e._zod.bag.format="ipv4"}),a1=rY("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=nM),aR.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),a4=rY("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=nF(t.delimiter)),aR.init(e,t),e._zod.bag.format="mac"}),a6=rY("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=nB),aR.init(e,t)}),a2=rY("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=nJ),aR.init(e,t),e._zod.check=r=>{let i=r.value.split("/");try{if(2!==i.length)throw Error();let[e,t]=i;if(!t)throw Error();let r=Number(t);if(`${r}`!==t||r<0||r>128)throw Error();new URL(`http://[${e}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function a9(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let a5=rY("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=nW),aR.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{a9(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function a3(e){if(!nV.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return a9(t.padEnd(4*Math.ceil(t.length/4),"="))}let a8=rY("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=nV),aR.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{a3(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),a7=rY("$ZodE164",(e,t)=>{t.pattern??(t.pattern=nG),aR.init(e,t)});function se(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[i]=r;if(!i)return!1;let n=JSON.parse(atob(i));if("typ"in n&&n?.typ!=="JWT"||!n.alg||t&&(!("alg"in n)||n.alg!==t))return!1;return!0}catch{return!1}}let st=rY("$ZodJWT",(e,t)=>{aR.init(e,t),e._zod.check=r=>{se(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),sr=rY("$ZodCustomStringFormat",(e,t)=>{aR.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),si=rY("$ZodNumber",(e,t)=>{az.init(e,t),e._zod.pattern=e._zod.bag.pattern??n4,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=Number(r.value)}catch(e){}let n=r.value;if("number"==typeof n&&!Number.isNaN(n)&&Number.isFinite(n))return r;let a="number"==typeof n?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:n,inst:e,...a?{received:a}:{}}),r}}),sn=rY("$ZodNumberFormat",(e,t)=>{af.init(e,t),si.init(e,t)}),sa=rY("$ZodBoolean",(e,t)=>{az.init(e,t),e._zod.pattern=n6,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=!!r.value}catch(e){}let n=r.value;return"boolean"==typeof n||r.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:e}),r}}),ss=rY("$ZodBigInt",(e,t)=>{az.init(e,t),e._zod.pattern=n0,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch(e){}return"bigint"==typeof r.value||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),so=rY("$ZodBigIntFormat",(e,t)=>{ag.init(e,t),ss.init(e,t)}),sl=rY("$ZodSymbol",(e,t)=>{az.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return"symbol"==typeof i||t.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),t}}),su=rY("$ZodUndefined",(e,t)=>{az.init(e,t),e._zod.pattern=n9,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,r)=>{let i=t.value;return void 0===i||t.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),t}}),sd=rY("$ZodNull",(e,t)=>{az.init(e,t),e._zod.pattern=n2,e._zod.values=new Set([null]),e._zod.parse=(t,r)=>{let i=t.value;return null===i||t.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),t}}),sc=rY("$ZodAny",(e,t)=>{az.init(e,t),e._zod.parse=e=>e}),sp=rY("$ZodUnknown",(e,t)=>{az.init(e,t),e._zod.parse=e=>e}),sm=rY("$ZodNever",(e,t)=>{az.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),sh=rY("$ZodVoid",(e,t)=>{az.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return void 0===i||t.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),t}}),sf=rY("$ZodDate",(e,t)=>{az.init(e,t),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=new Date(r.value)}catch(e){}let n=r.value,a=n instanceof Date;return a&&!Number.isNaN(n.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:n,...a?{received:"Invalid Date"}:{},inst:e}),r}});function sg(e,t,r){e.issues.length&&t.issues.push(...iB(r,e.issues)),t.value[r]=e.value}let s_=rY("$ZodArray",(e,t)=>{az.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),r;r.value=Array(n.length);let a=[];for(let e=0;e<n.length;e++){let s=n[e],o=t.element._zod.run({value:s,issues:[]},i);o instanceof Promise?a.push(o.then(t=>sg(t,r,e))):sg(o,r,e)}return a.length?Promise.all(a).then(()=>r):r}});function sv(e,t,r,i){e.issues.length&&t.issues.push(...iB(r,e.issues)),void 0===e.value?r in i&&(t.value[r]=void 0):t.value[r]=e.value}function sy(e){let t=Object.keys(e.shape);for(let r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=ij(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function sb(e,t,r,i,n,a){let s=[],o=n.keySet,l=n.catchall._zod,u=l.def.type;for(let n in t){if(o.has(n))continue;if("never"===u){s.push(n);continue}let a=l.run({value:t[n],issues:[]},i);a instanceof Promise?e.push(a.then(e=>sv(e,r,n,t))):sv(a,r,n,t)}return(s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:a}),e.length)?Promise.all(e).then(()=>r):r}let s$=rY("$ZodObject",(e,t)=>{let r;az.init(e,t);let i=Object.getOwnPropertyDescriptor(t,"shape");if(!i?.get){let e=t.shape;Object.defineProperty(t,"shape",{get:()=>{let r={...e};return Object.defineProperty(t,"shape",{value:r}),r}})}let n=ir(()=>sy(t));il(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let i=e[t]._zod;if(i.values)for(let e of(r[t]??(r[t]=new Set),i.values))r[t].add(e)}return r});let a=t.catchall;e._zod.parse=(t,i)=>{r??(r=n.value);let s=t.value;if(!ib(s))return t.issues.push({expected:"object",code:"invalid_type",input:s,inst:e}),t;t.value={};let o=[],l=r.shape;for(let e of r.keys){let r=l[e]._zod.run({value:s[e],issues:[]},i);r instanceof Promise?o.push(r.then(r=>sv(r,t,e,s))):sv(r,t,e,s)}return a?sb(o,s,t,i,n.value,e):o.length?Promise.all(o).then(()=>t):t}}),sw=rY("$ZodObjectJIT",(e,t)=>{let r,i;s$.init(e,t);let n=e._zod.parse,a=ir(()=>sy(t)),s=!r4.jitless,o=s&&i$.value,l=t.catchall;e._zod.parse=(u,d)=>{i??(i=a.value);let c=u.value;return ib(c)?s&&o&&d?.async===!1&&!0!==d.jitless?(r||(r=(e=>{let t=new aC(["shape","payload","ctx"]),r=a.value,i=e=>{let t=i_(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let n=Object.create(null),s=0;for(let e of r.keys)n[e]=`key_${s++}`;for(let e of(t.write("const newResult = {};"),r.keys)){let r=n[e],a=i_(e);t.write(`const ${r} = ${i(e)};`),t.write(`
        if (${r}.issues.length) {
          payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${a}, ...iss.path] : [${a}]
          })));
        }
        
        
        if (${r}.value === undefined) {
          if (${a} in input) {
            newResult[${a}] = undefined;
          }
        } else {
          newResult[${a}] = ${r}.value;
        }
        
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let o=t.compile();return(t,r)=>o(e,t,r)})(t.shape)),u=r(u,d),l)?sb([],c,u,d,i,e):u:n(u,d):(u.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),u)}});function sx(e,t,r,i){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;let n=e.filter(e=>!iF(e));return 1===n.length?(t.value=n[0].value,n[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>iW(e,i,r6())))}),t)}let sk=rY("$ZodUnion",(e,t)=>{az.init(e,t),il(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),il(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),il(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),il(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>ia(e.source)).join("|")})$`)}});let r=1===t.options.length,i=t.options[0]._zod.run;e._zod.parse=(n,a)=>{if(r)return i(n,a);let s=!1,o=[];for(let e of t.options){let t=e._zod.run({value:n.value,issues:[]},a);if(t instanceof Promise)o.push(t),s=!0;else{if(0===t.issues.length)return t;o.push(t)}}return s?Promise.all(o).then(t=>sx(t,n,e,a)):sx(o,n,e,a)}}),sI=rY("$ZodDiscriminatedUnion",(e,t)=>{sk.init(e,t);let r=e._zod.parse;il(e._zod,"propValues",()=>{let e={};for(let r of t.options){let i=r._zod.propValues;if(!i||0===Object.keys(i).length)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let[t,r]of Object.entries(i))for(let i of(e[t]||(e[t]=new Set),r))e[t].add(i)}return e});let i=ir(()=>{let e=t.options,r=new Map;for(let i of e){let e=i._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(let t of e){if(r.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);r.set(t,i)}}return r});e._zod.parse=(n,a)=>{let s=n.value;if(!ib(s))return n.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),n;let o=i.value.get(s?.[t.discriminator]);return o?o._zod.run(n,a):t.unionFallback?r(n,a):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:s,path:[t.discriminator],inst:e}),n)}}),sS=rY("$ZodIntersection",(e,t)=>{az.init(e,t),e._zod.parse=(e,r)=>{let i=e.value,n=t.left._zod.run({value:i,issues:[]},r),a=t.right._zod.run({value:i,issues:[]},r);return n instanceof Promise||a instanceof Promise?Promise.all([n,a]).then(([t,r])=>sO(e,t,r)):sO(e,n,a)}});function sO(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),iF(e))return e;let i=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(iw(t)&&iw(r)){let i=Object.keys(r),n=Object.keys(t).filter(e=>-1!==i.indexOf(e)),a={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1,mergeErrorPath:[i,...n.mergeErrorPath]};a[i]=n.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let i=[];for(let n=0;n<t.length;n++){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};i.push(a.data)}return{valid:!0,data:i}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!i.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}let sE=rY("$ZodTuple",(e,t)=>{az.init(e,t);let r=t.items;e._zod.parse=(i,n)=>{let a=i.value;if(!Array.isArray(a))return i.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];let s=[],o=[...r].reverse().findIndex(e=>"optional"!==e._zod.optin),l=-1===o?0:r.length-o;if(!t.rest){let t=a.length>r.length,n=a.length<l-1;if(t||n)return i.issues.push({...t?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:a,inst:e,origin:"array"}),i}let u=-1;for(let e of r){if(++u>=a.length&&u>=l)continue;let t=e._zod.run({value:a[u],issues:[]},n);t instanceof Promise?s.push(t.then(e=>sT(e,i,u))):sT(t,i,u)}if(t.rest)for(let e of a.slice(r.length)){u++;let r=t.rest._zod.run({value:e,issues:[]},n);r instanceof Promise?s.push(r.then(e=>sT(e,i,u))):sT(r,i,u)}return s.length?Promise.all(s).then(()=>i):i}});function sT(e,t,r){e.issues.length&&t.issues.push(...iB(r,e.issues)),t.value[r]=e.value}let sA=rY("$ZodRecord",(e,t)=>{az.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!iw(n))return r.issues.push({expected:"record",code:"invalid_type",input:n,inst:e}),r;let a=[],s=t.keyType._zod.values;if(s){let o;r.value={};let l=new Set;for(let e of s)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){l.add("number"==typeof e?e.toString():e);let s=t.valueType._zod.run({value:n[e],issues:[]},i);s instanceof Promise?a.push(s.then(t=>{t.issues.length&&r.issues.push(...iB(e,t.issues)),r.value[e]=t.value})):(s.issues.length&&r.issues.push(...iB(e,s.issues)),r.value[e]=s.value)}for(let e in n)l.has(e)||(o=o??[]).push(e);o&&o.length>0&&r.issues.push({code:"unrecognized_keys",input:n,inst:e,keys:o})}else for(let s of(r.value={},Reflect.ownKeys(n))){if("__proto__"===s)continue;let o=t.keyType._zod.run({value:s,issues:[]},i);if(o instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(o.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:o.issues.map(e=>iW(e,i,r6())),input:s,path:[s],inst:e}),r.value[o.value]=o.value;continue}let l=t.valueType._zod.run({value:n[s],issues:[]},i);l instanceof Promise?a.push(l.then(e=>{e.issues.length&&r.issues.push(...iB(s,e.issues)),r.value[o.value]=e.value})):(l.issues.length&&r.issues.push(...iB(s,l.issues)),r.value[o.value]=l.value)}return a.length?Promise.all(a).then(()=>r):r}}),sN=rY("$ZodMap",(e,t)=>{az.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:n,inst:e}),r;let a=[];for(let[s,o]of(r.value=new Map,n)){let l=t.keyType._zod.run({value:s,issues:[]},i),u=t.valueType._zod.run({value:o,issues:[]},i);l instanceof Promise||u instanceof Promise?a.push(Promise.all([l,u]).then(([t,a])=>{sj(t,a,r,s,n,e,i)})):sj(l,u,r,s,n,e,i)}return a.length?Promise.all(a).then(()=>r):r}});function sj(e,t,r,i,n,a,s){e.issues.length&&(iI.has(typeof i)?r.issues.push(...iB(i,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:n,inst:a,issues:e.issues.map(e=>iW(e,s,r6()))})),t.issues.length&&(iI.has(typeof i)?r.issues.push(...iB(i,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:n,inst:a,key:i,issues:t.issues.map(e=>iW(e,s,r6()))})),r.value.set(e.value,t.value)}let sP=rY("$ZodSet",(e,t)=>{az.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Set))return r.issues.push({input:n,inst:e,expected:"set",code:"invalid_type"}),r;let a=[];for(let e of(r.value=new Set,n)){let n=t.valueType._zod.run({value:e,issues:[]},i);n instanceof Promise?a.push(n.then(e=>sC(e,r))):sC(n,r)}return a.length?Promise.all(a).then(()=>r):r}});function sC(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}let sZ=rY("$ZodEnum",(e,t)=>{az.init(e,t);let r=r7(t.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=RegExp(`^(${r.filter(e=>iI.has(typeof e)).map(e=>"string"==typeof e?iO(e):e.toString()).join("|")})$`),e._zod.parse=(t,n)=>{let a=t.value;return i.has(a)||t.issues.push({code:"invalid_value",values:r,input:a,inst:e}),t}}),sz=rY("$ZodLiteral",(e,t)=>{if(az.init(e,t),0===t.values.length)throw Error("Cannot create literal schema with no valid values");let r=new Set(t.values);e._zod.values=r,e._zod.pattern=RegExp(`^(${t.values.map(e=>"string"==typeof e?iO(e):e?iO(e.toString()):String(e)).join("|")})$`),e._zod.parse=(i,n)=>{let a=i.value;return r.has(a)||i.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),i}}),sU=rY("$ZodFile",(e,t)=>{az.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return i instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),t}}),sR=rY("$ZodTransform",(e,t)=>{az.init(e,t),e._zod.parse=(r,i)=>{if("backward"===i.direction)throw new r1(e.constructor.name);let n=t.transform(r.value,r);if(i.async)return(n instanceof Promise?n:Promise.resolve(n)).then(e=>(r.value=e,r));if(n instanceof Promise)throw new r0;return r.value=n,r}});function sD(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let sL=rY("$ZodOptional",(e,t)=>{az.init(e,t),e._zod.optin="optional",e._zod.optout="optional",il(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),il(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${ia(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(t=>sD(t,e.value)):sD(i,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),sM=rY("$ZodNullable",(e,t)=>{az.init(e,t),il(e._zod,"optin",()=>t.innerType._zod.optin),il(e._zod,"optout",()=>t.innerType._zod.optout),il(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${ia(e.source)}|null)$`):void 0}),il(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),sF=rY("$ZodDefault",(e,t)=>{az.init(e,t),e._zod.optin="optional",il(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);if(void 0===e.value)return e.value=t.defaultValue,e;let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(e=>sB(e,t)):sB(i,t)}});function sB(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let sJ=rY("$ZodPrefault",(e,t)=>{az.init(e,t),e._zod.optin="optional",il(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>("backward"===r.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),sW=rY("$ZodNonOptional",(e,t)=>{az.init(e,t),il(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,i)=>{let n=t.innerType._zod.run(r,i);return n instanceof Promise?n.then(t=>sV(t,e)):sV(n,e)}});function sV(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let sG=rY("$ZodSuccess",(e,t)=>{az.init(e,t),e._zod.parse=(e,r)=>{if("backward"===r.direction)throw new r1("ZodSuccess");let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===i.issues.length,e)}}),sq=rY("$ZodCatch",(e,t)=>{az.init(e,t),il(e._zod,"optin",()=>t.innerType._zod.optin),il(e._zod,"optout",()=>t.innerType._zod.optout),il(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(i=>(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>iW(e,r,r6()))},input:e.value}),e.issues=[]),e)):(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>iW(e,r,r6()))},input:e.value}),e.issues=[]),e)}}),sK=rY("$ZodNaN",(e,t)=>{az.init(e,t),e._zod.parse=(t,r)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),sH=rY("$ZodPipe",(e,t)=>{az.init(e,t),il(e._zod,"values",()=>t.in._zod.values),il(e._zod,"optin",()=>t.in._zod.optin),il(e._zod,"optout",()=>t.out._zod.optout),il(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("backward"===r.direction){let i=t.out._zod.run(e,r);return i instanceof Promise?i.then(e=>sX(e,t.in,r)):sX(i,t.in,r)}let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>sX(e,t.out,r)):sX(i,t.out,r)}});function sX(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}let sY=rY("$ZodCodec",(e,t)=>{az.init(e,t),il(e._zod,"values",()=>t.in._zod.values),il(e._zod,"optin",()=>t.in._zod.optin),il(e._zod,"optout",()=>t.out._zod.optout),il(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("forward"===(r.direction||"forward")){let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>sQ(e,t,r)):sQ(i,t,r)}{let i=t.out._zod.run(e,r);return i instanceof Promise?i.then(e=>sQ(e,t,r)):sQ(i,t,r)}}});function sQ(e,t,r){if(e.issues.length)return e.aborted=!0,e;if("forward"===(r.direction||"forward")){let i=t.transform(e.value,e);return i instanceof Promise?i.then(i=>s0(e,i,t.out,r)):s0(e,i,t.out,r)}{let i=t.reverseTransform(e.value,e);return i instanceof Promise?i.then(i=>s0(e,i,t.in,r)):s0(e,i,t.in,r)}}function s0(e,t,r,i){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},i)}let s1=rY("$ZodReadonly",(e,t)=>{az.init(e,t),il(e._zod,"propValues",()=>t.innerType._zod.propValues),il(e._zod,"values",()=>t.innerType._zod.values),il(e._zod,"optin",()=>t.innerType?._zod?.optin),il(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(s4):s4(i)}});function s4(e){return e.value=Object.freeze(e.value),e}let s6=rY("$ZodTemplateLiteral",(e,t)=>{az.init(e,t);let r=[];for(let e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let i=+!!t.startsWith("^"),n=t.endsWith("$")?t.length-1:t.length;r.push(t.slice(i,n))}else if(null===e||iS.has(typeof e))r.push(iO(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${r.join("")}$`),e._zod.parse=(r,i)=>("string"!=typeof r.value?r.issues.push({input:r.value,inst:e,expected:"template_literal",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source})),r)}),s2=rY("$ZodFunction",(e,t)=>(az.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw Error("implement() must be called with a function");return function(...r){let i=Reflect.apply(t,this,e._def.input?nr(e._def.input,r):r);return e._def.output?nr(e._def.output,i):i}},e.implementAsync=t=>{if("function"!=typeof t)throw Error("implementAsync() must be called with a function");return async function(...r){let i=e._def.input?await nn(e._def.input,r):r,n=await Reflect.apply(t,this,i);return e._def.output?await nn(e._def.output,n):n}},e._zod.parse=(t,r)=>("function"!=typeof t.value?t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}):e._def.output&&"promise"===e._def.output._zod.def.type?t.value=e.implementAsync(t.value):t.value=e.implement(t.value),t),e.input=(...t)=>{let r=e.constructor;return new r(Array.isArray(t[0])?{type:"function",input:new sE({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}:{type:"function",input:t[0],output:e._def.output})},e.output=t=>new e.constructor({type:"function",input:e._def.input,output:t}),e)),s9=rY("$ZodPromise",(e,t)=>{az.init(e,t),e._zod.parse=(e,r)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},r))}),s5=rY("$ZodLazy",(e,t)=>{az.init(e,t),il(e._zod,"innerType",()=>t.getter()),il(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),il(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),il(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),il(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(t,r)=>e._zod.innerType._zod.run(t,r)}),s3=rY("$ZodCustom",(e,t)=>{ad.init(e,t),az.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let i=r.value,n=t.fn(i);if(n instanceof Promise)return n.then(t=>s8(t,r,i,e));s8(n,r,i,e)}});function s8(e,t,r,i){if(!e){let e={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(e.params=i._zod.def.params),t.issues.push(iq(e))}}function s7(e,t,r,i){let n=Math.abs(e),a=n%10,s=n%100;return s>=11&&s<=19?i:1===a?t:a>=2&&a<=4?r:i}function oe(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  ${iN(r.values[0])}`;return`  ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`  ${r.origin??""} ${t} ${r.maximum.toString()} ${i.unit??""}`;return`  ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`  ${r.origin} ${t} ${r.minimum.toString()} ${i.unit}`;return`  ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  "${r.prefix}"`;if("ends_with"===r.format)return`  "${r.suffix}"`;if("includes"===r.format)return`  "${r.includes}"`;if("regex"===r.format)return`  ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return`  ${r.divisor}`;case"unrecognized_keys":return` ${ie(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${r.origin}`}})}}e.s(["$ZodAny",0,sc,"$ZodArray",0,s_,"$ZodBase64",0,a5,"$ZodBase64URL",0,a8,"$ZodBigInt",0,ss,"$ZodBigIntFormat",0,so,"$ZodBoolean",0,sa,"$ZodCIDRv4",0,a6,"$ZodCIDRv6",0,a2,"$ZodCUID",0,aW,"$ZodCUID2",0,aV,"$ZodCatch",0,sq,"$ZodCodec",0,sY,"$ZodCustom",0,s3,"$ZodCustomStringFormat",0,sr,"$ZodDate",0,sf,"$ZodDefault",0,sF,"$ZodDiscriminatedUnion",0,sI,"$ZodE164",0,a7,"$ZodEmail",0,aM,"$ZodEmoji",0,aB,"$ZodEnum",0,sZ,"$ZodFile",0,sU,"$ZodFunction",0,s2,"$ZodGUID",0,aD,"$ZodIPv4",0,a0,"$ZodIPv6",0,a1,"$ZodISODate",0,aX,"$ZodISODateTime",0,aH,"$ZodISODuration",0,aQ,"$ZodISOTime",0,aY,"$ZodIntersection",0,sS,"$ZodJWT",0,st,"$ZodKSUID",0,aK,"$ZodLazy",0,s5,"$ZodLiteral",0,sz,"$ZodMAC",0,a4,"$ZodMap",0,sN,"$ZodNaN",0,sK,"$ZodNanoID",0,aJ,"$ZodNever",0,sm,"$ZodNonOptional",0,sW,"$ZodNull",0,sd,"$ZodNullable",0,sM,"$ZodNumber",0,si,"$ZodNumberFormat",0,sn,"$ZodObject",0,s$,"$ZodObjectJIT",0,sw,"$ZodOptional",0,sL,"$ZodPipe",0,sH,"$ZodPrefault",0,sJ,"$ZodPromise",0,s9,"$ZodReadonly",0,s1,"$ZodRecord",0,sA,"$ZodSet",0,sP,"$ZodString",0,aU,"$ZodStringFormat",0,aR,"$ZodSuccess",0,sG,"$ZodSymbol",0,sl,"$ZodTemplateLiteral",0,s6,"$ZodTransform",0,sR,"$ZodTuple",0,sE,"$ZodType",0,az,"$ZodULID",0,aG,"$ZodURL",0,aF,"$ZodUUID",0,aL,"$ZodUndefined",0,su,"$ZodUnion",0,sk,"$ZodUnknown",0,sp,"$ZodVoid",0,sh,"$ZodXID",0,aq,"isValidBase64",()=>a9,"isValidBase64URL",()=>a3,"isValidJWT",()=>se],593399),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  :   ${r.expected}    ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :   ${iN(r.values[0])}`;return`  :     : ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`   :    ${r.origin??""} ${t} ${r.maximum.toString()} ${i.unit??""}`;return`  :    ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`  :   ${r.origin}   ${t} ${r.minimum.toString()} ${i.unit}`;return`  :   ${r.origin}   ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :     "${r.prefix}"`;if("ends_with"===r.format)return`  :     "${r.suffix}"`;if("includes"===r.format)return`  :    "${r.includes}"`;if("regex"===r.format)return`  :     ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${ie(r.keys," ")}`;case"invalid_key":return`    ${r.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${r.origin}`}})}}],326176),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Yanl dyr: g\xf6zlniln ${r.expected}, daxil olan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Yanl dyr: g\xf6zlniln ${iN(r.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()} ${i.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Yanl mtn: "${r.prefix}" il balamaldr`;if("ends_with"===r.format)return`Yanl mtn: "${r.suffix}" il bitmlidir`;if("includes"===r.format)return`Yanl mtn: "${r.includes}" daxil olmaldr`;if("regex"===r.format)return`Yanl mtn: ${r.pattern} ablonuna uyun olmaldr`;return`Yanl ${t[r.format]??r.format}`;case"not_multiple_of":return`Yanl dd: ${r.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${r.keys.length>1?"lar":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${r.origin} daxilind yanl dyr`;default:return`Yanl dyr`}})}}],335433),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${iN(r.values[0])}`;return` :    ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i){let e=s7(Number(r.maximum),i.unit.one,i.unit.few,i.unit.many);return` : ,  ${r.origin??""}  ${i.verb} ${t}${r.maximum.toString()} ${e}`}return` : ,  ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i){let e=s7(Number(r.minimum),i.unit.one,i.unit.few,i.unit.many);return` : ,  ${r.origin}  ${i.verb} ${t}${r.minimum.toString()} ${e}`}return` : ,  ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}}],764752),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${iN(r.values[0])}`;return` :    ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${i.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${i.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":{if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :     ${r.pattern}`;let e="";return"emoji"===r.format&&(e=""),"datetime"===r.format&&(e=""),"date"===r.format&&(e=""),"time"===r.format&&(e=""),"duration"===r.format&&(e=""),`${e} ${t[r.format]??r.format}`}case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}}],249174),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},t={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${r.expected}, s'ha rebut ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Valor inv\xe0lid: s'esperava ${iN(r.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${ie(r.values," o ")}`;case"too_big":{let t=r.inclusive?"com a mxim":"menys de",i=e[r.origin]??null;if(i)return`Massa gran: s'esperava que ${r.origin??"el valor"} contingu\xe9s ${t} ${r.maximum.toString()} ${i.unit??"elements"}`;return`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"com a mnim":"ms de",i=e[r.origin]??null;if(i)return`Massa petit: s'esperava que ${r.origin} contingu\xe9s ${t} ${r.minimum.toString()} ${i.unit}`;return`Massa petit: s'esperava que ${r.origin} fos ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${r.prefix}"`;if("ends_with"===r.format)return`Format inv\xe0lid: ha d'acabar amb "${r.suffix}"`;if("includes"===r.format)return`Format inv\xe0lid: ha d'incloure "${r.includes}"`;if("regex"===r.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${r.pattern}`;return`Format inv\xe0lid per a ${t[r.format]??r.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${r.origin}`;default:return`Entrada inv\xe0lida`}})}}],866753),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},t={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},r=>{switch(r.code){case"invalid_type":return`Neplatn\xfd vstup: oek\xe1v\xe1no ${r.expected}, obdreno ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${iN(r.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.maximum.toString()} ${i.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.minimum.toString()} ${i.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${r.prefix}"`;if("ends_with"===r.format)return`Neplatn\xfd etzec: mus\xed konit na "${r.suffix}"`;if("includes"===r.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${r.includes}"`;if("regex"===r.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${r.pattern}`;return`Neplatn\xfd form\xe1t ${t[r.format]??r.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${r.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${ie(r.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${r.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${r.origin}`;default:return`Neplatn\xfd vstup`}})}}],701952),e.s(["default",0,function(){let e,t,r;return{localeError:(e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"},r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},i=>{var n,a,s,o;switch(i.code){case"invalid_type":return`Ugyldigt input: forventede ${t[n=i.expected]??n}, fik ${t[a=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"objekt"}return t})(i.input)]??a}`;case"invalid_value":if(1===i.values.length)return`Ugyldig v\xe6rdi: forventede ${iN(i.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${ie(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",n=e[i.origin]??null,a=t[s=i.origin]??s;if(n)return`For stor: forventede ${a??"value"} ${n.verb} ${r} ${i.maximum.toString()} ${n.unit??"elementer"}`;return`For stor: forventede ${a??"value"} havde ${r} ${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",n=e[i.origin]??null,a=t[o=i.origin]??o;if(n)return`For lille: forventede ${a} ${n.verb} ${r} ${i.minimum.toString()} ${n.unit}`;return`For lille: forventede ${a} havde ${r} ${i.minimum.toString()}`}case"invalid_format":if("starts_with"===i.format)return`Ugyldig streng: skal starte med "${i.prefix}"`;if("ends_with"===i.format)return`Ugyldig streng: skal ende med "${i.suffix}"`;if("includes"===i.format)return`Ugyldig streng: skal indeholde "${i.includes}"`;if("regex"===i.format)return`Ugyldig streng: skal matche m\xf8nsteret ${i.pattern}`;return`Ugyldig ${r[i.format]??i.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${ie(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${i.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${i.origin}`;default:return"Ugyldigt input"}})}}],868576),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},r=>{switch(r.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${r.expected}, erhalten ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ung\xfcltige Eingabe: erwartet ${iN(r.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ${i.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ist`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ${i.unit} hat`;return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ist`}case"invalid_format":if("starts_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.suffix}" enden`;if("includes"===r.format)return`Ung\xfcltiger String: muss "${r.includes}" enthalten`;if("regex"===r.format)return`Ung\xfcltiger String: muss dem Muster ${r.pattern} entsprechen`;return`Ung\xfcltig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${ie(r.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${r.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${r.origin}`;default:return`Ung\xfcltige Eingabe`}})}}],947997),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Invalid input: expected ${r.expected}, received ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${iN(r.values[0])}`;return`Invalid option: expected one of ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Too big: expected ${r.origin??"value"} to have ${t}${r.maximum.toString()} ${i.unit??"elements"}`;return`Too big: expected ${r.origin??"value"} to be ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Too small: expected ${r.origin} to have ${t}${r.minimum.toString()} ${i.unit}`;return`Too small: expected ${r.origin} to be ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Invalid string: must start with "${r.prefix}"`;if("ends_with"===r.format)return`Invalid string: must end with "${r.suffix}"`;if("includes"===r.format)return`Invalid string: must include "${r.includes}"`;if("regex"===r.format)return`Invalid string: must match pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${r.divisor}`;case"unrecognized_keys":return`Unrecognized key${r.keys.length>1?"s":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`Invalid key in ${r.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${r.origin}`}})}}],344249),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},r=>{switch(r.code){case"invalid_type":return`Nevalida enigo: atendiis ${r.expected}, riceviis ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nevalida enigo: atendiis ${iN(r.values[0])}`;return`Nevalida opcio: atendiis unu el ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()} ${i.unit??"elementojn"}`;return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Tro malgranda: atendiis ke ${r.origin} havu ${t}${r.minimum.toString()} ${i.unit}`;return`Tro malgranda: atendiis ke ${r.origin} estu ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nevalida karaktraro: devas komencii per "${r.prefix}"`;if("ends_with"===r.format)return`Nevalida karaktraro: devas finii per "${r.suffix}"`;if("includes"===r.format)return`Nevalida karaktraro: devas inkluzivi "${r.includes}"`;if("regex"===r.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`;return`Nevalida ${t[r.format]??r.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${r.divisor}`;case"unrecognized_keys":return`Nekonata${r.keys.length>1?"j":""} losilo${r.keys.length>1?"j":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${r.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${r.origin}`}})}}],384795),e.s(["default",0,function(){return{localeError:(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(e){return t[e]??e}let i={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return t=>{switch(t.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${r(t.expected)}, recibido ${r((e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name;return"object"}return t})(t.input))}`;case"invalid_value":if(1===t.values.length)return`Entrada inv\xe1lida: se esperaba ${iN(t.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${ie(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",n=e[t.origin]??null,a=r(t.origin);if(n)return`Demasiado grande: se esperaba que ${a??"valor"} tuviera ${i}${t.maximum.toString()} ${n.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${a??"valor"} fuera ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",n=e[t.origin]??null,a=r(t.origin);if(n)return`Demasiado peque\xf1o: se esperaba que ${a} tuviera ${i}${t.minimum.toString()} ${n.unit}`;return`Demasiado peque\xf1o: se esperaba que ${a} fuera ${i}${t.minimum.toString()}`}case"invalid_format":if("starts_with"===t.format)return`Cadena inv\xe1lida: debe comenzar con "${t.prefix}"`;if("ends_with"===t.format)return`Cadena inv\xe1lida: debe terminar en "${t.suffix}"`;if("includes"===t.format)return`Cadena inv\xe1lida: debe incluir "${t.includes}"`;if("regex"===t.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${t.pattern}`;return`Inv\xe1lido ${i[t.format]??t.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${t.divisor}`;case"unrecognized_keys":return`Llave${t.keys.length>1?"s":""} desconocida${t.keys.length>1?"s":""}: ${ie(t.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${r(t.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${r(t.origin)}`;default:return`Entrada inv\xe1lida`}}})()}}],20140),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${iN(r.values[0])} `;return` :    ${ie(r.values,"|")} `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ${r.origin}  ${t}${r.minimum.toString()} ${i.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"  `;if("ends_with"===r.format)return` :   "${r.suffix}"  `;if("includes"===r.format)return` :   "${r.includes}" `;if("regex"===r.format)return` :    ${r.pattern}   `;return`${t[r.format]??r.format} `;case"not_multiple_of":return` :   ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""} : ${ie(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin}`}})}}],819548),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},t={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${iN(r.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Liian suuri: ${i.subject} t\xe4ytyy olla ${t}${r.maximum.toString()} ${i.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Liian pieni: ${i.subject} t\xe4ytyy olla ${t}${r.minimum.toString()} ${i.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${r.prefix}"`;if("ends_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${r.suffix}"`;if("includes"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${r.includes}"`;if("regex"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${r.pattern}`;return`Virheellinen ${t[r.format]??r.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${ie(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}}],59393),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : ${r.expected} attendu, ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} re\xe7u`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : ${iN(r.values[0])} attendu`;return`Option invalide : une valeur parmi ${ie(r.values,"|")} attendue`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Trop grand : ${r.origin??"valeur"} doit ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"lment(s)"}`;return`Trop grand : ${r.origin??"valeur"} doit \xeatre ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Trop petit : ${r.origin} doit ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Trop petit : ${r.origin} doit \xeatre ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${ie(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}}],194e3),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${r.expected}, re\xe7u ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : attendu ${iN(r.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"<",i=e[r.origin]??null;if(i)return`Trop grand : attendu que ${r.origin??"la valeur"} ait ${t}${r.maximum.toString()} ${i.unit}`;return`Trop grand : attendu que ${r.origin??"la valeur"} soit ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":">",i=e[r.origin]??null;if(i)return`Trop petit : attendu que ${r.origin} ait ${t}${r.minimum.toString()} ${i.unit}`;return`Trop petit : attendu que ${r.origin} soit ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au motif ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${ie(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}}],598743),e.s(["default",0,function(){let e,t,r,i,n,a,s,o;return{localeError:(e={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},t={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},r=t=>t?e[t]:void 0,i=t=>{let i=r(t);return i?i.label:t??e.unknown.label},n=e=>`${i(e)}`,a=e=>{let t=r(e);return"f"===(t?.gender??"m")?" ":" "},s=e=>e?t[e]??null:null,o={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}},t=>{switch(t.code){case"invalid_type":{let r=i(t.expected),n=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"object";default:return t}})(t.input),a=e[n]?.label??n;return`  :   ${r},  ${a}`}case"invalid_value":{if(1===t.values.length)return`  :    ${iN(t.values[0])}`;let e=t.values.map(e=>iN(e));if(2===t.values.length)return`  :    ${e[0]}  ${e[1]}`;let r=e[e.length-1],i=e.slice(0,-1).join(", ");return`  :    ${i}  ${r}`}case"too_big":{let e=s(t.origin),r=n(t.origin??"value");if("string"===t.origin)return`${e?.longLabel??""} : ${r}   ${t.maximum.toString()} ${e?.unit??""} ${t.inclusive?" ":" "}`.trim();if("number"===t.origin){let e=t.inclusive?`   -${t.maximum}`:` -${t.maximum}`;return` : ${r}   ${e}`}if("array"===t.origin||"set"===t.origin){let i="set"===t.origin?"":"",n=t.inclusive?`${t.maximum} ${e?.unit??""}  `:` -${t.maximum} ${e?.unit??""}`;return` : ${r} ${i}  ${n}`.trim()}let i=t.inclusive?"<=":"<",o=a(t.origin??"value");if(e?.unit)return`${e.longLabel} : ${r} ${o} ${i}${t.maximum.toString()} ${e.unit}`;return`${e?.longLabel??""} : ${r} ${o} ${i}${t.maximum.toString()}`}case"too_small":{let e=s(t.origin),r=n(t.origin??"value");if("string"===t.origin)return`${e?.shortLabel??""} : ${r}   ${t.minimum.toString()} ${e?.unit??""} ${t.inclusive?" ":""}`.trim();if("number"===t.origin){let e=t.inclusive?`   -${t.minimum}`:` -${t.minimum}`;return` : ${r}   ${e}`}if("array"===t.origin||"set"===t.origin){let i="set"===t.origin?"":"";if(1===t.minimum&&t.inclusive){let e=(t.origin,"  ");return` : ${r} ${i}  ${e}`}let n=t.inclusive?`${t.minimum} ${e?.unit??""}  `:` -${t.minimum} ${e?.unit??""}`;return` : ${r} ${i}  ${n}`.trim()}let i=t.inclusive?">=":">",o=a(t.origin??"value");if(e?.unit)return`${e.shortLabel} : ${r} ${o} ${i}${t.minimum.toString()} ${e.unit}`;return`${e?.shortLabel??""} : ${r} ${o} ${i}${t.minimum.toString()}`}case"invalid_format":{if("starts_with"===t.format)return`    "${t.prefix}"`;if("ends_with"===t.format)return`    "${t.suffix}"`;if("includes"===t.format)return`   "${t.includes}"`;if("regex"===t.format)return`    ${t.pattern}`;let e=o[t.format],r=e?.label??t.format,i=e?.gender??"m";return`${r}  ${"f"===i?"":""}`}case"not_multiple_of":return`  :     ${t.divisor}`;case"unrecognized_keys":return`${t.keys.length>1?"":""}  ${t.keys.length>1?"":""}: ${ie(t.keys,", ")}`;case"invalid_key":return`   `;case"invalid_union":return"  ";case"invalid_element":{let e=n(t.origin??"array");return`   ${e}`}default:return`  `}})}}],666815),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},t={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},r=>{switch(r.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${r.expected}, a kapott \xe9rt\xe9k ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szm";case"object":if(Array.isArray(e))return"tmb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${iN(r.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`T\xfal nagy: ${r.origin??"rtk"} m\xe9rete t\xfal nagy ${t}${r.maximum.toString()} ${i.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${r.origin??"rtk"} t\xfal nagy: ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} m\xe9rete t\xfal kicsi ${t}${r.minimum.toString()} ${i.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} t\xfal kicsi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===r.format)return`\xc9rv\xe9nytelen string: "${r.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===r.format)return`\xc9rv\xe9nytelen string: ${r.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${t[r.format]??r.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${r.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${r.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${r.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}}],235897),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak valid: diharapkan ${iN(r.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${t}${r.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Terlalu kecil: diharapkan ${r.origin} memiliki ${t}${r.minimum.toString()} ${i.unit}`;return`Terlalu kecil: diharapkan ${r.origin} menjadi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak valid: harus dimulai dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak valid: harus berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak valid: harus menyertakan "${r.includes}"`;if("regex"===r.format)return`String tidak valid: harus sesuai pola ${r.pattern}`;return`${t[r.format]??r.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`}})}}],71972),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}},t={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},r=>{switch(r.code){case"invalid_type":return`Rangt gildi: \xde\xfa sl\xf3st inn ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} \xfear sem \xe1 a\xf0 vera ${r.expected}`;case"invalid_value":if(1===r.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${iN(r.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} hafi ${t}${r.maximum.toString()} ${i.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} s\xe9 ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} hafi ${t}${r.minimum.toString()} ${i.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} s\xe9 ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${r.prefix}"`;if("ends_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${r.suffix}"`;if("includes"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${r.includes}"`;if("regex"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${r.pattern}`;return`Rangt ${t[r.format]??r.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${r.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${r.keys.length>1?"ir lyklar":"ur lykill"}: ${ie(r.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${r.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${r.origin}`}})}}],692856),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input non valido: atteso ${iN(r.values[0])}`;return`Opzione non valida: atteso uno tra ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Troppo grande: ${r.origin??"valore"} deve avere ${t}${r.maximum.toString()} ${i.unit??"elementi"}`;return`Troppo grande: ${r.origin??"valore"} deve essere ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Troppo piccolo: ${r.origin} deve avere ${t}${r.minimum.toString()} ${i.unit}`;return`Troppo piccolo: ${r.origin} deve essere ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Stringa non valida: deve iniziare con "${r.prefix}"`;if("ends_with"===r.format)return`Stringa non valida: deve terminare con "${r.suffix}"`;if("includes"===r.format)return`Stringa non valida: deve includere "${r.includes}"`;if("regex"===r.format)return`Stringa non valida: deve corrispondere al pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${ie(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`}})}}],800137),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`: ${r.expected}${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`: ${iN(r.values[0])}`;return`: ${ie(r.values,"")}`;case"too_big":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin??""}${r.maximum.toString()}${i.unit??""}${t}`;return`: ${r.origin??""}${r.maximum.toString()}${t}`}case"too_small":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin}${r.minimum.toString()}${i.unit}${t}`;return`: ${r.origin}${r.minimum.toString()}${t}`}case"invalid_format":if("starts_with"===r.format)return`: "${r.prefix}"`;if("ends_with"===r.format)return`: "${r.suffix}"`;if("includes"===r.format)return`: "${r.includes}"`;if("regex"===r.format)return`: ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return`: ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}: ${ie(r.keys,"")}`;case"invalid_key":return`${r.origin}`;case"invalid_union":return"";case"invalid_element":return`${r.origin}`;default:return``}})}}],746386),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return({string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""})[t]??t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${iN(r.values[0])}`;return` :  - ${ie(r.values,"|")}-`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :  ${r.origin??""} ${i.verb} ${t}${r.maximum.toString()} ${i.unit}`;return` :  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :  ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return` :  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"-`;if("ends_with"===r.format)return` :   "${r.suffix}"-`;if("includes"===r.format)return` :   "${r.includes}"-`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :   ${r.divisor}- `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`  ${r.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${r.origin}-`;default:return` `}})}}],352447),e.s(["default",0,oe],688078),e.s(["default",0,function(){return oe()}],434591),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${iN(r.values[0])}  `;return` : ${ie(r.values," ")}   `;case"too_big":{let t=r.inclusive?"":"",i=""===t?" ":" ",n=e[r.origin]??null,a=n?.unit??"";if(n)return`${r.origin??""}  : ${r.maximum.toString()}${a} ${t}${i}`;return`${r.origin??""}  : ${r.maximum.toString()} ${t}${i}`}case"too_small":{let t=r.inclusive?"":"",i=""===t?" ":" ",n=e[r.origin]??null,a=n?.unit??"";if(n)return`${r.origin??""}  : ${r.minimum.toString()}${a} ${t}${i}`;return`${r.origin??""}  : ${r.minimum.toString()} ${t}${i}`}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"()  `;if("ends_with"===r.format)return` : "${r.suffix}"()  `;if("includes"===r.format)return` : "${r.includes}"()  `;if("regex"===r.format)return` :  ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}  `;case"unrecognized_keys":return`   : ${ie(r.keys,", ")}`;case"invalid_key":return` : ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${r.origin}`}})}}],962468);let ot=(e,t)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":if(void 0===t)return"neinomas objektas";if(null===t)return"nulin reikm";if(Array.isArray(t))return"masyvas";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name;return"objektas";case"null":return"nulin reikm"}return e},or=e=>e.charAt(0).toUpperCase()+e.slice(1);function oi(e){let t=Math.abs(e),r=t%10,i=t%100;return i>=11&&i<=19||0===r?"many":1===r?"one":"few"}function on(e,t,r,i){let n=Math.abs(e),a=n%10,s=n%100;return s>=11&&s<=19?i:1===a?t:a>=2&&a<=4?r:i}function oa(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :  ${iN(r.values[0])}`;return` :    ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ,  ${r.origin??""} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??""}`;return` : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ,  ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return` : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}}e.s(["default",0,function(){return{localeError:(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(t,r,i,n){let a=e[t]??null;return null===a?a:{unit:a.unit[r],verb:a.verb[n][i?"inclusive":"notInclusive"]}}let r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return e=>{switch(e.code){case"invalid_type":var i;return`Gautas tipas ${ot(typeof(i=e.input),i)}, o tiktasi - ${ot(e.expected)}`;case"invalid_value":if(1===e.values.length)return`Privalo bti ${iN(e.values[0])}`;return`Privalo bti vienas i ${ie(e.values,"|")} pasirinkim`;case"too_big":{let r=ot(e.origin),i=t(e.origin,oi(Number(e.maximum)),e.inclusive??!1,"smaller");if(i?.verb)return`${or(r??e.origin??"reikm")} ${i.verb} ${e.maximum.toString()} ${i.unit??"element"}`;let n=e.inclusive?"ne didesnis kaip":"maesnis kaip";return`${or(r??e.origin??"reikm")} turi bti ${n} ${e.maximum.toString()} ${i?.unit}`}case"too_small":{let r=ot(e.origin),i=t(e.origin,oi(Number(e.minimum)),e.inclusive??!1,"bigger");if(i?.verb)return`${or(r??e.origin??"reikm")} ${i.verb} ${e.minimum.toString()} ${i.unit??"element"}`;let n=e.inclusive?"ne maesnis kaip":"didesnis kaip";return`${or(r??e.origin??"reikm")} turi bti ${n} ${e.minimum.toString()} ${i?.unit}`}case"invalid_format":if("starts_with"===e.format)return`Eilut privalo prasidti "${e.prefix}"`;if("ends_with"===e.format)return`Eilut privalo pasibaigti "${e.suffix}"`;if("includes"===e.format)return`Eilut privalo traukti "${e.includes}"`;if("regex"===e.format)return`Eilut privalo atitikti ${e.pattern}`;return`Neteisingas ${r[e.format]??e.format}`;case"not_multiple_of":return`Skaiius privalo bti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${ie(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga vestis";case"invalid_element":{let t=ot(e.origin);return`${or(t??e.origin??"reikm")} turi klaiding vest`}}}})()}}],832057),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${iN(r.values[0])}`;return` :    ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${i.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${i.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :      ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?" ":" "}: ${ie(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}}],13791),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak sah: dijangka ${iN(r.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Terlalu besar: dijangka ${r.origin??"nilai"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Terlalu kecil: dijangka ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Terlalu kecil: dijangka ${r.origin} adalah ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak sah: mesti bermula dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak sah: mesti berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak sah: mesti mengandungi "${r.includes}"`;if("regex"===r.format)return`String tidak sah: mesti sepadan dengan corak ${r.pattern}`;return`${t[r.format]??r.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${ie(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`}})}}],312231),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}},t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ongeldige invoer: verwacht ${iN(r.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Te groot: verwacht dat ${r.origin??"waarde"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"elementen"}`;return`Te groot: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} is`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Te klein: verwacht dat ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Te klein: verwacht dat ${r.origin} ${t}${r.minimum.toString()} is`}case"invalid_format":if("starts_with"===r.format)return`Ongeldige tekst: moet met "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ongeldige tekst: moet op "${r.suffix}" eindigen`;if("includes"===r.format)return`Ongeldige tekst: moet "${r.includes}" bevatten`;if("regex"===r.format)return`Ongeldige tekst: moet overeenkomen met patroon ${r.pattern}`;return`Ongeldig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`}})}}],256609),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ugyldig verdi: forventet ${iN(r.values[0])}`;return`Ugyldig valg: forventet en av ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()} ${i.unit??"elementer"}`;return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()} ${i.unit}`;return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ugyldig streng: m\xe5 starte med "${r.prefix}"`;if("ends_with"===r.format)return`Ugyldig streng: m\xe5 ende med "${r.suffix}"`;if("includes"===r.format)return`Ugyldig streng: m\xe5 inneholde "${r.includes}"`;if("regex"===r.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${r.pattern}`;return`Ugyldig ${t[r.format]??r.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${ie(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${r.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`}})}}],268840),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},t={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},r=>{switch(r.code){case"invalid_type":return`F\xe2sit giren: umulan ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`F\xe2sit giren: umulan ${iN(r.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} ${i.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} olmalyd.`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} ${i.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===r.format)return`F\xe2sit metin: "${r.prefix}" ile balamal.`;if("ends_with"===r.format)return`F\xe2sit metin: "${r.suffix}" ile bitmeli.`;if("includes"===r.format)return`F\xe2sit metin: "${r.includes}" ihtiv\xe2 etmeli.`;if("regex"===r.format)return`F\xe2sit metin: ${r.pattern} nakna uymal.`;return`F\xe2sit ${t[r.format]??r.format}`;case"not_multiple_of":return`F\xe2sit say: ${r.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${r.keys.length>1?"s":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${r.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}})}}],940470),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected} ,  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${iN(r.values[0])} `;return` :    ${ie(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ${r.origin}  ${t}${r.minimum.toString()} ${i.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"   `;if("ends_with"===r.format)return` :   "${r.suffix}"    `;if("includes"===r.format)return` :  "${r.includes}" `;if("regex"===r.format)return` :   ${r.pattern}   `;return`${t[r.format]??r.format}  `;case"not_multiple_of":return` :   ${r.divisor}  `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`   ${r.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin} `}})}}],504501),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},t={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},r=>{switch(r.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${r.expected}, otrzymano ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${iN(r.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Za dua warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.maximum.toString()} ${i.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Za maa warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.minimum.toString()} ${i.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${r.prefix}"`;if("ends_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${r.suffix}"`;if("includes"===r.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${r.includes}"`;if("regex"===r.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${r.pattern}`;return`Nieprawidow(y/a/e) ${t[r.format]??r.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${r.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${r.origin}`;default:return`Nieprawidowe dane wejciowe`}})}}],151565),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},t={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${r.expected}, recebido ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entrada inv\xe1lida: esperado ${iN(r.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Muito grande: esperado que ${r.origin??"valor"} tivesse ${t}${r.maximum.toString()} ${i.unit??"elementos"}`;return`Muito grande: esperado que ${r.origin??"valor"} fosse ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Muito pequeno: esperado que ${r.origin} tivesse ${t}${r.minimum.toString()} ${i.unit}`;return`Muito pequeno: esperado que ${r.origin} fosse ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Texto inv\xe1lido: deve come\xe7ar com "${r.prefix}"`;if("ends_with"===r.format)return`Texto inv\xe1lido: deve terminar com "${r.suffix}"`;if("includes"===r.format)return`Texto inv\xe1lido: deve incluir "${r.includes}"`;if("regex"===r.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${r.pattern}`;return`${t[r.format]??r.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${r.origin}`;default:return`Campo inv\xe1lido`}})}}],386614),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${iN(r.values[0])}`;return` :    ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i){let e=on(Number(r.maximum),i.unit.one,i.unit.few,i.unit.many);return`  : ,  ${r.origin??""}   ${t}${r.maximum.toString()} ${e}`}return`  : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i){let e=on(Number(r.minimum),i.unit.one,i.unit.few,i.unit.many);return`  : ,  ${r.origin}   ${t}${r.minimum.toString()} ${e}`}return`  : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}}],921462),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},t={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: priakovano ${r.expected}, prejeto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tevilo";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neveljaven vnos: priakovano ${iN(r.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} imelo ${t}${r.maximum.toString()} ${i.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Premajhno: priakovano, da bo ${r.origin} imelo ${t}${r.minimum.toString()} ${i.unit}`;return`Premajhno: priakovano, da bo ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neveljaven niz: mora se zaeti z "${r.prefix}"`;if("ends_with"===r.format)return`Neveljaven niz: mora se konati z "${r.suffix}"`;if("includes"===r.format)return`Neveljaven niz: mora vsebovati "${r.includes}"`;if("regex"===r.format)return`Neveljaven niz: mora ustrezati vzorcu ${r.pattern}`;return`Neveljaven ${t[r.format]??r.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i kljui":" klju"}: ${ie(r.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${r.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`}})}}],329828),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},t={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${r.expected}, fick ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${iN(r.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()} ${i.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()} ${i.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${r.prefix}"`;if("ends_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${r.suffix}"`;if("includes"===r.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${r.includes}"`;if("regex"===r.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${r.pattern}"`;return`Ogiltig(t) ${t[r.format]??r.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${ie(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${r.origin??"vrdet"}`}})}}],597656),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" ":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${iN(r.values[0])}`;return` :  ${ie(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :  ${r.origin??""} ${t}${r.maximum.toString()} ${i.unit??""}   `;return` :  ${r.origin??""} ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :  ${r.origin} ${t}${r.minimum.toString()} ${i.unit}   `;return` :  ${r.origin} ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"   `;if("ends_with"===r.format)return` : "${r.suffix}"   `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` : ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`  ${r.keys.length>1?"":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${r.origin}   `;default:return` `}})}}],801615),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`:  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`:  ${iN(r.values[0])}`;return`:  ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin??""} ${t} ${r.maximum.toString()} ${i.unit??""}`;return`: ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin} ${t} ${r.minimum.toString()} ${i.unit}`;return`: ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`:  "${r.prefix}"`;if("ends_with"===r.format)return`:  "${r.suffix}"`;if("includes"===r.format)return`:  "${r.includes}" `;if("regex"===r.format)return`:  ${r.pattern}`;return`: ${t[r.format]??r.format}`;case"not_multiple_of":return`:  ${r.divisor} `;case"unrecognized_keys":return`: ${ie(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${r.origin}`;default:return``}})}}],279861),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},r=>{switch(r.code){case"invalid_type":return`Ge\xe7ersiz deer: beklenen ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ge\xe7ersiz deer: beklenen ${iN(r.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()} ${i.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ge\xe7ersiz metin: "${r.prefix}" ile balamal`;if("ends_with"===r.format)return`Ge\xe7ersiz metin: "${r.suffix}" ile bitmeli`;if("includes"===r.format)return`Ge\xe7ersiz metin: "${r.includes}" i\xe7ermeli`;if("regex"===r.format)return`Ge\xe7ersiz metin: ${r.pattern} desenine uymal`;return`Ge\xe7ersiz ${t[r.format]??r.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${r.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${r.keys.length>1?"lar":""}: ${ie(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${r.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}})}}],975315),e.s(["default",0,oa],756278),e.s(["default",0,function(){return oa()}],832534),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},r=>{switch(r.code){case"invalid_type":return`  : ${r.expected}   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return`  : ${iN(r.values[0])}  `;return` : ${ie(r.values,"|")}     `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""}   `;return` : ${r.origin??""}  ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ${r.origin}  ${t}${r.minimum.toString()} ${i.unit}   `;return` : ${r.origin}  ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"    `;if("ends_with"===r.format)return` : "${r.suffix}"    `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` :  ${r.pattern}    `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`   ${r.keys.length>1?"":""}: ${ie(r.keys," ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${r.origin}   `;default:return`  `}})}}],319505),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},t={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},r=>{switch(r.code){case"invalid_type":return`u v\xe0o kh\xf4ng hp l: mong i ${r.expected}, nhn c ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"s";case"object":if(Array.isArray(e))return"mng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${iN(r.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Qu\xe1 nh: mong i ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Qu\xe1 nh: mong i ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Chui kh\xf4ng hp l: phi bt u bng "${r.prefix}"`;if("ends_with"===r.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${r.suffix}"`;if("includes"===r.format)return`Chui kh\xf4ng hp l: phi bao gm "${r.includes}"`;if("regex"===r.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${r.pattern}`;return`${t[r.format]??r.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${r.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${ie(r.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${r.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${r.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}})}}],704902),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"(NaN)":"";case"object":if(Array.isArray(e))return"";if(null===e)return"(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${iN(r.values[0])}`;return` ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` ${r.origin??""} ${t}${r.maximum.toString()} ${i.unit??""}`;return` ${r.origin??""} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return` ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`(key): ${ie(r.keys,", ")}`;case"invalid_key":return`${r.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${r.origin} (value)`;default:return``}})}}],519344),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${iN(r.values[0])}`;return` ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""}`;return` ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` ${r.origin}  ${t}${r.minimum.toString()} ${i.unit}`;return` ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""}${ie(r.keys,"")}`;case"invalid_key":return`${r.origin} `;case"invalid_union":return"";case"invalid_element":return`${r.origin} `;default:return``}})}}],588428),e.s(["default",0,function(){let e,t;return{localeError:(e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}},t={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},r=>{switch(r.code){case"invalid_type":return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${r.expected}, \xe0m a r\xed ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmb";case"object":if(Array.isArray(e))return"akop";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${iN(r.values[0])}`;return`\xc0\xe0y\xe0n a\xece: yan kan l\xe1ra ${ie(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`T\xf3 p j\xf9: a n\xed l\xe1ti j p\xe9 ${r.origin??"iye"} ${i.verb} ${t}${r.maximum} ${i.unit}`;return`T\xf3 p j\xf9: a n\xed l\xe1ti j ${t}${r.maximum}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`K\xe9r\xe9 ju: a n\xed l\xe1ti j p\xe9 ${r.origin} ${i.verb} ${t}${r.minimum} ${i.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti j ${t}${r.minimum}`}case"invalid_format":if("starts_with"===r.format)return`r a\xece: gbd br pl\xfa "${r.prefix}"`;if("ends_with"===r.format)return`r a\xece: gbd par\xed pl\xfa "${r.suffix}"`;if("includes"===r.format)return`r a\xece: gbd n\xed "${r.includes}"`;if("regex"===r.format)return`r a\xece: gbd b\xe1 \xe0pr mu ${r.pattern}`;return`A\xece: ${t[r.format]??r.format}`;case"not_multiple_of":return`Nmb\xe0 a\xece: gbd j \xe8y\xe0 p\xedp\xedn ti ${r.divisor}`;case"unrecognized_keys":return`Bt\xecn\xec \xe0\xecm: ${ie(r.keys,", ")}`;case"invalid_key":return`Bt\xecn\xec a\xece n\xedn\xfa ${r.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye a\xece n\xedn\xfa ${r.origin}`}})}}],797008),e.s([],504954);let os=Symbol("ZodOutput"),oo=Symbol("ZodInput");class ol{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};delete r.id;let i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function ou(){return new ol}(m=globalThis).__zod_globalRegistry??(m.__zod_globalRegistry=ou());let od=globalThis.__zod_globalRegistry;function oc(e,t){return new e({type:"string",...iT(t)})}function op(e,t){return new e({type:"string",coerce:!0,...iT(t)})}function om(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...iT(t)})}function oh(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...iT(t)})}function of(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...iT(t)})}function og(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...iT(t)})}function o_(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...iT(t)})}function ov(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...iT(t)})}function oy(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...iT(t)})}function ob(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...iT(t)})}function o$(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...iT(t)})}function ow(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...iT(t)})}function ox(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...iT(t)})}function ok(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...iT(t)})}function oI(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...iT(t)})}function oS(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...iT(t)})}function oO(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...iT(t)})}function oE(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...iT(t)})}function oT(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...iT(t)})}function oA(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...iT(t)})}function oN(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...iT(t)})}function oj(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...iT(t)})}function oP(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...iT(t)})}function oC(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...iT(t)})}function oZ(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...iT(t)})}function oz(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...iT(t)})}function oU(e,t){return new e({type:"string",format:"date",check:"string_format",...iT(t)})}function oR(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...iT(t)})}function oD(e,t){return new e({type:"string",format:"duration",check:"string_format",...iT(t)})}function oL(e,t){return new e({type:"number",checks:[],...iT(t)})}function oM(e,t){return new e({type:"number",coerce:!0,checks:[],...iT(t)})}function oF(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...iT(t)})}function oB(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...iT(t)})}function oJ(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...iT(t)})}function oW(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...iT(t)})}function oV(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...iT(t)})}function oG(e,t){return new e({type:"boolean",...iT(t)})}function oq(e,t){return new e({type:"boolean",coerce:!0,...iT(t)})}function oK(e,t){return new e({type:"bigint",...iT(t)})}function oH(e,t){return new e({type:"bigint",coerce:!0,...iT(t)})}function oX(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...iT(t)})}function oY(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...iT(t)})}function oQ(e,t){return new e({type:"symbol",...iT(t)})}function o0(e,t){return new e({type:"undefined",...iT(t)})}function o1(e,t){return new e({type:"null",...iT(t)})}function o4(e){return new e({type:"any"})}function o6(e){return new e({type:"unknown"})}function o2(e,t){return new e({type:"never",...iT(t)})}function o9(e,t){return new e({type:"void",...iT(t)})}function o5(e,t){return new e({type:"date",...iT(t)})}function o3(e,t){return new e({type:"date",coerce:!0,...iT(t)})}function o8(e,t){return new e({type:"nan",...iT(t)})}function o7(e,t){return new ap({check:"less_than",...iT(t),value:e,inclusive:!1})}function le(e,t){return new ap({check:"less_than",...iT(t),value:e,inclusive:!0})}function lt(e,t){return new am({check:"greater_than",...iT(t),value:e,inclusive:!1})}function lr(e,t){return new am({check:"greater_than",...iT(t),value:e,inclusive:!0})}function li(e){return lt(0,e)}function ln(e){return o7(0,e)}function la(e){return le(0,e)}function ls(e){return lr(0,e)}function lo(e,t){return new ah({check:"multiple_of",...iT(t),value:e})}function ll(e,t){return new a_({check:"max_size",...iT(t),maximum:e})}function lu(e,t){return new av({check:"min_size",...iT(t),minimum:e})}function ld(e,t){return new ay({check:"size_equals",...iT(t),size:e})}function lc(e,t){return new ab({check:"max_length",...iT(t),maximum:e})}function lp(e,t){return new a$({check:"min_length",...iT(t),minimum:e})}function lm(e,t){return new aw({check:"length_equals",...iT(t),length:e})}function lh(e,t){return new ak({check:"string_format",format:"regex",...iT(t),pattern:e})}function lf(e){return new aI({check:"string_format",format:"lowercase",...iT(e)})}function lg(e){return new aS({check:"string_format",format:"uppercase",...iT(e)})}function l_(e,t){return new aO({check:"string_format",format:"includes",...iT(t),includes:e})}function lv(e,t){return new aE({check:"string_format",format:"starts_with",...iT(t),prefix:e})}function ly(e,t){return new aT({check:"string_format",format:"ends_with",...iT(t),suffix:e})}function lb(e,t,r){return new aN({check:"property",property:e,schema:t,...iT(r)})}function l$(e,t){return new aj({check:"mime_type",mime:e,...iT(t)})}function lw(e){return new aP({check:"overwrite",tx:e})}function lx(e){return lw(t=>t.normalize(e))}function lk(){return lw(e=>e.trim())}function lI(){return lw(e=>e.toLowerCase())}function lS(){return lw(e=>e.toUpperCase())}function lO(){return lw(e=>iv(e))}function lE(e,t,r){return new e({type:"array",element:t,...iT(r)})}function lT(e,t,r){return new e({type:"union",options:t,...iT(r)})}function lA(e,t,r,i){return new e({type:"union",options:r,discriminator:t,...iT(i)})}function lN(e,t,r){return new e({type:"intersection",left:t,right:r})}function lj(e,t,r,i){let n=r instanceof az,a=n?i:r;return new e({type:"tuple",items:t,rest:n?r:null,...iT(a)})}function lP(e,t,r,i){return new e({type:"record",keyType:t,valueType:r,...iT(i)})}function lC(e,t,r,i){return new e({type:"map",keyType:t,valueType:r,...iT(i)})}function lZ(e,t,r){return new e({type:"set",valueType:t,...iT(r)})}function lz(e,t,r){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...iT(r)})}function lU(e,t,r){return new e({type:"enum",entries:t,...iT(r)})}function lR(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...iT(r)})}function lD(e,t){return new e({type:"file",...iT(t)})}function lL(e,t){return new e({type:"transform",transform:t})}function lM(e,t){return new e({type:"optional",innerType:t})}function lF(e,t){return new e({type:"nullable",innerType:t})}function lB(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof r?r():ix(r)}})}function lJ(e,t,r){return new e({type:"nonoptional",innerType:t,...iT(r)})}function lW(e,t){return new e({type:"success",innerType:t})}function lV(e,t,r){return new e({type:"catch",innerType:t,catchValue:"function"==typeof r?r:()=>r})}function lG(e,t,r){return new e({type:"pipe",in:t,out:r})}function lq(e,t){return new e({type:"readonly",innerType:t})}function lK(e,t,r){return new e({type:"template_literal",parts:t,...iT(r)})}function lH(e,t){return new e({type:"lazy",getter:t})}function lX(e,t){return new e({type:"promise",innerType:t})}function lY(e,t,r){let i=iT(r);return i.abort??(i.abort=!0),new e({type:"custom",check:"custom",fn:t,...i})}function lQ(e,t,r){return new e({type:"custom",check:"custom",fn:t,...iT(r)})}function l0(e){let t=l1(r=>(r.addIssue=e=>{"string"==typeof e?r.issues.push(iq(e,r.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=r.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),r.issues.push(iq(e)))},e(r.value,r)));return t}function l1(e,t){let r=new ad({check:"custom",...iT(t)});return r._zod.check=e,r}function l4(e){let t=new ad({check:"describe"});return t._zod.onattach=[t=>{let r=od.get(t)??{};od.add(t,{...r,description:e})}],t._zod.check=()=>{},t}function l6(e){let t=new ad({check:"meta"});return t._zod.onattach=[t=>{let r=od.get(t)??{};od.add(t,{...r,...e})}],t._zod.check=()=>{},t}function l2(e,t){let r=iT(t),i=r.truthy??["true","1","yes","on","y","enabled"],n=r.falsy??["false","0","no","off","n","disabled"];"sensitive"!==r.case&&(i=i.map(e=>"string"==typeof e?e.toLowerCase():e),n=n.map(e=>"string"==typeof e?e.toLowerCase():e));let a=new Set(i),s=new Set(n),o=e.Codec??sY,l=e.Boolean??sa,u=new o({type:"pipe",in:new(e.String??aU)({type:"string",error:r.error}),out:new l({type:"boolean",error:r.error}),transform:(e,t)=>{let i=e;return"sensitive"!==r.case&&(i=i.toLowerCase()),!!a.has(i)||!s.has(i)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...s],input:t.value,inst:u,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?i[0]||"true":n[0]||"false",error:r.error});return u}function l9(e,t,r,i={}){let n=iT(i),a={...iT(i),check:"string_format",type:"string",format:t,fn:"function"==typeof r?r:e=>r.test(e),...n};return r instanceof RegExp&&(a.pattern=r),new e(a)}e.s(["$ZodRegistry",()=>ol,"$input",0,oo,"$output",0,os,"globalRegistry",0,od,"registry",()=>ou],989295),e.s(["TimePrecision",0,{Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6},"_any",()=>o4,"_array",()=>lE,"_base64",()=>oj,"_base64url",()=>oP,"_bigint",()=>oK,"_boolean",()=>oG,"_catch",()=>lV,"_check",()=>l1,"_cidrv4",()=>oA,"_cidrv6",()=>oN,"_coercedBigint",()=>oH,"_coercedBoolean",()=>oq,"_coercedDate",()=>o3,"_coercedNumber",()=>oM,"_coercedString",()=>op,"_cuid",()=>ow,"_cuid2",()=>ox,"_custom",()=>lY,"_date",()=>o5,"_default",()=>lB,"_discriminatedUnion",()=>lA,"_e164",()=>oC,"_email",()=>om,"_emoji",()=>ob,"_endsWith",()=>ly,"_enum",()=>lz,"_file",()=>lD,"_float32",()=>oB,"_float64",()=>oJ,"_gt",()=>lt,"_gte",()=>lr,"_guid",()=>oh,"_includes",()=>l_,"_int",()=>oF,"_int32",()=>oW,"_int64",()=>oX,"_intersection",()=>lN,"_ipv4",()=>oO,"_ipv6",()=>oE,"_isoDate",()=>oU,"_isoDateTime",()=>oz,"_isoDuration",()=>oD,"_isoTime",()=>oR,"_jwt",()=>oZ,"_ksuid",()=>oS,"_lazy",()=>lH,"_length",()=>lm,"_literal",()=>lR,"_lowercase",()=>lf,"_lt",()=>o7,"_lte",()=>le,"_mac",()=>oT,"_map",()=>lC,"_max",()=>le,"_maxLength",()=>lc,"_maxSize",()=>ll,"_mime",()=>l$,"_min",()=>lr,"_minLength",()=>lp,"_minSize",()=>lu,"_multipleOf",()=>lo,"_nan",()=>o8,"_nanoid",()=>o$,"_nativeEnum",()=>lU,"_negative",()=>ln,"_never",()=>o2,"_nonnegative",()=>ls,"_nonoptional",()=>lJ,"_nonpositive",()=>la,"_normalize",()=>lx,"_null",()=>o1,"_nullable",()=>lF,"_number",()=>oL,"_optional",()=>lM,"_overwrite",()=>lw,"_pipe",()=>lG,"_positive",()=>li,"_promise",()=>lX,"_property",()=>lb,"_readonly",()=>lq,"_record",()=>lP,"_refine",()=>lQ,"_regex",()=>lh,"_set",()=>lZ,"_size",()=>ld,"_slugify",()=>lO,"_startsWith",()=>lv,"_string",()=>oc,"_stringFormat",()=>l9,"_stringbool",()=>l2,"_success",()=>lW,"_superRefine",()=>l0,"_symbol",()=>oQ,"_templateLiteral",()=>lK,"_toLowerCase",()=>lI,"_toUpperCase",()=>lS,"_transform",()=>lL,"_trim",()=>lk,"_tuple",()=>lj,"_uint32",()=>oV,"_uint64",()=>oY,"_ulid",()=>ok,"_undefined",()=>o0,"_union",()=>lT,"_unknown",()=>o6,"_uppercase",()=>lg,"_url",()=>oy,"_uuid",()=>of,"_uuidv4",()=>og,"_uuidv6",()=>o_,"_uuidv7",()=>ov,"_void",()=>o9,"_xid",()=>oI,"describe",()=>l4,"meta",()=>l6],862292);class l5{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??od,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var r;let i=e._zod.def,n=this.seen.get(e);if(n)return n.count++,t.schemaPath.includes(e)&&(n.cycle=t.path),n.schema;let a={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,a);let s=e._zod.toJSONSchema?.();if(s)a.schema=s;else{let r={...t,schemaPath:[...t.schemaPath,e],path:t.path},n=e._zod.parent;if(n)a.ref=n,this.process(n,r),this.seen.get(n).isParent=!0;else{let t=a.schema;switch(i.type){case"string":{t.type="string";let{minimum:r,maximum:i,format:n,patterns:s,contentEncoding:o}=e._zod.bag;if("number"==typeof r&&(t.minLength=r),"number"==typeof i&&(t.maxLength=i),n&&(t.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[n]??n,""===t.format&&delete t.format),o&&(t.contentEncoding=o),s&&s.size>0){let e=[...s];1===e.length?t.pattern=e[0].source:e.length>1&&(a.schema.allOf=[...e.map(e=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{let{minimum:r,maximum:i,format:n,multipleOf:a,exclusiveMaximum:s,exclusiveMinimum:o}=e._zod.bag;"string"==typeof n&&n.includes("int")?t.type="integer":t.type="number","number"==typeof o&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.minimum=o,t.exclusiveMinimum=!0):t.exclusiveMinimum=o),"number"==typeof r&&(t.minimum=r,"number"==typeof o&&"draft-4"!==this.target&&(o>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"==typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.maximum=s,t.exclusiveMaximum=!0):t.exclusiveMaximum=s),"number"==typeof i&&(t.maximum=i,"number"==typeof s&&"draft-4"!==this.target&&(s<=i?delete t.maximum:delete t.exclusiveMaximum)),"number"==typeof a&&(t.multipleOf=a);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:n,maximum:a}=e._zod.bag;"number"==typeof n&&(t.minItems=n),"number"==typeof a&&(t.maxItems=a),t.type="array",t.items=this.process(i.element,{...r,path:[...r.path,"items"]});break}case"object":{t.type="object",t.properties={};let e=i.shape;for(let i in e)t.properties[i]=this.process(e[i],{...r,path:[...r.path,"properties",i]});let n=new Set([...new Set(Object.keys(e))].filter(e=>{let t=i.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));n.size>0&&(t.required=Array.from(n)),i.catchall?._zod.def.type==="never"?t.additionalProperties=!1:i.catchall?i.catchall&&(t.additionalProperties=this.process(i.catchall,{...r,path:[...r.path,"additionalProperties"]})):"output"===this.io&&(t.additionalProperties=!1);break}case"union":{let e=void 0!==i.discriminator,n=i.options.map((t,i)=>this.process(t,{...r,path:[...r.path,e?"oneOf":"anyOf",i]}));e?t.oneOf=n:t.anyOf=n;break}case"intersection":{let e=this.process(i.left,{...r,path:[...r.path,"allOf",0]}),n=this.process(i.right,{...r,path:[...r.path,"allOf",1]}),a=e=>"allOf"in e&&1===Object.keys(e).length;t.allOf=[...a(e)?e.allOf:[e],...a(n)?n.allOf:[n]];break}case"tuple":{t.type="array";let n="draft-2020-12"===this.target?"prefixItems":"items",a="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",s=i.items.map((e,t)=>this.process(e,{...r,path:[...r.path,n,t]})),o=i.rest?this.process(i.rest,{...r,path:[...r.path,a,..."openapi-3.0"===this.target?[i.items.length]:[]]}):null;"draft-2020-12"===this.target?(t.prefixItems=s,o&&(t.items=o)):"openapi-3.0"===this.target?(t.items={anyOf:s},o&&t.items.anyOf.push(o),t.minItems=s.length,o||(t.maxItems=s.length)):(t.items=s,o&&(t.additionalItems=o));let{minimum:l,maximum:u}=e._zod.bag;"number"==typeof l&&(t.minItems=l),"number"==typeof u&&(t.maxItems=u);break}case"record":t.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(t.propertyNames=this.process(i.keyType,{...r,path:[...r.path,"propertyNames"]})),t.additionalProperties=this.process(i.valueType,{...r,path:[...r.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let e=r7(i.entries);e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),t.enum=e;break}case"literal":{let e=[];for(let t of i.values)if(void 0===t){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof t)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else e.push(Number(t));else e.push(t);if(0===e.length);else if(1===e.length){let r=e[0];t.type=null===r?"null":typeof r,"draft-4"===this.target||"openapi-3.0"===this.target?t.enum=[r]:t.const=r}else e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),e.every(e=>"boolean"==typeof e)&&(t.type="string"),e.every(e=>null===e)&&(t.type="null"),t.enum=e;break}case"file":{let r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:n,mime:a}=e._zod.bag;void 0!==i&&(r.minLength=i),void 0!==n&&(r.maxLength=n),a?1===a.length?(r.contentMediaType=a[0],Object.assign(t,r)):t.anyOf=a.map(e=>({...r,contentMediaType:e})):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let e=this.process(i.innerType,r);"openapi-3.0"===this.target?(a.ref=i.innerType,t.nullable=!0):t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(i.innerType,r),a.ref=i.innerType;break;case"default":this.process(i.innerType,r),a.ref=i.innerType,t.default=JSON.parse(JSON.stringify(i.defaultValue));break;case"prefault":this.process(i.innerType,r),a.ref=i.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break;case"catch":{let e;this.process(i.innerType,r),a.ref=i.innerType;try{e=i.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let r=e._zod.pattern;if(!r)throw Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{let e="input"===this.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;this.process(e,r),a.ref=e;break}case"readonly":this.process(i.innerType,r),a.ref=i.innerType,t.readOnly=!0;break;case"lazy":{let t=e._zod.innerType;this.process(t,r),a.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let o=this.metadataRegistry.get(e);return o&&Object.assign(a.schema,o),"input"===this.io&&function e(t,r){let i=r??{seen:new Set};if(i.seen.has(t))return!1;i.seen.add(t);let n=t._zod.def;if("transform"===n.type)return!0;if("array"===n.type)return e(n.element,i);if("set"===n.type)return e(n.valueType,i);if("lazy"===n.type)return e(n.getter(),i);if("promise"===n.type||"optional"===n.type||"nonoptional"===n.type||"nullable"===n.type||"readonly"===n.type||"default"===n.type||"prefault"===n.type)return e(n.innerType,i);if("intersection"===n.type)return e(n.left,i)||e(n.right,i);if("record"===n.type||"map"===n.type)return e(n.keyType,i)||e(n.valueType,i);if("pipe"===n.type)return e(n.in,i)||e(n.out,i);if("object"===n.type){for(let t in n.shape)if(e(n.shape[t],i))return!0;return!1}if("union"===n.type){for(let t of n.options)if(e(t,i))return!0;return!1}if("tuple"===n.type){for(let t of n.items)if(e(t,i))return!0;if(n.rest&&e(n.rest,i))return!0}return!1}(e)&&(delete a.schema.examples,delete a.schema.default),"input"===this.io&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,t){let r={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},i=this.seen.get(e);if(!i)throw Error("Unprocessed schema. This is a bug in Zod.");let n=e=>{let t="draft-2020-12"===this.target?"$defs":"definitions";if(r.external){let i=r.external.registry.get(e[0])?.id,n=r.external.uri??(e=>e);if(i)return{ref:n(i)};let a=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=a,{defId:a,ref:`${n("__shared")}#/${t}/${a}`}}if(e[1]===i)return{ref:"#"};let n=`#/${t}/`,a=e[1].schema.id??`__schema${this.counter++}`;return{defId:a,ref:n+a}},a=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:r,defId:i}=n(e);t.def={...t.schema},i&&(t.defId=i);let a=t.schema;for(let e in a)delete a[e];a.$ref=r};if("throw"===r.cycles)for(let e of this.seen.entries()){let t=e[1];if(t.cycle)throw Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let t of this.seen.entries()){let i=t[1];if(e===t[0]){a(t);continue}if(r.external){let i=r.external.registry.get(t[0])?.id;if(e!==t[0]&&i){a(t);continue}}if(this.metadataRegistry.get(t[0])?.id||i.cycle||i.count>1&&"ref"===r.reused){a(t);continue}}let s=(e,t)=>{let r=this.seen.get(e),i=r.def??r.schema,n={...i};if(null===r.ref)return;let a=r.ref;if(r.ref=null,a){s(a,t);let e=this.seen.get(a).schema;e.$ref&&("draft-7"===t.target||"draft-4"===t.target||"openapi-3.0"===t.target)?(i.allOf=i.allOf??[],i.allOf.push(e)):(Object.assign(i,e),Object.assign(i,n))}r.isParent||this.override({zodSchema:e,jsonSchema:i,path:r.path??[]})};for(let e of[...this.seen.entries()].reverse())s(e[0],{target:this.target});let o={};if("draft-2020-12"===this.target?o.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?o.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?o.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),r.external?.uri){let t=r.external.registry.get(e)?.id;if(!t)throw Error("Schema is missing an `id` property");o.$id=r.external.uri(t)}Object.assign(o,i.def);let l=r.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(l[t.defId]=t.def)}r.external||Object.keys(l).length>0&&("draft-2020-12"===this.target?o.$defs=l:o.definitions=l);try{return JSON.parse(JSON.stringify(o))}catch(e){throw Error("Error converting schema to JSON.")}}}function l3(e,t){if(e instanceof ol){let r=new l5(t),i={};for(let t of e._idmap.entries()){let[e,i]=t;r.process(i)}let n={},a={registry:e,uri:t?.uri,defs:i};for(let i of e._idmap.entries()){let[e,s]=i;n[e]=r.emit(s,{...t,external:a})}return Object.keys(i).length>0&&(n.__shared={["draft-2020-12"===r.target?"$defs":"definitions"]:i}),{schemas:n}}let r=new l5(t);return r.process(e),r.emit(e,t)}e.s(["JSONSchemaGenerator",()=>l5,"toJSONSchema",()=>l3],123035),e.s([],500028),e.s([],359799),e.i(593399),e.s(["$ZodAny",0,sc,"$ZodArray",0,s_,"$ZodBase64",0,a5,"$ZodBase64URL",0,a8,"$ZodBigInt",0,ss,"$ZodBigIntFormat",0,so,"$ZodBoolean",0,sa,"$ZodCIDRv4",0,a6,"$ZodCIDRv6",0,a2,"$ZodCUID",0,aW,"$ZodCUID2",0,aV,"$ZodCatch",0,sq,"$ZodCodec",0,sY,"$ZodCustom",0,s3,"$ZodCustomStringFormat",0,sr,"$ZodDate",0,sf,"$ZodDefault",0,sF,"$ZodDiscriminatedUnion",0,sI,"$ZodE164",0,a7,"$ZodEmail",0,aM,"$ZodEmoji",0,aB,"$ZodEnum",0,sZ,"$ZodFile",0,sU,"$ZodFunction",0,s2,"$ZodGUID",0,aD,"$ZodIPv4",0,a0,"$ZodIPv6",0,a1,"$ZodISODate",0,aX,"$ZodISODateTime",0,aH,"$ZodISODuration",0,aQ,"$ZodISOTime",0,aY,"$ZodIntersection",0,sS,"$ZodJWT",0,st,"$ZodKSUID",0,aK,"$ZodLazy",0,s5,"$ZodLiteral",0,sz,"$ZodMAC",0,a4,"$ZodMap",0,sN,"$ZodNaN",0,sK,"$ZodNanoID",0,aJ,"$ZodNever",0,sm,"$ZodNonOptional",0,sW,"$ZodNull",0,sd,"$ZodNullable",0,sM,"$ZodNumber",0,si,"$ZodNumberFormat",0,sn,"$ZodObject",0,s$,"$ZodObjectJIT",0,sw,"$ZodOptional",0,sL,"$ZodPipe",0,sH,"$ZodPrefault",0,sJ,"$ZodPromise",0,s9,"$ZodReadonly",0,s1,"$ZodRecord",0,sA,"$ZodSet",0,sP,"$ZodString",0,aU,"$ZodStringFormat",0,aR,"$ZodSuccess",0,sG,"$ZodSymbol",0,sl,"$ZodTemplateLiteral",0,s6,"$ZodTransform",0,sR,"$ZodTuple",0,sE,"$ZodType",0,az,"$ZodULID",0,aG,"$ZodURL",0,aF,"$ZodUUID",0,aL,"$ZodUndefined",0,su,"$ZodUnion",0,sk,"$ZodUnknown",0,sp,"$ZodVoid",0,sh,"$ZodXID",0,aq,"clone",()=>iE,"isValidBase64",()=>a9,"isValidBase64URL",()=>a3,"isValidJWT",()=>se],84850);var l8=e.i(23768);e.s(["util",0,l8],322473);var l8=l8;function l7(e){if("object"!=typeof e||null===e||!("_zod"in e))return!1;let t=e._zod;return"object"==typeof t&&null!==t&&"def"in t}function ue(e){if("object"!=typeof e||null===e||!("_def"in e)||"_zod"in e)return!1;let t=e._def;return"object"==typeof t&&null!=t&&"typeName"in t}function ut(e){return l7(e)&&console.warn("[WARNING] Attempting to use Zod 4 schema in a context where Zod 3 schema is expected. This may cause unexpected behavior."),ue(e)}function ur(e){return!(!e||"object"!=typeof e||Array.isArray(e))&&!!(l7(e)||ue(e))}function ui(e){return"object"==typeof e&&null!==e&&"_def"in e&&"object"==typeof e._def&&null!==e._def&&"typeName"in e._def&&"ZodLiteral"===e._def.typeName||!1}function un(e){return!!l7(e)&&("object"==typeof e&&null!==e&&"_zod"in e&&"object"==typeof e._zod&&null!==e._zod&&"def"in e._zod&&"object"==typeof e._zod.def&&null!==e._zod.def&&"type"in e._zod.def&&"literal"===e._zod.def.type||!1)}function ua(e){return!!(ui(e)||un(e))}async function us(e,t){if(l7(e))try{let r=await nn(e,t);return{success:!0,data:r}}catch(e){return{success:!1,error:e}}if(ue(e))return await e.safeParseAsync(t);throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}async function uo(e,t){if(l7(e))return await nn(e,t);if(ue(e))return await e.parseAsync(t);throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function ul(e,t){if(l7(e))try{let r=nr(e,t);return{success:!0,data:r}}catch(e){return{success:!1,error:e}}if(ue(e))return e.safeParse(t);throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function uu(e,t){if(l7(e))return nr(e,t);if(ue(e))return e.parse(t);throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}function ud(e){return l7(e)?od.get(e)?.description:ue(e)||"description"in e&&"string"==typeof e.description?e.description:void 0}function uc(e){if(!ur(e))return!1;if(ue(e)){let t=e._def;if("ZodObject"===t.typeName)return!e.shape||0===Object.keys(e.shape).length;if("ZodRecord"===t.typeName)return!0}if(l7(e)){let t=e._zod.def;if("object"===t.type)return!e.shape||0===Object.keys(e.shape).length;if("record"===t.type)return!0}return"object"==typeof e&&null!==e&&!("shape"in e)}function up(e){return!!ur(e)&&(ue(e)?"ZodString"===e._def.typeName:!!l7(e)&&"string"===e._zod.def.type)}function um(e){return"object"==typeof e&&null!==e&&"_def"in e&&"object"==typeof e._def&&null!==e._def&&"typeName"in e._def&&"ZodObject"===e._def.typeName||!1}function uh(e){return!!l7(e)&&("object"==typeof e&&null!==e&&"_zod"in e&&"object"==typeof e._zod&&null!==e._zod&&"def"in e._zod&&"object"==typeof e._zod.def&&null!==e._zod.def&&"type"in e._zod.def&&"object"===e._zod.def.type||!1)}function uf(e){return!!l7(e)&&("object"==typeof e&&null!==e&&"_zod"in e&&"object"==typeof e._zod&&null!==e._zod&&"def"in e._zod&&"object"==typeof e._zod.def&&null!==e._zod.def&&"type"in e._zod.def&&"array"===e._zod.def.type||!1)}function ug(e){return!!(um(e)||uh(e))}function u_(e){if(ue(e))return e.shape;if(l7(e))return e._zod.def.shape;throw Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function uv(e,t){if(ue(e))return e.extend(t);if(l7(e))return l8.extend(e,t);throw Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function uy(e){if(ue(e))return e.partial();if(l7(e))return l8.partial(sL,e,void 0);throw Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function ub(e,t=!1){if(ue(e))return e.strict();if(uh(e)){let r=e._zod.def.shape;if(t)for(let[i,n]of Object.entries(e._zod.def.shape)){if(uh(n)){let e=ub(n,t);r[i]=e}else if(uf(n)){let e=n._zod.def.element;uh(e)&&(e=ub(e,t)),r[i]=iE(n,{...n._zod.def,element:e})}else r[i]=n;let e=od.get(n);e&&od.add(r[i],e)}let i=iE(e,{...e._zod.def,shape:r,catchall:o2(sm)}),n=od.get(e);return n&&od.add(i,n),i}throw Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function u$(e){if(ue(e))try{let t=e.parse(void 0);return()=>t}catch{return}if(l7(e))try{let t=nr(e,void 0);return()=>t}catch{}}function uw(e,t=!1){return function e(t,r,i){let n=i.get(t);if(void 0!==n)return n;if(ue(t))return ue(t)&&"typeName"in t._def&&"ZodEffects"===t._def.typeName?e(t._def.schema,r,i):t;if(l7(t)){let n=t;if(l7(t)&&"pipe"===t._zod.def.type&&(n=e(t._zod.def.in,r,i)),r){if(uh(n)){let t=n._zod.def.shape;for(let[a,s]of Object.entries(n._zod.def.shape))t[a]=e(s,r,i);n=iE(n,{...n._zod.def,shape:t})}else if(uf(n)){let t=e(n._zod.def.element,r,i);n=iE(n,{...n._zod.def,element:t})}}let a=od.get(t);return a&&od.add(n,a),i.set(t,n),n}throw Error("Schema must be an instance of z3.ZodType or z4.$ZodType")}(e,t,new WeakMap)}function ux(e,t){if(ue(e)){let r=u_(e),i={};for(let[e,n]of Object.entries(r))t(e,n)?i[e]=n.optional():i[e]=n;return e.extend(i)}if(l7(e)){let r=u_(e),i={...e._zod.def.shape};for(let[e,n]of Object.entries(r))t(e,n)&&(i[e]=new sL({type:"optional",innerType:n}));let n=iE(e,{...e._zod.def,shape:i}),a=od.get(e);return a&&od.add(n,a),n}throw Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")}function uk(e){return e instanceof Error&&("ZodError"===e.constructor.name||"$ZodError"===e.constructor.name)}function uI(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}e.s(["extendInteropZodObject",()=>uv,"getInteropZodDefaultGetter",()=>u$,"getInteropZodObjectShape",()=>u_,"getSchemaDescription",()=>ud,"interopParse",()=>uu,"interopParseAsync",()=>uo,"interopSafeParse",()=>ul,"interopSafeParseAsync",()=>us,"interopZodObjectMakeFieldsOptional",()=>ux,"interopZodObjectPartial",()=>uy,"interopZodObjectPassthrough",()=>function e(t,r=!1){if(um(t))return t.passthrough();if(uh(t)){let i=t._zod.def.shape;if(r)for(let[n,a]of Object.entries(t._zod.def.shape)){if(uh(a)){let t=e(a,r);i[n]=t}else if(uf(a)){let t=a._zod.def.element;uh(t)&&(t=e(t,r)),i[n]=iE(a,{...a._zod.def,element:t})}else i[n]=a;let t=od.get(a);t&&od.add(i[n],t)}let n=iE(t,{...t._zod.def,shape:i,catchall:o6(sp)}),a=od.get(t);return a&&od.add(n,a),n}throw Error("Schema must be an instance of z3.ZodObject or z4.$ZodObject")},"interopZodObjectStrict",()=>ub,"interopZodTransformInputSchema",()=>uw,"isInteropZodError",()=>uk,"isInteropZodLiteral",()=>ua,"isInteropZodObject",()=>ug,"isInteropZodSchema",()=>ur,"isShapelessZodSchema",()=>uc,"isSimpleStringZodSchema",()=>up,"isZodArrayV4",()=>uf,"isZodLiteralV3",()=>ui,"isZodLiteralV4",()=>un,"isZodObjectV3",()=>um,"isZodObjectV4",()=>uh,"isZodSchema",()=>ut,"isZodSchemaV3",()=>ue,"isZodSchemaV4",()=>l7],238073);let uS=["*","_","`"];async function uO(e,t){let r=t?.backgroundColor??"white",i=t?.imageType??"png",n=btoa(e);void 0!==r&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(r)||(r=`!${r}`));let a=`https://mermaid.ink/img/${n}?bgColor=${r}&type=${i}`,s=await fetch(a);if(!s.ok)throw Error(`Failed to render the graph using the Mermaid.INK API.
Status code: ${s.status}
Status text: ${s.statusText}`);return await s.blob()}let uE=Symbol("Let zodToJsonSchema decide on which parser to use"),uT={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},uA=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};function uN(e){if("openAi"!==e.target)return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===e.$refStrategy?uA(t,e.currentPath):t.join("/")}}function uj(e,t,r,i){i?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function uP(e,t,r,i,n){e[t]=r,uj(e,t,i,n)}(u=h||(h={})).assertEqual=e=>{},u.assertIs=function(e){},u.assertNever=function(e){throw Error()},u.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},u.getValidEnumValues=e=>{let t=u.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let i of t)r[i]=e[i];return u.objectValues(r)},u.objectValues=e=>u.objectKeys(e).map(function(t){return e[t]}),u.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},u.find=(e,t)=>{for(let r of e)if(t(r))return r},u.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,u.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},u.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(f||(f={})).mergeShapes=(e,t)=>({...e,...t});let uC=h.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),uZ=e=>{switch(typeof e){case"undefined":return uC.undefined;case"string":return uC.string;case"number":return Number.isNaN(e)?uC.nan:uC.number;case"boolean":return uC.boolean;case"function":return uC.function;case"bigint":return uC.bigint;case"symbol":return uC.symbol;case"object":if(Array.isArray(e))return uC.array;if(null===e)return uC.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return uC.promise;if("undefined"!=typeof Map&&e instanceof Map)return uC.map;if("undefined"!=typeof Set&&e instanceof Set)return uC.set;if("undefined"!=typeof Date&&e instanceof Date)return uC.date;return uC.object;default:return uC.unknown}};e.s(["ZodParsedType",0,uC,"getParsedType",0,uZ,"objectUtil",()=>f,"util",()=>h],549745);let uz=h.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),uU=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class uR extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(i);else if("invalid_return_type"===n.code)i(n.returnTypeError);else if("invalid_arguments"===n.code)i(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof uR))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,h.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t=Object.create(null),r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}uR.create=e=>new uR(e),e.s(["ZodError",()=>uR,"ZodIssueCode",0,uz,"quotelessJson",0,uU],797867);let uD=(e,t)=>{let r;switch(e.code){case uz.invalid_type:r=e.received===uC.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case uz.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,h.jsonStringifyReplacer)}`;break;case uz.unrecognized_keys:r=`Unrecognized key(s) in object: ${h.joinValues(e.keys,", ")}`;break;case uz.invalid_union:r="Invalid input";break;case uz.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${h.joinValues(e.options)}`;break;case uz.invalid_enum_value:r=`Invalid enum value. Expected ${h.joinValues(e.options)}, received '${e.received}'`;break;case uz.invalid_arguments:r="Invalid function arguments";break;case uz.invalid_return_type:r="Invalid function return type";break;case uz.invalid_date:r="Invalid date";break;case uz.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:h.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case uz.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case uz.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case uz.custom:r="Invalid input";break;case uz.invalid_intersection_types:r="Intersection results could not be merged";break;case uz.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case uz.not_finite:r="Number must be finite";break;default:r=t.defaultError,h.assertNever(e)}return{message:r}},uL=uD;function uM(e){uL=e}function uF(){return uL}e.s(["getErrorMap",()=>uF,"setErrorMap",()=>uM],353625);let uB=e=>{let{data:t,path:r,errorMaps:i,issueData:n}=e,a=[...r,...n.path||[]],s={...n,path:a};if(void 0!==n.message)return{...n,path:a,message:n.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...n,path:a,message:o}},uJ=[];function uW(e,t){let r=uL,i=uB({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===uD?void 0:uD].filter(e=>!!e)});e.common.issues.push(i)}class uV{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return uG;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return uV.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:n}=i;if("aborted"===t.status||"aborted"===n.status)return uG;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||i.alwaysSet)&&(r[t.value]=n.value)}return{status:e.value,value:r}}}let uG=Object.freeze({status:"aborted"}),uq=e=>({status:"dirty",value:e}),uK=e=>({status:"valid",value:e}),uH=e=>"aborted"===e.status,uX=e=>"dirty"===e.status,uY=e=>"valid"===e.status,uQ=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,uq,"EMPTY_PATH",0,uJ,"INVALID",0,uG,"OK",0,uK,"ParseStatus",()=>uV,"addIssueToContext",()=>uW,"isAborted",0,uH,"isAsync",0,uQ,"isDirty",0,uX,"isValid",0,uY,"makeIssue",0,uB],96453),e.s([],998312),(d=g||(g={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},d.toString=e=>"string"==typeof e?e:e?.message;class u0{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let u1=(e,t)=>{if(uY(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new uR(e.common.issues);return this._error=t,this._error}}};function u4(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:n}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{let{message:a}=e;return"invalid_enum_value"===t.code?{message:a??n.defaultError}:void 0===n.data?{message:a??i??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:a??r??n.defaultError}},description:n}}class u6{get description(){return this._def.description}_getType(e){return uZ(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:uZ(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new uV,ctx:{common:e.parent.common,data:e.data,parsedType:uZ(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(uQ(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uZ(e)},i=this._parseSync({data:e,path:r.path,parent:r});return u1(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uZ(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return uY(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>uY(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:uZ(e)},i=this._parse({data:e,path:r.path,parent:r});return u1(r,await (uQ(i)?i:Promise.resolve(i)))}refine(e,t){return this._refinement((r,i)=>{let n=e(r),a=()=>i.addIssue({code:uz.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(a(),!1)):!!n||(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new dF({schema:this,typeName:_.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return dB.create(this,this._def)}nullable(){return dJ.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dI.create(this)}promise(){return dM.create(this,this._def)}or(e){return dO.create([this,e],this._def)}and(e){return dA.create(this,e,this._def)}transform(e){return new dF({...u4(this._def),schema:this,typeName:_.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new dW({...u4(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:_.ZodDefault})}brand(){return new dK({typeName:_.ZodBranded,type:this,...u4(this._def)})}catch(e){return new dV({...u4(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:_.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return dH.create(this,e)}readonly(){return dX.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let u2=/^c[^\s-]{8,}$/i,u9=/^[0-9a-z]+$/,u5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,u3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,u8=/^[a-z0-9_-]{21}$/i,u7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,de=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,dt=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,di=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,da=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ds=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dl=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,du="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dd=RegExp(`^${du}$`);function dc(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function dp(e){let t=`${du}T${dc(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class dm extends u6{_parse(e){var t,r,i,n;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==uC.string){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.string,received:t.parsedType}),uG}let s=new uV;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(uW(a=this._getOrReturnCtx(e,a),{code:uz.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if("max"===l.kind)e.data.length>l.value&&(uW(a=this._getOrReturnCtx(e,a),{code:uz.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if("length"===l.kind){let t=e.data.length>l.value,r=e.data.length<l.value;(t||r)&&(a=this._getOrReturnCtx(e,a),t?uW(a,{code:uz.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):r&&uW(a,{code:uz.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),s.dirty())}else if("email"===l.kind)dt.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{validation:"email",code:uz.invalid_string,message:l.message}),s.dirty());else if("emoji"===l.kind)o||(o=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),o.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:uz.invalid_string,message:l.message}),s.dirty());else if("uuid"===l.kind)u3.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:uz.invalid_string,message:l.message}),s.dirty());else if("nanoid"===l.kind)u8.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:uz.invalid_string,message:l.message}),s.dirty());else if("cuid"===l.kind)u2.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:uz.invalid_string,message:l.message}),s.dirty());else if("cuid2"===l.kind)u9.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:uz.invalid_string,message:l.message}),s.dirty());else if("ulid"===l.kind)u5.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:uz.invalid_string,message:l.message}),s.dirty());else if("url"===l.kind)try{new URL(e.data)}catch{uW(a=this._getOrReturnCtx(e,a),{validation:"url",code:uz.invalid_string,message:l.message}),s.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{validation:"regex",code:uz.invalid_string,message:l.message}),s.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(uW(a=this._getOrReturnCtx(e,a),{code:uz.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),s.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(uW(a=this._getOrReturnCtx(e,a),{code:uz.invalid_string,validation:{startsWith:l.value},message:l.message}),s.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(uW(a=this._getOrReturnCtx(e,a),{code:uz.invalid_string,validation:{endsWith:l.value},message:l.message}),s.dirty()):"datetime"===l.kind?dp(l).test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{code:uz.invalid_string,validation:"datetime",message:l.message}),s.dirty()):"date"===l.kind?dd.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{code:uz.invalid_string,validation:"date",message:l.message}),s.dirty()):"time"===l.kind?RegExp(`^${dc(l)}$`).test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{code:uz.invalid_string,validation:"time",message:l.message}),s.dirty()):"duration"===l.kind?de.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{validation:"duration",code:uz.invalid_string,message:l.message}),s.dirty()):"ip"===l.kind?(t=e.data,!(("v4"===(r=l.version)||!r)&&dr.test(t)||("v6"===r||!r)&&dn.test(t))&&1&&(uW(a=this._getOrReturnCtx(e,a),{validation:"ip",code:uz.invalid_string,message:l.message}),s.dirty())):"jwt"===l.kind?!function(e,t){if(!u7.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(i));if("object"!=typeof n||null===n||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)return!1;return!0}catch{return!1}}(e.data,l.alg)&&(uW(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:uz.invalid_string,message:l.message}),s.dirty()):"cidr"===l.kind?(i=e.data,!(("v4"===(n=l.version)||!n)&&di.test(i)||("v6"===n||!n)&&da.test(i))&&1&&(uW(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:uz.invalid_string,message:l.message}),s.dirty())):"base64"===l.kind?ds.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{validation:"base64",code:uz.invalid_string,message:l.message}),s.dirty()):"base64url"===l.kind?dl.test(e.data)||(uW(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:uz.invalid_string,message:l.message}),s.dirty()):h.assertNever(l);return{status:s.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:uz.invalid_string,...g.errToObj(r)})}_addCheck(e){return new dm({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...g.errToObj(e)})}url(e){return this._addCheck({kind:"url",...g.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...g.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...g.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...g.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...g.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...g.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...g.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...g.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...g.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...g.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...g.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...g.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...g.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...g.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...g.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...g.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...g.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...g.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...g.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...g.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...g.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...g.errToObj(t)})}nonempty(e){return this.min(1,g.errToObj(e))}trim(){return new dm({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new dm({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new dm({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}dm.create=e=>new dm({checks:[],typeName:_.ZodString,coerce:e?.coerce??!1,...u4(e)});class dh extends u6{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==uC.number){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.number,received:t.parsedType}),uG}let r=new uV;for(let i of this._def.checks)"int"===i.kind?h.isInteger(e.data)||(uW(t=this._getOrReturnCtx(e,t),{code:uz.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(uW(t=this._getOrReturnCtx(e,t),{code:uz.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(uW(t=this._getOrReturnCtx(e,t),{code:uz.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}(e.data,i.value)&&(uW(t=this._getOrReturnCtx(e,t),{code:uz.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(uW(t=this._getOrReturnCtx(e,t),{code:uz.not_finite,message:i.message}),r.dirty()):h.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,g.toString(t))}gt(e,t){return this.setLimit("min",e,!1,g.toString(t))}lte(e,t){return this.setLimit("max",e,!0,g.toString(t))}lt(e,t){return this.setLimit("max",e,!1,g.toString(t))}setLimit(e,t,r,i){return new dh({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:g.toString(i)}]})}_addCheck(e){return new dh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:g.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:g.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:g.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:g.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:g.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:g.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:g.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:g.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:g.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&h.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}dh.create=e=>new dh({checks:[],typeName:_.ZodNumber,coerce:e?.coerce||!1,...u4(e)});class df extends u6{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==uC.bigint)return this._getInvalidInput(e);let r=new uV;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(uW(t=this._getOrReturnCtx(e,t),{code:uz.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(uW(t=this._getOrReturnCtx(e,t),{code:uz.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(uW(t=this._getOrReturnCtx(e,t),{code:uz.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):h.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.bigint,received:t.parsedType}),uG}gte(e,t){return this.setLimit("min",e,!0,g.toString(t))}gt(e,t){return this.setLimit("min",e,!1,g.toString(t))}lte(e,t){return this.setLimit("max",e,!0,g.toString(t))}lt(e,t){return this.setLimit("max",e,!1,g.toString(t))}setLimit(e,t,r,i){return new df({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:g.toString(i)}]})}_addCheck(e){return new df({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:g.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:g.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:g.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:g.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:g.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}df.create=e=>new df({checks:[],typeName:_.ZodBigInt,coerce:e?.coerce??!1,...u4(e)});class dg extends u6{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==uC.boolean){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.boolean,received:t.parsedType}),uG}return uK(e.data)}}dg.create=e=>new dg({typeName:_.ZodBoolean,coerce:e?.coerce||!1,...u4(e)});class d_ extends u6{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==uC.date){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.date,received:t.parsedType}),uG}if(Number.isNaN(e.data.getTime()))return uW(this._getOrReturnCtx(e),{code:uz.invalid_date}),uG;let r=new uV;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(uW(t=this._getOrReturnCtx(e,t),{code:uz.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(uW(t=this._getOrReturnCtx(e,t),{code:uz.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):h.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new d_({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:g.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:g.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}d_.create=e=>new d_({checks:[],coerce:e?.coerce||!1,typeName:_.ZodDate,...u4(e)});class dv extends u6{_parse(e){if(this._getType(e)!==uC.symbol){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.symbol,received:t.parsedType}),uG}return uK(e.data)}}dv.create=e=>new dv({typeName:_.ZodSymbol,...u4(e)});class dy extends u6{_parse(e){if(this._getType(e)!==uC.undefined){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.undefined,received:t.parsedType}),uG}return uK(e.data)}}dy.create=e=>new dy({typeName:_.ZodUndefined,...u4(e)});class db extends u6{_parse(e){if(this._getType(e)!==uC.null){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.null,received:t.parsedType}),uG}return uK(e.data)}}db.create=e=>new db({typeName:_.ZodNull,...u4(e)});class d$ extends u6{constructor(){super(...arguments),this._any=!0}_parse(e){return uK(e.data)}}d$.create=e=>new d$({typeName:_.ZodAny,...u4(e)});class dw extends u6{constructor(){super(...arguments),this._unknown=!0}_parse(e){return uK(e.data)}}dw.create=e=>new dw({typeName:_.ZodUnknown,...u4(e)});class dx extends u6{_parse(e){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.never,received:t.parsedType}),uG}}dx.create=e=>new dx({typeName:_.ZodNever,...u4(e)});class dk extends u6{_parse(e){if(this._getType(e)!==uC.undefined){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.void,received:t.parsedType}),uG}return uK(e.data)}}dk.create=e=>new dk({typeName:_.ZodVoid,...u4(e)});class dI extends u6{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==uC.array)return uW(t,{code:uz.invalid_type,expected:uC.array,received:t.parsedType}),uG;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,n=t.data.length<i.exactLength.value;(e||n)&&(uW(t,{code:e?uz.too_big:uz.too_small,minimum:n?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(uW(t,{code:uz.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(uW(t,{code:uz.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new u0(t,e,t.path,r)))).then(e=>uV.mergeArray(r,e));let n=[...t.data].map((e,r)=>i.type._parseSync(new u0(t,e,t.path,r)));return uV.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new dI({...this._def,minLength:{value:e,message:g.toString(t)}})}max(e,t){return new dI({...this._def,maxLength:{value:e,message:g.toString(t)}})}length(e,t){return new dI({...this._def,exactLength:{value:e,message:g.toString(t)}})}nonempty(e){return this.min(1,e)}}dI.create=(e,t)=>new dI({type:e,minLength:null,maxLength:null,exactLength:null,typeName:_.ZodArray,...u4(t)});class dS extends u6{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=h.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==uC.object){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.object,received:t.parsedType}),uG}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),a=[];if(!(this._def.catchall instanceof dx&&"strip"===this._def.unknownKeys))for(let e in r.data)n.includes(e)||a.push(e);let s=[];for(let e of n){let t=i[e],n=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new u0(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof dx){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(uW(r,{code:uz.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new u0(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>uV.mergeObjectSync(t,e)):uV.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return g.errToObj,new dS({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:g.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new dS({...this._def,unknownKeys:"strip"})}passthrough(){return new dS({...this._def,unknownKeys:"passthrough"})}extend(e){return new dS({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dS({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new dS({...this._def,catchall:e})}pick(e){let t={};for(let r of h.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new dS({...this._def,shape:()=>t})}omit(e){let t={};for(let r of h.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new dS({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof dS){let r={};for(let i in t.shape){let n=t.shape[i];r[i]=dB.create(e(n))}return new dS({...t._def,shape:()=>r})}if(t instanceof dI)return new dI({...t._def,type:e(t.element)});if(t instanceof dB)return dB.create(e(t.unwrap()));if(t instanceof dJ)return dJ.create(e(t.unwrap()));if(t instanceof dN)return dN.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of h.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new dS({...this._def,shape:()=>t})}required(e){let t={};for(let r of h.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof dB;)e=e._def.innerType;t[r]=e}return new dS({...this._def,shape:()=>t})}keyof(){return dR(h.objectKeys(this.shape))}}dS.create=(e,t)=>new dS({shape:()=>e,unknownKeys:"strip",catchall:dx.create(),typeName:_.ZodObject,...u4(t)}),dS.strictCreate=(e,t)=>new dS({shape:()=>e,unknownKeys:"strict",catchall:dx.create(),typeName:_.ZodObject,...u4(t)}),dS.lazycreate=(e,t)=>new dS({shape:e,unknownKeys:"strip",catchall:dx.create(),typeName:_.ZodObject,...u4(t)});class dO extends u6{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new uR(e.ctx.common.issues));return uW(t,{code:uz.invalid_union,unionErrors:r}),uG});{let e,i=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=i.map(e=>new uR(e));return uW(t,{code:uz.invalid_union,unionErrors:n}),uG}}get options(){return this._def.options}}dO.create=(e,t)=>new dO({options:e,typeName:_.ZodUnion,...u4(t)});let dE=e=>{if(e instanceof dz)return dE(e.schema);if(e instanceof dF)return dE(e.innerType());if(e instanceof dU)return[e.value];if(e instanceof dD)return e.options;if(e instanceof dL)return h.objectValues(e.enum);else if(e instanceof dW)return dE(e._def.innerType);else if(e instanceof dy)return[void 0];else if(e instanceof db)return[null];else if(e instanceof dB)return[void 0,...dE(e.unwrap())];else if(e instanceof dJ)return[null,...dE(e.unwrap())];else if(e instanceof dK)return dE(e.unwrap());else if(e instanceof dX)return dE(e.unwrap());else if(e instanceof dV)return dE(e._def.innerType);else return[]};class dT extends u6{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==uC.object)return uW(t,{code:uz.invalid_type,expected:uC.object,received:t.parsedType}),uG;let r=this.discriminator,i=t.data[r],n=this.optionsMap.get(i);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(uW(t,{code:uz.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),uG)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=dE(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(i.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);i.set(n,r)}}return new dT({typeName:_.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...u4(r)})}}class dA extends u6{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(uH(e)||uH(i))return uG;let n=function e(t,r){let i=uZ(t),n=uZ(r);if(t===r)return{valid:!0,data:t};if(i===uC.object&&n===uC.object){let i=h.objectKeys(r),n=h.objectKeys(t).filter(e=>-1!==i.indexOf(e)),a={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1};a[i]=n.data}return{valid:!0,data:a}}if(i===uC.array&&n===uC.array){if(t.length!==r.length)return{valid:!1};let i=[];for(let n=0;n<t.length;n++){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1};i.push(a.data)}return{valid:!0,data:i}}if(i===uC.date&&n===uC.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,i.value);return n.valid?((uX(e)||uX(i))&&t.dirty(),{status:t.value,value:n.data}):(uW(r,{code:uz.invalid_intersection_types}),uG)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}dA.create=(e,t,r)=>new dA({left:e,right:t,typeName:_.ZodIntersection,...u4(r)});class dN extends u6{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==uC.array)return uW(r,{code:uz.invalid_type,expected:uC.array,received:r.parsedType}),uG;if(r.data.length<this._def.items.length)return uW(r,{code:uz.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),uG;!this._def.rest&&r.data.length>this._def.items.length&&(uW(r,{code:uz.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new u0(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>uV.mergeArray(t,e)):uV.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new dN({...this._def,rest:e})}}dN.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new dN({items:e,typeName:_.ZodTuple,rest:null,...u4(t)})};class dj extends u6{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==uC.object)return uW(r,{code:uz.invalid_type,expected:uC.object,received:r.parsedType}),uG;let i=[],n=this._def.keyType,a=this._def.valueType;for(let e in r.data)i.push({key:n._parse(new u0(r,e,r.path,e)),value:a._parse(new u0(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?uV.mergeObjectAsync(t,i):uV.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new dj(t instanceof u6?{keyType:e,valueType:t,typeName:_.ZodRecord,...u4(r)}:{keyType:dm.create(),valueType:e,typeName:_.ZodRecord,...u4(t)})}}class dP extends u6{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==uC.map)return uW(r,{code:uz.invalid_type,expected:uC.map,received:r.parsedType}),uG;let i=this._def.keyType,n=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:i._parse(new u0(r,e,r.path,[a,"key"])),value:n._parse(new u0(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let i=await r.key,n=await r.value;if("aborted"===i.status||"aborted"===n.status)return uG;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let i=r.key,n=r.value;if("aborted"===i.status||"aborted"===n.status)return uG;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}}}}dP.create=(e,t,r)=>new dP({valueType:t,keyType:e,typeName:_.ZodMap,...u4(r)});class dC extends u6{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==uC.set)return uW(r,{code:uz.invalid_type,expected:uC.set,received:r.parsedType}),uG;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(uW(r,{code:uz.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(uW(r,{code:uz.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let n=this._def.valueType;function a(e){let r=new Set;for(let i of e){if("aborted"===i.status)return uG;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>n._parse(new u0(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new dC({...this._def,minSize:{value:e,message:g.toString(t)}})}max(e,t){return new dC({...this._def,maxSize:{value:e,message:g.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}dC.create=(e,t)=>new dC({valueType:e,minSize:null,maxSize:null,typeName:_.ZodSet,...u4(t)});class dZ extends u6{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==uC.function)return uW(t,{code:uz.invalid_type,expected:uC.function,received:t.parsedType}),uG;function r(e,r){return uB({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,uL,uD].filter(e=>!!e),issueData:{code:uz.invalid_arguments,argumentsError:r}})}function i(e,r){return uB({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,uL,uD].filter(e=>!!e),issueData:{code:uz.invalid_return_type,returnTypeError:r}})}let n={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof dM){let e=this;return uK(async function(...t){let s=new uR([]),o=await e._def.args.parseAsync(t,n).catch(e=>{throw s.addIssue(r(t,e)),s}),l=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(l,n).catch(e=>{throw s.addIssue(i(l,e)),s})})}{let e=this;return uK(function(...t){let s=e._def.args.safeParse(t,n);if(!s.success)throw new uR([r(t,s.error)]);let o=Reflect.apply(a,this,s.data),l=e._def.returns.safeParse(o,n);if(!l.success)throw new uR([i(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new dZ({...this._def,args:dN.create(e).rest(dw.create())})}returns(e){return new dZ({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new dZ({args:e||dN.create([]).rest(dw.create()),returns:t||dw.create(),typeName:_.ZodFunction,...u4(r)})}}class dz extends u6{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}dz.create=(e,t)=>new dz({getter:e,typeName:_.ZodLazy,...u4(t)});class dU extends u6{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return uW(t,{received:t.data,code:uz.invalid_literal,expected:this._def.value}),uG}return{status:"valid",value:e.data}}get value(){return this._def.value}}function dR(e,t){return new dD({values:e,typeName:_.ZodEnum,...u4(t)})}dU.create=(e,t)=>new dU({value:e,typeName:_.ZodLiteral,...u4(t)});class dD extends u6{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return uW(t,{expected:h.joinValues(r),received:t.parsedType,code:uz.invalid_type}),uG}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return uW(t,{received:t.data,code:uz.invalid_enum_value,options:r}),uG}return uK(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return dD.create(e,{...this._def,...t})}exclude(e,t=this._def){return dD.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}dD.create=dR;class dL extends u6{_parse(e){let t=h.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==uC.string&&r.parsedType!==uC.number){let e=h.objectValues(t);return uW(r,{expected:h.joinValues(e),received:r.parsedType,code:uz.invalid_type}),uG}if(this._cache||(this._cache=new Set(h.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=h.objectValues(t);return uW(r,{received:r.data,code:uz.invalid_enum_value,options:e}),uG}return uK(e.data)}get enum(){return this._def.values}}dL.create=(e,t)=>new dL({values:e,typeName:_.ZodNativeEnum,...u4(t)});class dM extends u6{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==uC.promise&&!1===t.common.async?(uW(t,{code:uz.invalid_type,expected:uC.promise,received:t.parsedType}),uG):uK((t.parsedType===uC.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}dM.create=(e,t)=>new dM({type:e,typeName:_.ZodPromise,...u4(t)});class dF extends u6{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,n={addIssue:e=>{uW(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===i.type){let e=i.transform(r.data,n);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return uG;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?uG:"dirty"===i.status||"dirty"===t.value?uq(i.value):i});{if("aborted"===t.value)return uG;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?uG:"dirty"===i.status||"dirty"===t.value?uq(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?uG:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?uG:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>uY(e)?Promise.resolve(i.transform(e.value,n)).then(e=>({status:t.value,value:e})):uG);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!uY(e))return uG;let a=i.transform(e.value,n);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}h.assertNever(i)}}dF.create=(e,t,r)=>new dF({schema:e,typeName:_.ZodEffects,effect:t,...u4(r)}),dF.createWithPreprocess=(e,t,r)=>new dF({schema:t,effect:{type:"preprocess",transform:e},typeName:_.ZodEffects,...u4(r)});class dB extends u6{_parse(e){return this._getType(e)===uC.undefined?uK(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dB.create=(e,t)=>new dB({innerType:e,typeName:_.ZodOptional,...u4(t)});class dJ extends u6{_parse(e){return this._getType(e)===uC.null?uK(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dJ.create=(e,t)=>new dJ({innerType:e,typeName:_.ZodNullable,...u4(t)});class dW extends u6{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===uC.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}dW.create=(e,t)=>new dW({innerType:e,typeName:_.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...u4(t)});class dV extends u6{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return uQ(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new uR(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new uR(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}dV.create=(e,t)=>new dV({innerType:e,typeName:_.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...u4(t)});class dG extends u6{_parse(e){if(this._getType(e)!==uC.nan){let t=this._getOrReturnCtx(e);return uW(t,{code:uz.invalid_type,expected:uC.nan,received:t.parsedType}),uG}return{status:"valid",value:e.data}}}dG.create=e=>new dG({typeName:_.ZodNaN,...u4(e)});let dq=Symbol("zod_brand");class dK extends u6{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class dH extends u6{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?uG:"dirty"===e.status?(t.dirty(),uq(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?uG:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new dH({in:e,out:t,typeName:_.ZodPipeline})}}class dX extends u6{_parse(e){let t=this._def.innerType._parse(e),r=e=>(uY(e)&&(e.value=Object.freeze(e.value)),e);return uQ(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function dY(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function dQ(e,t={},r){return e?d$.create().superRefine((i,n)=>{let a=e(i);if(a instanceof Promise)return a.then(e=>{if(!e){let e=dY(t,i),a=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:a})}});if(!a){let e=dY(t,i),a=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:a})}}):d$.create()}dX.create=(e,t)=>new dX({innerType:e,typeName:_.ZodReadonly,...u4(t)});let d0={object:dS.lazycreate};(c=_||(_={})).ZodString="ZodString",c.ZodNumber="ZodNumber",c.ZodNaN="ZodNaN",c.ZodBigInt="ZodBigInt",c.ZodBoolean="ZodBoolean",c.ZodDate="ZodDate",c.ZodSymbol="ZodSymbol",c.ZodUndefined="ZodUndefined",c.ZodNull="ZodNull",c.ZodAny="ZodAny",c.ZodUnknown="ZodUnknown",c.ZodNever="ZodNever",c.ZodVoid="ZodVoid",c.ZodArray="ZodArray",c.ZodObject="ZodObject",c.ZodUnion="ZodUnion",c.ZodDiscriminatedUnion="ZodDiscriminatedUnion",c.ZodIntersection="ZodIntersection",c.ZodTuple="ZodTuple",c.ZodRecord="ZodRecord",c.ZodMap="ZodMap",c.ZodSet="ZodSet",c.ZodFunction="ZodFunction",c.ZodLazy="ZodLazy",c.ZodLiteral="ZodLiteral",c.ZodEnum="ZodEnum",c.ZodEffects="ZodEffects",c.ZodNativeEnum="ZodNativeEnum",c.ZodOptional="ZodOptional",c.ZodNullable="ZodNullable",c.ZodDefault="ZodDefault",c.ZodCatch="ZodCatch",c.ZodPromise="ZodPromise",c.ZodBranded="ZodBranded",c.ZodPipeline="ZodPipeline",c.ZodReadonly="ZodReadonly";let d1=(e,t={message:`Input not instance of ${e.name}`})=>dQ(t=>t instanceof e,t),d4=dm.create,d6=dh.create,d2=dG.create,d9=df.create,d5=dg.create,d3=d_.create,d8=dv.create,d7=dy.create,ce=db.create,ct=d$.create,cr=dw.create,ci=dx.create,cn=dk.create,ca=dI.create,cs=dS.create,co=dS.strictCreate,cl=dO.create,cu=dT.create,cd=dA.create,cc=dN.create,cp=dj.create,cm=dP.create,ch=dC.create,cf=dZ.create,cg=dz.create,c_=dU.create,cv=dD.create,cy=dL.create,cb=dM.create,c$=dF.create,cw=dB.create,cx=dJ.create,ck=dF.createWithPreprocess,cI=dH.create,cS=()=>d4().optional(),cO=()=>d6().optional(),cE=()=>d5().optional(),cT={string:e=>dm.create({...e,coerce:!0}),number:e=>dh.create({...e,coerce:!0}),boolean:e=>dg.create({...e,coerce:!0}),bigint:e=>df.create({...e,coerce:!0}),date:e=>d_.create({...e,coerce:!0})};e.s(["BRAND",0,dq,"NEVER",0,uG,"Schema",()=>u6,"ZodAny",()=>d$,"ZodArray",()=>dI,"ZodBigInt",()=>df,"ZodBoolean",()=>dg,"ZodBranded",()=>dK,"ZodCatch",()=>dV,"ZodDate",()=>d_,"ZodDefault",()=>dW,"ZodDiscriminatedUnion",()=>dT,"ZodEffects",()=>dF,"ZodEnum",()=>dD,"ZodFirstPartyTypeKind",()=>_,"ZodFunction",()=>dZ,"ZodIntersection",()=>dA,"ZodLazy",()=>dz,"ZodLiteral",()=>dU,"ZodMap",()=>dP,"ZodNaN",()=>dG,"ZodNativeEnum",()=>dL,"ZodNever",()=>dx,"ZodNull",()=>db,"ZodNullable",()=>dJ,"ZodNumber",()=>dh,"ZodObject",()=>dS,"ZodOptional",()=>dB,"ZodPipeline",()=>dH,"ZodPromise",()=>dM,"ZodReadonly",()=>dX,"ZodRecord",()=>dj,"ZodSchema",()=>u6,"ZodSet",()=>dC,"ZodString",()=>dm,"ZodSymbol",()=>dv,"ZodTransformer",()=>dF,"ZodTuple",()=>dN,"ZodType",()=>u6,"ZodUndefined",()=>dy,"ZodUnion",()=>dO,"ZodUnknown",()=>dw,"ZodVoid",()=>dk,"any",()=>ct,"array",()=>ca,"bigint",()=>d9,"boolean",()=>d5,"coerce",0,cT,"custom",()=>dQ,"date",()=>d3,"datetimeRegex",()=>dp,"discriminatedUnion",()=>cu,"effect",()=>c$,"enum",()=>cv,"function",()=>cf,"instanceof",()=>d1,"intersection",()=>cd,"late",0,d0,"lazy",()=>cg,"literal",()=>c_,"map",()=>cm,"nan",()=>d2,"nativeEnum",()=>cy,"never",()=>ci,"null",()=>ce,"nullable",()=>cx,"number",()=>d6,"object",()=>cs,"oboolean",()=>cE,"onumber",()=>cO,"optional",()=>cw,"ostring",()=>cS,"pipeline",()=>cI,"preprocess",()=>ck,"promise",()=>cb,"record",()=>cp,"set",()=>ch,"strictObject",()=>co,"string",()=>d4,"symbol",()=>d8,"transformer",()=>c$,"tuple",()=>cc,"undefined",()=>d7,"union",()=>cl,"unknown",()=>cr,"void",()=>cn],498484),e.s([],286645),e.i(286645),e.i(353625),e.s(["defaultErrorMap",0,uD,"getErrorMap",()=>uF,"setErrorMap",()=>uM],414594),e.i(414594),e.i(96453),e.i(998312),e.i(549745),e.i(498484),e.i(797867),e.s(["BRAND",0,dq,"DIRTY",0,uq,"EMPTY_PATH",0,uJ,"INVALID",0,uG,"NEVER",0,uG,"OK",0,uK,"ParseStatus",()=>uV,"Schema",()=>u6,"ZodAny",()=>d$,"ZodArray",()=>dI,"ZodBigInt",()=>df,"ZodBoolean",()=>dg,"ZodBranded",()=>dK,"ZodCatch",()=>dV,"ZodDate",()=>d_,"ZodDefault",()=>dW,"ZodDiscriminatedUnion",()=>dT,"ZodEffects",()=>dF,"ZodEnum",()=>dD,"ZodError",()=>uR,"ZodFirstPartyTypeKind",()=>_,"ZodFunction",()=>dZ,"ZodIntersection",()=>dA,"ZodIssueCode",0,uz,"ZodLazy",()=>dz,"ZodLiteral",()=>dU,"ZodMap",()=>dP,"ZodNaN",()=>dG,"ZodNativeEnum",()=>dL,"ZodNever",()=>dx,"ZodNull",()=>db,"ZodNullable",()=>dJ,"ZodNumber",()=>dh,"ZodObject",()=>dS,"ZodOptional",()=>dB,"ZodParsedType",0,uC,"ZodPipeline",()=>dH,"ZodPromise",()=>dM,"ZodReadonly",()=>dX,"ZodRecord",()=>dj,"ZodSchema",()=>u6,"ZodSet",()=>dC,"ZodString",()=>dm,"ZodSymbol",()=>dv,"ZodTransformer",()=>dF,"ZodTuple",()=>dN,"ZodType",()=>u6,"ZodUndefined",()=>dy,"ZodUnion",()=>dO,"ZodUnknown",()=>dw,"ZodVoid",()=>dk,"addIssueToContext",()=>uW,"any",()=>ct,"array",()=>ca,"bigint",()=>d9,"boolean",()=>d5,"coerce",0,cT,"custom",()=>dQ,"date",()=>d3,"datetimeRegex",()=>dp,"defaultErrorMap",0,uD,"discriminatedUnion",()=>cu,"effect",()=>c$,"enum",()=>cv,"function",()=>cf,"getErrorMap",()=>uF,"getParsedType",0,uZ,"instanceof",()=>d1,"intersection",()=>cd,"isAborted",0,uH,"isAsync",0,uQ,"isDirty",0,uX,"isValid",0,uY,"late",0,d0,"lazy",()=>cg,"literal",()=>c_,"makeIssue",0,uB,"map",()=>cm,"nan",()=>d2,"nativeEnum",()=>cy,"never",()=>ci,"null",()=>ce,"nullable",()=>cx,"number",()=>d6,"object",()=>cs,"objectUtil",()=>f,"oboolean",()=>cE,"onumber",()=>cO,"optional",()=>cw,"ostring",()=>cS,"pipeline",()=>cI,"preprocess",()=>ck,"promise",()=>cb,"quotelessJson",0,uU,"record",()=>cp,"set",()=>ch,"setErrorMap",()=>uM,"strictObject",()=>co,"string",()=>d4,"symbol",()=>d8,"transformer",()=>c$,"tuple",()=>cc,"undefined",()=>d7,"union",()=>cl,"unknown",()=>cr,"util",()=>h,"void",()=>cn],235847);var cA=e.i(235847);function cN(e,t){return cY(e.type._def,t)}e.s([],529515);let cj=/^[cC][^\s-]{8,}$/,cP=/^[0-9a-z]+$/,cC=/^[0-9A-HJKMNP-TV-Z]{26}$/,cZ=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,cz=()=>(void 0===l&&(l=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),l),cU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,cR=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cM=/^[a-zA-Z0-9_-]{21}$/,cF=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function cB(e,t){let r={type:"string"};if(e.checks)for(let i of e.checks)switch(i.kind){case"min":uP(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,i.value):i.value,i.message,t);break;case"max":uP(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,i.value):i.value,i.message,t);break;case"email":switch(t.emailStrategy){case"format:email":cV(r,"email",i.message,t);break;case"format:idn-email":cV(r,"idn-email",i.message,t);break;case"pattern:zod":cG(r,cZ,i.message,t)}break;case"url":cV(r,"uri",i.message,t);break;case"uuid":cV(r,"uuid",i.message,t);break;case"regex":cG(r,i.regex,i.message,t);break;case"cuid":cG(r,cj,i.message,t);break;case"cuid2":cG(r,cP,i.message,t);break;case"startsWith":cG(r,RegExp(`^${cJ(i.value,t)}`),i.message,t);break;case"endsWith":cG(r,RegExp(`${cJ(i.value,t)}$`),i.message,t);break;case"datetime":cV(r,"date-time",i.message,t);break;case"date":cV(r,"date",i.message,t);break;case"time":cV(r,"time",i.message,t);break;case"duration":cV(r,"duration",i.message,t);break;case"length":uP(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,i.value):i.value,i.message,t),uP(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,i.value):i.value,i.message,t);break;case"includes":cG(r,RegExp(cJ(i.value,t)),i.message,t);break;case"ip":"v6"!==i.version&&cV(r,"ipv4",i.message,t),"v4"!==i.version&&cV(r,"ipv6",i.message,t);break;case"base64url":cG(r,cL,i.message,t);break;case"jwt":cG(r,cF,i.message,t);break;case"cidr":"v6"!==i.version&&cG(r,cU,i.message,t),"v4"!==i.version&&cG(r,cR,i.message,t);break;case"emoji":cG(r,cz(),i.message,t);break;case"ulid":cG(r,cC,i.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":cV(r,"binary",i.message,t);break;case"contentEncoding:base64":uP(r,"contentEncoding","base64",i.message,t);break;case"pattern:zod":cG(r,cD,i.message,t)}break;case"nanoid":cG(r,cM,i.message,t)}return r}function cJ(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let r=0;r<e.length;r++)cW.has(e[r])||(t+="\\"),t+=e[r];return t}(e):e}let cW=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function cV(e,t,r,i){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&i.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&i.errorMessages&&{errorMessage:{format:r}}})):uP(e,"format",t,r,i)}function cG(e,t,r,i){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&i.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:cq(t,i),...r&&i.errorMessages&&{errorMessage:{pattern:r}}})):uP(e,"pattern",cq(t,i),r,i)}function cq(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},i=r.i?e.source.toLowerCase():e.source,n="",a=!1,s=!1,o=!1;for(let e=0;e<i.length;e++){if(a){n+=i[e],a=!1;continue}if(r.i){if(s){if(i[e].match(/[a-z]/)){o?(n+=i[e],n+=`${i[e-2]}-${i[e]}`.toUpperCase(),o=!1):"-"===i[e+1]&&i[e+2]?.match(/[a-z]/)?(n+=i[e],o=!0):n+=`${i[e]}${i[e].toUpperCase()}`;continue}}else if(i[e].match(/[a-z]/)){n+=`[${i[e]}${i[e].toUpperCase()}]`;continue}}if(r.m){if("^"===i[e]){n+=`(^|(?<=[\r
]))`;continue}else if("$"===i[e]){n+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===i[e]){n+=s?`${i[e]}\r
`:`[${i[e]}\r
]`;continue}n+=i[e],"\\"===i[e]?a=!0:s&&"]"===i[e]?s=!1:s||"["!==i[e]||(s=!0)}try{new RegExp(n)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return n}function cK(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===_.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,i)=>({...r,[i]:cY(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",i]})??uN(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:cY(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===_.ZodString&&e.keyType._def.checks?.length){let{type:i,...n}=cB(e.keyType._def,t);return{...r,propertyNames:n}}if(e.keyType?._def.typeName===_.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===_.ZodBranded&&e.keyType._def.type._def.typeName===_.ZodString&&e.keyType._def.type._def.checks?.length){let{type:i,...n}=cN(e.keyType._def,t);return{...r,propertyNames:n}}return r}let cH={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},cX=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>cY(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0};function cY(e,t,r=!1){let i=t.seen.get(e);if(t.override){let n=t.override?.(e,t,i,r);if(n!==uE)return n}if(i&&!r){let e=cQ(i,t);if(void 0!==e)return e}let n={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,n);let a=((e,t,r)=>{switch(t){case _.ZodString:return cB(e,r);case _.ZodNumber:let i={type:"number"};if(!e.checks)return i;for(let t of e.checks)switch(t.kind){case"int":i.type="integer",uj(i,"type",t.message,r);break;case"min":"jsonSchema7"===r.target?t.inclusive?uP(i,"minimum",t.value,t.message,r):uP(i,"exclusiveMinimum",t.value,t.message,r):(t.inclusive||(i.exclusiveMinimum=!0),uP(i,"minimum",t.value,t.message,r));break;case"max":"jsonSchema7"===r.target?t.inclusive?uP(i,"maximum",t.value,t.message,r):uP(i,"exclusiveMaximum",t.value,t.message,r):(t.inclusive||(i.exclusiveMaximum=!0),uP(i,"maximum",t.value,t.message,r));break;case"multipleOf":uP(i,"multipleOf",t.value,t.message,r)}return i;case _.ZodObject:return function(e,t){let r="openAi"===t.target,i={type:"object",properties:{}},n=[],a=e.shape();for(let e in a){let s=a[e];if(void 0===s||void 0===s._def)continue;let o=function(e){try{return e.isOptional()}catch{return!0}}(s);o&&r&&("ZodOptional"===s._def.typeName&&(s=s._def.innerType),s.isNullable()||(s=s.nullable()),o=!1);let l=cY(s._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==l&&(i.properties[e]=l,o||n.push(e))}n.length&&(i.required=n);let s=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return cY(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==s&&(i.additionalProperties=s),i}(e,r);case _.ZodBigInt:let n={type:"integer",format:"int64"};if(!e.checks)return n;for(let t of e.checks)switch(t.kind){case"min":"jsonSchema7"===r.target?t.inclusive?uP(n,"minimum",t.value,t.message,r):uP(n,"exclusiveMinimum",t.value,t.message,r):(t.inclusive||(n.exclusiveMinimum=!0),uP(n,"minimum",t.value,t.message,r));break;case"max":"jsonSchema7"===r.target?t.inclusive?uP(n,"maximum",t.value,t.message,r):uP(n,"exclusiveMaximum",t.value,t.message,r):(t.inclusive||(n.exclusiveMaximum=!0),uP(n,"maximum",t.value,t.message,r));break;case"multipleOf":uP(n,"multipleOf",t.value,t.message,r)}return n;case _.ZodBoolean:return{type:"boolean"};case _.ZodDate:return function e(t,r,i){let n=i??r.dateStrategy;if(Array.isArray(n))return{anyOf:n.map(i=>e(t,r,i))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var a=t,s=r;let o={type:"integer",format:"unix-time"};if("openApi3"===s.target)return o;for(let e of a.checks)switch(e.kind){case"min":uP(o,"minimum",e.value,e.message,s);break;case"max":uP(o,"maximum",e.value,e.message,s)}return o}}(e,r);case _.ZodUndefined:return{not:uN(r)};case _.ZodNull:return"openApi3"===r.target?{enum:["null"],nullable:!0}:{type:"null"};case _.ZodArray:let a;return a={type:"array"},e.type?._def&&e.type?._def?.typeName!==_.ZodAny&&(a.items=cY(e.type._def,{...r,currentPath:[...r.currentPath,"items"]})),e.minLength&&uP(a,"minItems",e.minLength.value,e.minLength.message,r),e.maxLength&&uP(a,"maxItems",e.maxLength.value,e.maxLength.message,r),e.exactLength&&(uP(a,"minItems",e.exactLength.value,e.exactLength.message,r),uP(a,"maxItems",e.exactLength.value,e.exactLength.message,r)),a;case _.ZodUnion:case _.ZodDiscriminatedUnion:if("openApi3"===r.target)return cX(e,r);let s=e.options instanceof Map?Array.from(e.options.values()):e.options;if(s.every(e=>e._def.typeName in cH&&(!e._def.checks||!e._def.checks.length))){let e=s.reduce((e,t)=>{let r=cH[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(s.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=s.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];return e;default:return e}},[]);if(e.length===s.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:s.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(s.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:s.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return cX(e,r);case _.ZodIntersection:let o,l,u;return o=[cY(e.left._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),cY(e.right._def,{...r,currentPath:[...r.currentPath,"allOf","1"]})].filter(e=>!!e),l="jsonSchema2019-09"===r.target?{unevaluatedProperties:!1}:void 0,u=[],o.forEach(e=>{if((!("type"in e)||"string"!==e.type)&&"allOf"in e)u.push(...e.allOf),void 0===e.unevaluatedProperties&&(l=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...i}=e;t=i}else l=void 0;u.push(t)}}),u.length?{allOf:u,...l}:void 0;case _.ZodTuple:return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,t)=>cY(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:cY(e.rest._def,{...r,currentPath:[...r.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,t)=>cY(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])};case _.ZodRecord:return cK(e,r);case _.ZodLiteral:let d;return"bigint"!=(d=typeof e.value)&&"number"!==d&&"boolean"!==d&&"string"!==d?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===r.target?{type:"bigint"===d?"integer":d,enum:[e.value]}:{type:"bigint"===d?"integer":d,const:e.value};case _.ZodEnum:return{type:"string",enum:Array.from(e.values)};case _.ZodNativeEnum:let c,p,m;return c=e.values,{type:1===(m=Array.from(new Set((p=Object.keys(e.values).filter(e=>"number"!=typeof c[c[e]]).map(e=>c[e])).map(e=>typeof e)))).length?"string"===m[0]?"string":"number":["string","number"],enum:p};case _.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===r.target?{type:cH[e.innerType._def.typeName],nullable:!0}:{type:[cH[e.innerType._def.typeName],"null"]};if("openApi3"===r.target){let t=cY(e.innerType._def,{...r,currentPath:[...r.currentPath]});return t&&"$ref"in t?{allOf:[t],nullable:!0}:t&&{...t,nullable:!0}}let h=cY(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","0"]});return h&&{anyOf:[h,{type:"null"}]};case _.ZodOptional:if(r.currentPath.toString()===r.propertyPath?.toString())return cY(e.innerType._def,r);let f=cY(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","1"]});return f?{anyOf:[{not:uN(r)},f]}:uN(r);case _.ZodMap:if("record"===r.mapStrategy)return cK(e,r);return{type:"array",maxItems:125,items:{type:"array",items:[cY(e.keyType._def,{...r,currentPath:[...r.currentPath,"items","items","0"]})||uN(r),cY(e.valueType._def,{...r,currentPath:[...r.currentPath,"items","items","1"]})||uN(r)],minItems:2,maxItems:2}};case _.ZodSet:let g;return g={type:"array",uniqueItems:!0,items:cY(e.valueType._def,{...r,currentPath:[...r.currentPath,"items"]})},e.minSize&&uP(g,"minItems",e.minSize.value,e.minSize.message,r),e.maxSize&&uP(g,"maxItems",e.maxSize.value,e.maxSize.message,r),g;case _.ZodLazy:return()=>e.getter()._def;case _.ZodPromise:return cY(e.type._def,r);case _.ZodNaN:case _.ZodNever:return"openAi"===r.target?void 0:{not:uN({...r,currentPath:[...r.currentPath,"not"]})};case _.ZodEffects:return"input"===r.effectStrategy?cY(e.schema._def,r):uN(r);case _.ZodAny:case _.ZodUnknown:return uN(r);case _.ZodDefault:return{...cY(e.innerType._def,r),default:e.defaultValue()};case _.ZodBranded:return cN(e,r);case _.ZodReadonly:case _.ZodCatch:return cY(e.innerType._def,r);case _.ZodPipeline:if("input"===r.pipeStrategy)return cY(e.in._def,r);if("output"===r.pipeStrategy)return cY(e.out._def,r);let v=cY(e.in._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),y=cY(e.out._def,{...r,currentPath:[...r.currentPath,"allOf",v?"1":"0"]});return{allOf:[v,y].filter(e=>void 0!==e)};case _.ZodFunction:case _.ZodVoid:case _.ZodSymbol:default:return}})(e,e.typeName,t),s="function"==typeof a?cY(a(),t):a;if(s&&c0(e,t,s),t.postProcess){let r=t.postProcess(s,e,t);return n.jsonSchema=s,r}return n.jsonSchema=s,s}let cQ=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:uA(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),uN(t);return"seen"===t.$refStrategy?uN(t):void 0}},c0=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r);function c1(e,t){let r=typeof e;if(r!==typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(!c1(e[i],t[i]))return!1;return!0}if("object"===r){if(!e||!t)return e===t;let r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(let i of r)if(!c1(e[i],t[i]))return!1;return!0}return e===t}function c4(e){return encodeURI(e.replace(/~/g,"~0").replace(/\//g,"~1"))}e.s(["deepCompareStrict",()=>c1],645668);let c6={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},c2={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},c9={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0},c5="undefined"!=typeof self&&self.location&&"null"!==self.location.origin?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function c3(e,t=Object.create(null),r=c5,i=""){if(e&&"object"==typeof e&&!Array.isArray(e)){let n=e.$id||e.id;if(n){let a=new URL(n,r.href);a.hash.length>1?t[a.href]=e:(a.hash="",""===i?r=a:c3(e,t,r))}}else if(!0!==e&&!1!==e)return t;let n=r.href+(i?"#"+i:"");if(void 0!==t[n])throw Error(`Duplicate schema URI "${n}".`);if(t[n]=e,!0===e||!1===e)return t;if(void 0===e.__absolute_uri__&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:n}),e.$ref&&void 0===e.__absolute_ref__){let t=new URL(e.$ref,r.href);t.hash=t.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:t.href})}if(e.$recursiveRef&&void 0===e.__absolute_recursive_ref__){let t=new URL(e.$recursiveRef,r.href);t.hash=t.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:t.href})}for(let n in e.$anchor&&(t[new URL("#"+e.$anchor,r.href).href]=e),e){if(c9[n])continue;let a=`${i}/${c4(n)}`,s=e[n];if(Array.isArray(s)){if(c6[n]){let e=s.length;for(let i=0;i<e;i++)c3(s[i],t,r,`${a}/${i}`)}}else if(c2[n])for(let e in s)c3(s[e],t,r,`${a}/${c4(e)}`);else c3(s,t,r,a)}return t}let c8=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,c7=[0,31,28,31,30,31,30,31,31,30,31,30,31],pe=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function pt(e){return e.test.bind(e)}let pr={date:pi,time:pn.bind(void 0,!1),"date-time":function(e){let t=e.split(pa);return 2==t.length&&pi(t[0])&&pn(!0,t[1])},duration:e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e)),uri:function(e){return ps.test(e)&&po.test(e)},"uri-reference":pt(/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i),"uri-template":pt(/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i),url:pt(/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu),email:e=>{if('"'===e[0])return!1;let[t,r,...i]=e.split("@");return!(!t||!r||0!==i.length||t.length>64||r.length>253||"."===t[0]||t.endsWith(".")||t.includes(".."))&&!!/^[a-z0-9.-]+$/i.test(r)&&!!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t)&&r.split(".").every(e=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(e))},hostname:pt(/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i),ipv4:pt(/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/),ipv6:pt(/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i),regex:function(e){if(pl.test(e))return!1;try{return RegExp(e,"u"),!0}catch(e){return!1}},uuid:pt(/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i),"json-pointer":pt(/^(?:\/(?:[^~/]|~0|~1)*)*$/),"json-pointer-uri-fragment":pt(/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i),"relative-json-pointer":pt(/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/)};function pi(e){var t;let r=e.match(c8);if(!r)return!1;let i=+r[1],n=+r[2],a=+r[3];return n>=1&&n<=12&&a>=1&&a<=(2==n&&(t=i)%4==0&&(t%100!=0||t%400==0)?29:c7[n])}function pn(e,t){let r=t.match(pe);if(!r)return!1;let i=+r[1],n=+r[2],a=+r[3],s=!!r[5];return(i<=23&&n<=59&&a<=59||23==i&&59==n&&60==a)&&(!e||s)}let pa=/t|\s/i,ps=/\/|:/,po=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,pl=/[^\\]\\Z/;function pu(e,t,r="2019-09",i=c3(t),n=!0,a=null,s="#",o="#",l=Object.create(null)){let u;if(!0===t)return{valid:!0,errors:[]};if(!1===t)return{valid:!1,errors:[{instanceLocation:s,keyword:"false",keywordLocation:s,error:"False boolean schema."}]};let d=typeof e;switch(d){case"boolean":case"number":case"string":u=d;break;case"object":u=null===e?"null":Array.isArray(e)?"array":"object";break;default:throw Error(`Instances of "${d}" type are not supported.`)}let{$ref:c,$recursiveRef:p,$recursiveAnchor:m,type:h,const:f,enum:g,required:_,not:v,anyOf:y,allOf:b,oneOf:$,if:w,then:x,else:k,format:I,properties:S,patternProperties:O,additionalProperties:E,unevaluatedProperties:T,minProperties:A,maxProperties:N,propertyNames:j,dependentRequired:P,dependentSchemas:C,dependencies:Z,prefixItems:z,items:U,additionalItems:R,unevaluatedItems:D,contains:L,minContains:M,maxContains:F,minItems:B,maxItems:J,uniqueItems:W,minimum:V,maximum:G,exclusiveMinimum:q,exclusiveMaximum:K,multipleOf:H,minLength:X,maxLength:Y,pattern:Q,__absolute_ref__:ee,__absolute_recursive_ref__:et}=t,er=[];if(!0===m&&null===a&&(a=t),"#"===p){let u=null===a?i[et]:a,d=`${o}/$recursiveRef`,c=pu(e,null===a?t:a,r,i,n,u,s,d,l);c.valid||er.push({instanceLocation:s,keyword:"$recursiveRef",keywordLocation:d,error:"A subschema had errors."},...c.errors)}if(void 0!==c){let t=i[ee||c];if(void 0===t){let e=`Unresolved $ref "${c}".`;throw ee&&ee!==c&&(e+=`  Absolute URI "${ee}".`),Error(e+=`
Known schemas:
- ${Object.keys(i).join("\n- ")}`)}let u=`${o}/$ref`,d=pu(e,t,r,i,n,a,s,u,l);if(d.valid||er.push({instanceLocation:s,keyword:"$ref",keywordLocation:u,error:"A subschema had errors."},...d.errors),"4"===r||"7"===r)return{valid:0===er.length,errors:er}}if(Array.isArray(h)){let t=h.length,r=!1;for(let i=0;i<t;i++)if(u===h[i]||"integer"===h[i]&&"number"===u&&e%1==0&&e==e){r=!0;break}r||er.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${u}" is invalid. Expected "${h.join('", "')}".`})}else"integer"===h?("number"!==u||e%1||e!=e)&&er.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${u}" is invalid. Expected "${h}".`}):void 0!==h&&u!==h&&er.push({instanceLocation:s,keyword:"type",keywordLocation:`${o}/type`,error:`Instance type "${u}" is invalid. Expected "${h}".`});if(void 0!==f&&("object"===u||"array"===u?c1(e,f)||er.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(f)}.`}):e!==f&&er.push({instanceLocation:s,keyword:"const",keywordLocation:`${o}/const`,error:`Instance does not match ${JSON.stringify(f)}.`})),void 0!==g&&("object"===u||"array"===u?g.some(t=>c1(e,t))||er.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(g)}.`}):g.some(t=>e===t)||er.push({instanceLocation:s,keyword:"enum",keywordLocation:`${o}/enum`,error:`Instance does not match any of ${JSON.stringify(g)}.`})),void 0!==v){let t=`${o}/not`;pu(e,v,r,i,n,a,s,t).valid&&er.push({instanceLocation:s,keyword:"not",keywordLocation:t,error:'Instance matched "not" schema.'})}let ei=[];if(void 0!==y){let t=`${o}/anyOf`,u=er.length,d=!1;for(let o=0;o<y.length;o++){let u=y[o],c=Object.create(l),p=pu(e,u,r,i,n,!0===m?a:null,s,`${t}/${o}`,c);er.push(...p.errors),d=d||p.valid,p.valid&&ei.push(c)}d?er.length=u:er.splice(u,0,{instanceLocation:s,keyword:"anyOf",keywordLocation:t,error:"Instance does not match any subschemas."})}if(void 0!==b){let t=`${o}/allOf`,u=er.length,d=!0;for(let o=0;o<b.length;o++){let u=b[o],c=Object.create(l),p=pu(e,u,r,i,n,!0===m?a:null,s,`${t}/${o}`,c);er.push(...p.errors),d=d&&p.valid,p.valid&&ei.push(c)}d?er.length=u:er.splice(u,0,{instanceLocation:s,keyword:"allOf",keywordLocation:t,error:"Instance does not match every subschema."})}if(void 0!==$){let t=`${o}/oneOf`,u=er.length,d=$.filter((o,u)=>{let d=Object.create(l),c=pu(e,o,r,i,n,!0===m?a:null,s,`${t}/${u}`,d);return er.push(...c.errors),c.valid&&ei.push(d),c.valid}).length;1===d?er.length=u:er.splice(u,0,{instanceLocation:s,keyword:"oneOf",keywordLocation:t,error:`Instance does not match exactly one subschema (${d} matches).`})}if(("object"===u||"array"===u)&&Object.assign(l,...ei),void 0!==w){let t=`${o}/if`;if(pu(e,w,r,i,n,a,s,t,l).valid){if(void 0!==x){let u=pu(e,x,r,i,n,a,s,`${o}/then`,l);u.valid||er.push({instanceLocation:s,keyword:"if",keywordLocation:t,error:'Instance does not match "then" schema.'},...u.errors)}}else if(void 0!==k){let u=pu(e,k,r,i,n,a,s,`${o}/else`,l);u.valid||er.push({instanceLocation:s,keyword:"if",keywordLocation:t,error:'Instance does not match "else" schema.'},...u.errors)}}if("object"===u){if(void 0!==_)for(let t of _)t in e||er.push({instanceLocation:s,keyword:"required",keywordLocation:`${o}/required`,error:`Instance does not have required property "${t}".`});let t=Object.keys(e);if(void 0!==A&&t.length<A&&er.push({instanceLocation:s,keyword:"minProperties",keywordLocation:`${o}/minProperties`,error:`Instance does not have at least ${A} properties.`}),void 0!==N&&t.length>N&&er.push({instanceLocation:s,keyword:"maxProperties",keywordLocation:`${o}/maxProperties`,error:`Instance does not have at least ${N} properties.`}),void 0!==j){let t=`${o}/propertyNames`;for(let o in e){let e=`${s}/${c4(o)}`,l=pu(o,j,r,i,n,a,e,t);l.valid||er.push({instanceLocation:s,keyword:"propertyNames",keywordLocation:t,error:`Property name "${o}" does not match schema.`},...l.errors)}}if(void 0!==P){let t=`${o}/dependantRequired`;for(let r in P)if(r in e)for(let i of P[r])i in e||er.push({instanceLocation:s,keyword:"dependentRequired",keywordLocation:t,error:`Instance has "${r}" but does not have "${i}".`})}if(void 0!==C)for(let t in C){let u=`${o}/dependentSchemas`;if(t in e){let o=pu(e,C[t],r,i,n,a,s,`${u}/${c4(t)}`,l);o.valid||er.push({instanceLocation:s,keyword:"dependentSchemas",keywordLocation:u,error:`Instance has "${t}" but does not match dependant schema.`},...o.errors)}}if(void 0!==Z){let t=`${o}/dependencies`;for(let o in Z)if(o in e){let l=Z[o];if(Array.isArray(l))for(let r of l)r in e||er.push({instanceLocation:s,keyword:"dependencies",keywordLocation:t,error:`Instance has "${o}" but does not have "${r}".`});else{let u=pu(e,l,r,i,n,a,s,`${t}/${c4(o)}`);u.valid||er.push({instanceLocation:s,keyword:"dependencies",keywordLocation:t,error:`Instance has "${o}" but does not match dependant schema.`},...u.errors)}}}let u=Object.create(null),d=!1;if(void 0!==S){let t=`${o}/properties`;for(let o in S){if(!(o in e))continue;let c=`${s}/${c4(o)}`,p=pu(e[o],S[o],r,i,n,a,c,`${t}/${c4(o)}`);if(p.valid)l[o]=u[o]=!0;else if(d=n,er.push({instanceLocation:s,keyword:"properties",keywordLocation:t,error:`Property "${o}" does not match schema.`},...p.errors),d)break}}if(!d&&void 0!==O){let t=`${o}/patternProperties`;for(let o in O){let c=RegExp(o,"u"),p=O[o];for(let m in e){if(!c.test(m))continue;let h=`${s}/${c4(m)}`,f=pu(e[m],p,r,i,n,a,h,`${t}/${c4(o)}`);f.valid?l[m]=u[m]=!0:(d=n,er.push({instanceLocation:s,keyword:"patternProperties",keywordLocation:t,error:`Property "${m}" matches pattern "${o}" but does not match associated schema.`},...f.errors))}}}if(d||void 0===E){if(!d&&void 0!==T){let t=`${o}/unevaluatedProperties`;for(let o in e)if(!l[o]){let u=`${s}/${c4(o)}`,d=pu(e[o],T,r,i,n,a,u,t);d.valid?l[o]=!0:er.push({instanceLocation:s,keyword:"unevaluatedProperties",keywordLocation:t,error:`Property "${o}" does not match unevaluated properties schema.`},...d.errors)}}}else{let t=`${o}/additionalProperties`;for(let o in e){if(u[o])continue;let c=`${s}/${c4(o)}`,p=pu(e[o],E,r,i,n,a,c,t);p.valid?l[o]=!0:(d=n,er.push({instanceLocation:s,keyword:"additionalProperties",keywordLocation:t,error:`Property "${o}" does not match additional properties schema.`},...p.errors))}}}else if("array"===u){void 0!==J&&e.length>J&&er.push({instanceLocation:s,keyword:"maxItems",keywordLocation:`${o}/maxItems`,error:`Array has too many items (${e.length} > ${J}).`}),void 0!==B&&e.length<B&&er.push({instanceLocation:s,keyword:"minItems",keywordLocation:`${o}/minItems`,error:`Array has too few items (${e.length} < ${B}).`});let t=e.length,u=0,d=!1;if(void 0!==z){let c=`${o}/prefixItems`,p=Math.min(z.length,t);for(;u<p;u++){let t=pu(e[u],z[u],r,i,n,a,`${s}/${u}`,`${c}/${u}`);if(l[u]=!0,!t.valid&&(d=n,er.push({instanceLocation:s,keyword:"prefixItems",keywordLocation:c,error:"Items did not match schema."},...t.errors),d))break}}if(void 0!==U){let c=`${o}/items`;if(Array.isArray(U)){let o=Math.min(U.length,t);for(;u<o;u++){let t=pu(e[u],U[u],r,i,n,a,`${s}/${u}`,`${c}/${u}`);if(l[u]=!0,!t.valid&&(d=n,er.push({instanceLocation:s,keyword:"items",keywordLocation:c,error:"Items did not match schema."},...t.errors),d))break}}else for(;u<t;u++){let t=pu(e[u],U,r,i,n,a,`${s}/${u}`,c);if(l[u]=!0,!t.valid&&(d=n,er.push({instanceLocation:s,keyword:"items",keywordLocation:c,error:"Items did not match schema."},...t.errors),d))break}if(!d&&void 0!==R){let c=`${o}/additionalItems`;for(;u<t;u++){let t=pu(e[u],R,r,i,n,a,`${s}/${u}`,c);l[u]=!0,t.valid||(d=n,er.push({instanceLocation:s,keyword:"additionalItems",keywordLocation:c,error:"Items did not match additional items schema."},...t.errors))}}}if(void 0!==L)if(0===t&&void 0===M)er.push({instanceLocation:s,keyword:"contains",keywordLocation:`${o}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(void 0!==M&&t<M)er.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array has less items (${t}) than minContains (${M}).`});else{let u=`${o}/contains`,d=er.length,c=0;for(let o=0;o<t;o++){let t=pu(e[o],L,r,i,n,a,`${s}/${o}`,u);t.valid?(l[o]=!0,c++):er.push(...t.errors)}c>=(M||0)&&(er.length=d),void 0===M&&void 0===F&&0===c?er.splice(d,0,{instanceLocation:s,keyword:"contains",keywordLocation:u,error:"Array does not contain item matching schema."}):void 0!==M&&c<M?er.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${o}/minContains`,error:`Array must contain at least ${M} items matching schema. Only ${c} items were found.`}):void 0!==F&&c>F&&er.push({instanceLocation:s,keyword:"maxContains",keywordLocation:`${o}/maxContains`,error:`Array may contain at most ${F} items matching schema. ${c} items were found.`})}if(!d&&void 0!==D){let d=`${o}/unevaluatedItems`;for(;u<t;u++){if(l[u])continue;let t=pu(e[u],D,r,i,n,a,`${s}/${u}`,d);l[u]=!0,t.valid||er.push({instanceLocation:s,keyword:"unevaluatedItems",keywordLocation:d,error:"Items did not match unevaluated items schema."},...t.errors)}}if(W)for(let r=0;r<t;r++){let i=e[r],n="object"==typeof i&&null!==i;for(let a=0;a<t;a++){if(r===a)continue;let t=e[a],l="object"==typeof t&&null!==t;(i===t||n&&l&&c1(i,t))&&(er.push({instanceLocation:s,keyword:"uniqueItems",keywordLocation:`${o}/uniqueItems`,error:`Duplicate items at indexes ${r} and ${a}.`}),r=Number.MAX_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER)}}}else if("number"===u){if("4"===r?(void 0!==V&&(!0===q&&e<=V||e<V)&&er.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${e} is less than ${q?"or equal to ":""} ${V}.`}),void 0!==G&&(!0===K&&e>=G||e>G)&&er.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${e} is greater than ${K?"or equal to ":""} ${G}.`})):(void 0!==V&&e<V&&er.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${o}/minimum`,error:`${e} is less than ${V}.`}),void 0!==G&&e>G&&er.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${o}/maximum`,error:`${e} is greater than ${G}.`}),void 0!==q&&e<=q&&er.push({instanceLocation:s,keyword:"exclusiveMinimum",keywordLocation:`${o}/exclusiveMinimum`,error:`${e} is less than ${q}.`}),void 0!==K&&e>=K&&er.push({instanceLocation:s,keyword:"exclusiveMaximum",keywordLocation:`${o}/exclusiveMaximum`,error:`${e} is greater than or equal to ${K}.`})),void 0!==H){let t=e%H;Math.abs(0-t)>=11920929e-14&&Math.abs(H-t)>=11920929e-14&&er.push({instanceLocation:s,keyword:"multipleOf",keywordLocation:`${o}/multipleOf`,error:`${e} is not a multiple of ${H}.`})}}else if("string"===u){let t=void 0===X&&void 0===Y?0:function(e){let t,r=0,i=e.length,n=0;for(;n<i;)r++,(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<i&&(64512&(t=e.charCodeAt(n)))==56320&&n++;return r}(e);void 0!==X&&t<X&&er.push({instanceLocation:s,keyword:"minLength",keywordLocation:`${o}/minLength`,error:`String is too short (${t} < ${X}).`}),void 0!==Y&&t>Y&&er.push({instanceLocation:s,keyword:"maxLength",keywordLocation:`${o}/maxLength`,error:`String is too long (${t} > ${Y}).`}),void 0===Q||RegExp(Q,"u").test(e)||er.push({instanceLocation:s,keyword:"pattern",keywordLocation:`${o}/pattern`,error:"String does not match pattern."}),void 0!==I&&pr[I]&&!pr[I](e)&&er.push({instanceLocation:s,keyword:"format",keywordLocation:`${o}/format`,error:`String does not match format "${I}".`})}return{valid:0===er.length,errors:er}}(p=v||(v={}))[p.Flag=1]="Flag",p[p.Basic=2]="Basic",p[p.Detailed=4]="Detailed",e.s(["validate",()=>pu],370536);class pd{schema;draft;shortCircuit;lookup;constructor(e,t="2019-09",r=!0){this.schema=e,this.draft=t,this.shortCircuit=r,this.lookup=c3(e)}validate(e){return pu(e,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(e,t){t&&(e={...e,$id:t}),c3(e,this.lookup)}}function pc(e){if(l7(e)){let t=uw(e,!0);return uh(t)?l3(ub(t,!0)):l3(e)}return ue(e)?((e,t)=>{let r,i,n=(i=void 0!==(r="string"==typeof t?{...uT,name:t}:{...uT,...t}).name?[...r.basePath,r.definitionPath,r.name]:r.basePath,{...r,flags:{hasReferencedOpenAiAnyType:!1},currentPath:i,propertyPath:void 0,seen:new Map(Object.entries(r.definitions).map(([e,t])=>[t._def,{def:t._def,path:[...r.basePath,r.definitionPath,e],jsonSchema:void 0}]))}),a="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>({...e,[t]:cY(r._def,{...n,currentPath:[...n.basePath,n.definitionPath,t]},!0)??uN(n)}),{}):void 0,s="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,o=cY(e._def,void 0===s?n:{...n,currentPath:[...n.basePath,n.definitionPath,s]},!1)??uN(n),l="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==l&&(o.title=l),n.flags.hasReferencedOpenAiAnyType&&(a||(a={}),a[n.openAiAnyTypeName]||(a[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===n.$refStrategy?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));let u=void 0===s?a?{...o,[n.definitionPath]:a}:o:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:{...a,[s]:o}};return"jsonSchema7"===n.target?u.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===n.target||"openAi"===n.target)&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===n.target&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u})(e):e}function pp(e){if(!e||"object"!=typeof e||0===Object.keys(e).length||Array.isArray(e))return!1;if("type"in e)return"string"==typeof e.type?"string"===e.type:!!Array.isArray(e.type)&&e.type.every(e=>"string"===e);if("enum"in e)return Array.isArray(e.enum)&&e.enum.length>0&&e.enum.every(e=>"string"==typeof e);if("const"in e)return"string"==typeof e.const;if("allOf"in e&&Array.isArray(e.allOf))return e.allOf.some(e=>pp(e));if("anyOf"in e&&Array.isArray(e.anyOf)||"oneOf"in e&&Array.isArray(e.oneOf)){let t="anyOf"in e?e.anyOf:e.oneOf;return t.length>0&&t.every(e=>pp(e))}if("not"in e)return!1;if("$ref"in e&&"string"==typeof e.$ref){let t=e.$ref,r=c3(e);if(r[t])return pp(r[t])}return!1}e.s([],262144),(0,y.__export)({},{Validator:()=>pd,deepCompareStrict:()=>c1,toJsonSchema:()=>pc,validatesOnlyStrings:()=>pp}),e.s(["toJsonSchema",()=>pc,"validatesOnlyStrings",()=>pp],785337);var ec=ec,pm=e.i(590629),pm=pm;(0,y.__export)({},{Graph:()=>ph});var ph=class e{nodes={};edges=[];constructor(e){this.nodes=e?.nodes??this.nodes,this.edges=e?.edges??this.edges}toJSON(){let e={};return Object.values(this.nodes).forEach((t,r)=>{e[t.id]=(0,pm.default)(t.id)?r:t.id}),{nodes:Object.values(this.nodes).map(t=>({id:e[t.id],...rK(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...pc(t.data.schema),title:t.data.name}}})),edges:this.edges.map(t=>{let r={source:e[t.source],target:e[t.target]};return void 0!==t.data&&(r.data=t.data),void 0!==t.conditional&&(r.conditional=t.conditional),r})}}addNode(e,t,r){if(void 0!==t&&void 0!==this.nodes[t])throw Error(`Node with id ${t} already exists`);let i=t??(0,ec.default)(),n={id:i,data:e,name:function(e,t){if(void 0!==e&&!(0,pm.default)(e))return e;if(!rK(t))return t.name??"UnknownSchema";try{let e=t.getName();return e=e.startsWith("Runnable")?e.slice(8):e}catch{return t.getName()}}(t,e),metadata:r};return this.nodes[i]=n,n}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(t=>t.source!==e.id&&t.target!==e.id)}addEdge(e,t,r,i){if(void 0===this.nodes[e.id])throw Error(`Source node ${e.id} not in graph`);if(void 0===this.nodes[t.id])throw Error(`Target node ${t.id} not in graph`);let n={source:e.id,target:t.id,data:r,conditional:i};return this.edges.push(n),n}firstNode(){return pf(this)}lastNode(){return pg(this)}extend(e,t=""){let r=t;Object.values(e.nodes).map(e=>e.id).every(pm.default)&&(r="");let i=e=>r?`${r}:${e}`:e;Object.entries(e.nodes).forEach(([e,t])=>{this.nodes[i(e)]={...t,id:i(e)}});let n=e.edges.map(e=>({...e,source:i(e.source),target:i(e.target)}));this.edges=[...this.edges,...n];let a=e.firstNode(),s=e.lastNode();return[a?{id:i(a.id),data:a.data}:void 0,s?{id:i(s.id),data:s.data}:void 0]}trimFirstNode(){let e=this.firstNode();e&&pf(this,[e.id])&&this.removeNode(e)}trimLastNode(){let e=this.lastNode();e&&pg(this,[e.id])&&this.removeNode(e)}reid(){let t=Object.fromEntries(Object.values(this.nodes).map(e=>[e.id,e.name])),r=new Map;Object.values(t).forEach(e=>{r.set(e,(r.get(e)||0)+1)});let i=e=>{let i=t[e];return(0,pm.default)(e)&&1===r.get(i)?i:e};return new e({nodes:Object.fromEntries(Object.entries(this.nodes).map(([e,t])=>[i(e),{...t,id:i(e)}])),edges:this.edges.map(e=>({...e,source:i(e.source),target:i(e.target)}))})}drawMermaid(e){let{withStyles:t,curveStyle:r,nodeColors:i={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:n}=e??{},a=this.reid(),s=a.firstNode(),o=a.lastNode();return function(e,t,r){let{firstNode:i,lastNode:n,nodeColors:a,withStyles:s=!0,curveStyle:o="linear",wrapLabelNWords:l=9}=r??{},u=s?`%%{init: {'flowchart': {'curve': '${o}'}}}%%
graph TD;
`:"graph TD;\n";if(s){let t="default",r={[t]:"{0}({1})"};for(let[a,s]of(void 0!==i&&(r[i]="{0}([{1}]):::first"),void 0!==n&&(r[n]="{0}([{1}]):::last"),Object.entries(e))){let e=s.name.split(":").pop()??"",i=uS.some(t=>e.startsWith(t)&&e.endsWith(t))?`<p>${e}</p>`:e;Object.keys(s.metadata??{}).length&&(i+=`<hr/><small><em>${Object.entries(s.metadata??{}).map(([e,t])=>`${e} = ${t}`).join("\n")}</em></small>`);let n=(r[a]??r[t]).replace("{0}",uI(a)).replace("{1}",i);u+=`	${n}
`}}let d={};for(let e of t){let t=e.source.split(":"),r=e.target.split(":"),i=t.filter((e,t)=>e===r[t]).join(":");d[i]||(d[i]=[]),d[i].push(e)}let c=new Set;function p(e,t){let r=1===e.length&&e[0].source===e[0].target;if(t&&!r){let e=t.split(":").pop();if(c.has(e))throw Error(`Found duplicate subgraph '${e}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);c.add(e),u+=`	subgraph ${e}
`}for(let t of e){let{source:e,target:r,data:i,conditional:n}=t,a="";if(void 0!==i){let e=i,t=e.split(" ");t.length>l&&(e=Array.from({length:Math.ceil(t.length/l)},(e,r)=>t.slice(r*l,(r+1)*l).join(" ")).join("&nbsp;<br>&nbsp;")),a=n?` -. &nbsp;${e}&nbsp; .-> `:` -- &nbsp;${e}&nbsp; --> `}else a=n?" -.-> ":" --> ";u+=`	${uI(e)}${a}${uI(r)};
`}for(let e in d)e.startsWith(`${t}:`)&&e!==t&&p(d[e],e);t&&!r&&(u+="	end\n")}for(let e in p(d[""]??[],""),d)e.includes(":")||""===e||p(d[e],e);return s&&(u+=function(e){let t="";for(let[r,i]of Object.entries(e))t+=`	classDef ${r} ${i};
`;return t}(a??{})),u}(a.nodes,a.edges,{firstNode:s?.id,lastNode:o?.id,withStyles:t,curveStyle:r,nodeColors:i,wrapLabelNWords:n})}async drawMermaidPng(e){return uO(this.drawMermaid(e),{backgroundColor:e?.backgroundColor})}};function pf(e,t=[]){let r=new Set(e.edges.filter(e=>!t.includes(e.source)).map(e=>e.target)),i=[];for(let n of Object.values(e.nodes))t.includes(n.id)||r.has(n.id)||i.push(n);return 1===i.length?i[0]:void 0}function pg(e,t=[]){let r=new Set(e.edges.filter(e=>!t.includes(e.target)).map(e=>e.source)),i=[];for(let n of Object.values(e.nodes))t.includes(n.id)||r.has(n.id)||i.push(n);return 1===i.length?i[0]:void 0}function p_(e){return"object"==typeof e&&null!==e&&"function"==typeof e[Symbol.iterator]&&"function"==typeof e.next}function pv(e){return"object"==typeof e&&null!==e&&"function"==typeof e[Symbol.asyncIterator]}function*py(e,t){for(;;){let{value:r,done:i}=t5.runWithConfig(rr(e),t.next.bind(t),!0);if(i)break;yield r}}async function*pb(e,t){let r=t[Symbol.asyncIterator]();for(;;){let{value:i,done:n}=await t5.runWithConfig(rr(e),r.next.bind(t),!0);if(n)break;yield i}}var p$=cA;e.s(["z",0,p$],827599);var p$=cA,ec=ec;function pw(e,t){return!e||Array.isArray(e)||e instanceof Date||"object"!=typeof e?{[t]:e}:e}var px=class extends Q.Serializable{lc_runnable=!0;name;getName(e){let t=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${t}${e}`:t}withRetry(e){return new pS({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new pk({bound:this,config:e,kwargs:{}})}withFallbacks(e){return new pj({runnable:this,fallbacks:Array.isArray(e)?e:e.fallbacks})}_getOptionsList(e,t=0){if(Array.isArray(e)&&e.length!==t)throw Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);if(Array.isArray(e))return e.map(re);if(t>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");let r=Object.fromEntries(Object.entries(e).filter(([e])=>"runId"!==e));return Array.from({length:t},(t,i)=>re(0===i?e:r))}return Array.from({length:t},()=>re(e))}async batch(e,t,r){let i=this._getOptionsList(t??{},e.length),n=new rG({maxConcurrency:i[0]?.maxConcurrency??r?.maxConcurrency,onFailedAttempt:e=>{throw e}});return Promise.all(e.map((e,t)=>n.call(async()=>{try{return await this.invoke(e,i[t])}catch(e){if(r?.returnExceptions)return e;throw e}})))}async *_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){let r=re(t),i=new rl({generator:this._streamIterator(e,r),config:r});return await i.setup,ra.fromAsyncGenerator(i)}_separateRunnableConfigFromCallOptions(e){let t;t=void 0===e?re(e):re({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});let r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[t,r]}async _callWithConfig(e,t,r){let i,n=re(r),a=await t3(n),s=await a?.handleChainStart(this.toJSON(),pw(t,"input"),n.runId,n?.runType,void 0,void 0,n?.runName??this.getName());delete n.runId;try{let a=e.call(this,t,n,s);i=await ri(a,r?.signal)}catch(e){throw await s?.handleChainError(e),e}return await s?.handleChainEnd(pw(i,"output")),i}async _batchWithConfig(e,t,r,i){let n,a=this._getOptionsList(r??{},t.length),s=await Promise.all(a.map(t3)),o=await Promise.all(s.map(async(e,r)=>{let i=await e?.handleChainStart(this.toJSON(),pw(t[r],"input"),a[r].runId,a[r].runType,void 0,void 0,a[r].runName??this.getName());return delete a[r].runId,i}));try{let r=e.call(this,t,a,o,i);n=await ri(r,a?.[0]?.signal)}catch(e){throw await Promise.all(o.map(t=>t?.handleChainError(e))),e}return await Promise.all(o.map(e=>e?.handleChainEnd(pw(n,"output")))),n}_concatOutputChunks(e,t){return ro(e,t)}async *_transformStreamWithConfig(e,t,r){let i,n,a,s=!0,o=!0,l=re(r),u=await t3(l),d=this;async function*c(){for await(let t of e){if(s)if(void 0===i)i=t;else try{i=d._concatOutputChunks(i,t)}catch{i=void 0,s=!1}yield t}}try{let e=await ru(t.bind(this),c(),async()=>u?.handleChainStart(this.toJSON(),{input:""},l.runId,l.runType,void 0,void 0,l.runName??this.getName()),r?.signal,l);delete l.runId,a=e.setup;let i=a?.handlers.find(rF),s=e.output;void 0!==i&&void 0!==a&&(s=i.tapOutputIterable(a.runId,s));let d=a?.handlers.find(rC);for await(let e of(void 0!==d&&void 0!==a&&(s=d.tapOutputIterable(a.runId,s)),s))if(yield e,o)if(void 0===n)n=e;else try{n=this._concatOutputChunks(n,e)}catch{n=void 0,o=!1}}catch(e){throw await a?.handleChainError(e,void 0,void 0,void 0,{inputs:pw(i,"input")}),e}await a?.handleChainEnd(n??{},void 0,void 0,void 0,{inputs:pw(i,"input")})}getGraph(e){let t=new ph,r=t.addNode({name:`${this.getName()}Input`,schema:p$.any()}),i=t.addNode(this),n=t.addNode({name:`${this.getName()}Output`,schema:p$.any()});return t.addEdge(r,i),t.addEdge(i,n),t}pipe(e){return new pO({first:this,last:pP(e)})}pick(e){return this.pipe(new pZ(e))}assign(e){return this.pipe(new pC(new pE({steps:e})))}async *transform(e,t){let r;for await(let t of e)r=void 0===r?t:this._concatOutputChunks(r,t);yield*this._streamIterator(r,re(t))}async *streamLog(e,t,r){let i=new rU({...r,autoClose:!1,_schemaFormat:"original"}),n=re(t);yield*this._streamLog(e,i,n)}async *_streamLog(e,t,r){let{callbacks:i}=r;if(void 0===i)r.callbacks=[t];else if(Array.isArray(i))r.callbacks=i.concat([t]);else{let e=i.copy();e.addHandler(t,!0),r.callbacks=e}let n=this.stream(e,r),a=async function(){try{for await(let e of(await n)){let r=new rj({ops:[{op:"add",path:"/streamed_output/-",value:e}]});await t.writer.write(r)}}finally{await t.writer.close()}}();try{for await(let e of t)yield e}finally{await a}}streamEvents(e,t,r){var i;let n,a,s;if("v1"===t.version)n=this._streamEventsV1(e,t,r);else if("v2"===t.version)n=this._streamEventsV2(e,t,r);else throw Error('Only versions "v1" and "v2" of the schema are currently supported.');if("text/event-stream"!==t.encoding)return ra.fromAsyncGenerator(n);return i=n,a=new TextEncoder,s=new ReadableStream({async start(e){for await(let t of i)e.enqueue(a.encode(`event: data
data: ${JSON.stringify(t)}

`));e.enqueue(a.encode("event: end\n\n")),e.close()}}),ra.fromReadableStream(s)}async *_streamEventsV2(e,t,r){let i,n=new rB({...r,autoClose:!1}),a=re(t),s=a.runId??(0,ec.default)();a.runId=s;let o=a.callbacks;if(void 0===o)a.callbacks=[n];else if(Array.isArray(o))a.callbacks=o.concat(n);else{let e=o.copy();e.addHandler(n,!0),a.callbacks=e}let l=new AbortController,u=this,d=async function(){let r,i=null;try{t?.signal?"any"in AbortSignal?r=AbortSignal.any([l.signal,t.signal]):(r=t.signal,i=()=>{l.abort()},t.signal.addEventListener("abort",i,{once:!0})):r=l.signal;let o=await u.stream(e,{...a,signal:r});for await(let e of n.tapOutputIterable(s,o))if(l.signal.aborted)break}finally{await n.finish(),r&&i&&r.removeEventListener("abort",i)}}(),c=!1;try{for await(let t of n){if(!c){t.data.input=e,c=!0,i=t.run_id,yield t;continue}t.run_id===i&&t.event.endsWith("_end")&&t.data?.input&&delete t.data.input,yield t}}finally{l.abort(),await d}}async *_streamEventsV1(e,t,r){let i,n=!1,a=re(t),s=a.tags??[],o=a.metadata??{},l=a.runName??this.getName(),u=new rU({...r,autoClose:!1,_schemaFormat:"streaming_events"}),d=new rH({...r});for await(let t of this._streamLog(e,u,a)){if(void 0===(i=i?i.concat(t):rP.fromRunLogPatch(t)).state)throw Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!n){n=!0;let t={...i.state},r={run_id:t.id,event:`on_${t.type}_start`,name:l,tags:s,metadata:o,data:{input:e}};d.includeEvent(r,t.type)&&(yield r)}for(let e of[...new Set(t.ops.filter(e=>e.path.startsWith("/logs/")).map(e=>e.path.split("/")[2]))]){let t,r={},n=i.state.logs[e];if("start"==(t=void 0===n.end_time?n.streamed_output.length>0?"stream":"start":"end"))void 0!==n.inputs&&(r.input=n.inputs);else if("end"===t)void 0!==n.inputs&&(r.input=n.inputs),r.output=n.final_output;else if("stream"===t){let e=n.streamed_output.length;if(1!==e)throw Error(`Expected exactly one chunk of streamed output, got ${e} instead. Encountered in: "${n.name}"`);r={chunk:n.streamed_output[0]},n.streamed_output=[]}yield{event:`on_${n.type}_${t}`,name:n.name,run_id:n.id,tags:n.tags,metadata:n.metadata,data:r}}let{state:r}=i;if(r.streamed_output.length>0){let e=r.streamed_output.length;if(1!==e)throw Error(`Expected exactly one chunk of streamed output, got ${e} instead. Encountered in: "${r.name}"`);let t={chunk:r.streamed_output[0]};r.streamed_output=[];let i={event:`on_${r.type}_stream`,run_id:r.id,tags:s,metadata:o,name:l,data:t};d.includeEvent(i,r.type)&&(yield i)}}let c=i?.state;if(void 0!==c){let e={event:`on_${c.type}_end`,name:l,run_id:c.id,tags:s,metadata:o,data:{output:c.final_output}};d.includeEvent(e,c.type)&&(yield e)}}static isRunnable(e){return rK(e)}withListeners({onStart:e,onEnd:t,onError:r}){return new pk({bound:this,config:{},configFactories:[i=>({callbacks:[new rq({config:i,onStart:e,onEnd:t,onError:r})]})]})}asTool(e){var t,r;let i,n;return t=this,i=(r=e).name??t.getName(),n=r.description??ud(r.schema),new pz(up(r.schema)?{name:i,description:n,schema:p$.object({input:p$.string()}).transform(e=>e.input),bound:t}:{name:i,description:n,schema:r.schema,bound:t})}},pk=class e extends px{static lc_name(){return"RunnableBinding"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;bound;config;kwargs;configFactories;constructor(e){super(e),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){let t=t8(this.config,...e);return t8(t,...this.configFactories?await Promise.all(this.configFactories.map(async e=>await e(t))):[])}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new pS({bound:this.bound,kwargs:this.kwargs,config:this.config,maxAttemptNumber:e?.stopAfterAttempt,...e})}async invoke(e,t){return this.bound.invoke(e,await this._mergeConfig(t,this.kwargs))}async batch(e,t,r){let i=Array.isArray(t)?await Promise.all(t.map(async e=>this._mergeConfig(re(e),this.kwargs))):await this._mergeConfig(re(t),this.kwargs);return this.bound.batch(e,i,r)}_concatOutputChunks(e,t){return this.bound._concatOutputChunks(e,t)}async *_streamIterator(e,t){yield*this.bound._streamIterator(e,await this._mergeConfig(re(t),this.kwargs))}async stream(e,t){return this.bound.stream(e,await this._mergeConfig(re(t),this.kwargs))}async *transform(e,t){yield*this.bound.transform(e,await this._mergeConfig(re(t),this.kwargs))}streamEvents(e,t,r){let i=this,n=async function*(){yield*i.bound.streamEvents(e,{...await i._mergeConfig(re(t),i.kwargs),version:t.version},r)};return ra.fromAsyncGenerator(n())}static isRunnableBinding(e){return e.bound&&px.isRunnable(e.bound)}withListeners({onStart:t,onEnd:r,onError:i}){return new e({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[e=>({callbacks:[new rq({config:e,onStart:t,onEnd:r,onError:i})]})]})}},pI=class e extends px{static lc_name(){return"RunnableEach"}lc_serializable=!0;lc_namespace=["langchain_core","runnables"];bound;constructor(e){super(e),this.bound=e.bound}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async _invoke(e,t,r){return this.bound.batch(e,rt(t,{callbacks:r?.getChild()}))}withListeners({onStart:t,onEnd:r,onError:i}){return new e({bound:this.bound.withListeners({onStart:t,onEnd:r,onError:i})})}},pS=class extends pk{static lc_name(){return"RunnableRetry"}lc_namespace=["langchain_core","runnables"];maxAttemptNumber=3;onFailedAttempt=()=>{};constructor(e){super(e),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,r){let i=e>1?`retry:attempt:${e}`:void 0;return rt(t,{callbacks:r?.getChild(i)})}async _invoke(e,t,r){return(0,rJ.default)(i=>super.invoke(e,this._patchConfigForRetry(i,t,r)),{onFailedAttempt:({error:t})=>this.onFailedAttempt(t,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async _batch(e,t,r,i){let n={};try{await (0,rJ.default)(async a=>{let s,o=e.map((e,t)=>t).filter(e=>void 0===n[e.toString()]||n[e.toString()]instanceof Error),l=o.map(t=>e[t]),u=o.map(e=>this._patchConfigForRetry(a,t?.[e],r?.[e])),d=await super.batch(l,u,{...i,returnExceptions:!0});for(let e=0;e<d.length;e+=1){let t=d[e],r=o[e];t instanceof Error&&void 0===s&&((s=t).input=l[e]),n[r.toString()]=t}if(s)throw s;return d},{onFailedAttempt:({error:e})=>this.onFailedAttempt(e,e.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(e){if(i?.returnExceptions!==!0)throw e}return Object.keys(n).sort((e,t)=>parseInt(e,10)-parseInt(t,10)).map(e=>n[parseInt(e,10)])}async batch(e,t,r){return this._batchWithConfig(this._batch.bind(this),e,t,r)}},pO=class e extends px{static lc_name(){return"RunnableSequence"}first;middle=[];last;omitSequenceTags=!1;lc_serializable=!0;lc_namespace=["langchain_core","runnables"];constructor(e){super(e),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name,this.omitSequenceTags=e.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,t){let r,i=re(t),n=await t3(i),a=await n?.handleChainStart(this.toJSON(),pw(e,"input"),i.runId,void 0,void 0,void 0,i?.runName);delete i.runId;let s=e;try{let e=[this.first,...this.middle];for(let r=0;r<e.length;r+=1){let n=e[r].invoke(s,rt(i,{callbacks:a?.getChild(this.omitSequenceTags?void 0:`seq:step:${r+1}`)}));s=await ri(n,t?.signal)}if(t?.signal?.aborted)throw rn(t.signal);r=await this.last.invoke(s,rt(i,{callbacks:a?.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(e){throw await a?.handleChainError(e),e}return await a?.handleChainEnd(pw(r,"output")),r}async batch(e,t,r){let i=this._getOptionsList(t??{},e.length),n=await Promise.all(i.map(t3)),a=await Promise.all(n.map(async(t,r)=>{let n=await t?.handleChainStart(this.toJSON(),pw(e[r],"input"),i[r].runId,void 0,void 0,void 0,i[r].runName);return delete i[r].runId,n})),s=e;try{for(let e=0;e<this.steps.length;e+=1){let t=this.steps[e].batch(s,a.map((t,r)=>{let n=t?.getChild(this.omitSequenceTags?void 0:`seq:step:${e+1}`);return rt(i[r],{callbacks:n})}),r);s=await ri(t,i[0]?.signal)}}catch(e){throw await Promise.all(a.map(t=>t?.handleChainError(e))),e}return await Promise.all(a.map(e=>e?.handleChainEnd(pw(s,"output")))),s}_concatOutputChunks(e,t){return this.last._concatOutputChunks(e,t)}async *_streamIterator(e,t){let r,i=await t3(t),{runId:n,...a}=t??{},s=await i?.handleChainStart(this.toJSON(),pw(e,"input"),n,void 0,void 0,void 0,a?.runName),o=[this.first,...this.middle,this.last],l=!0;async function*u(){yield e}try{let e=o[0].transform(u(),rt(a,{callbacks:s?.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let t=1;t<o.length;t+=1){let r=o[t];e=await r.transform(e,rt(a,{callbacks:s?.getChild(this.omitSequenceTags?void 0:`seq:step:${t+1}`)}))}for await(let i of e)if(t?.signal?.throwIfAborted(),yield i,l)if(void 0===r)r=i;else try{r=this._concatOutputChunks(r,i)}catch{r=void 0,l=!1}}catch(e){throw await s?.handleChainError(e),e}await s?.handleChainEnd(pw(r,"output"))}getGraph(e){let t=new ph,r=null;return this.steps.forEach((i,n)=>{let a=i.getGraph(e);0!==n&&a.trimFirstNode(),n!==this.steps.length-1&&a.trimLastNode(),t.extend(a);let s=a.firstNode();if(!s)throw Error(`Runnable ${i} has no first node`);r&&t.addEdge(r,s),r=a.lastNode()}),t}pipe(t){return new e(e.isRunnableSequence(t)?{first:this.first,middle:this.middle.concat([this.last,t.first,...t.middle]),last:t.last,name:this.name??t.name}:{first:this.first,middle:[...this.middle,this.last],last:pP(t),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&px.isRunnable(e)}static from([t,...r],i){let n={};return"string"==typeof i?n.name=i:void 0!==i&&(n=i),new e({...n,first:pP(t),middle:r.slice(0,-1).map(pP),last:pP(r[r.length-1])})}},pE=class e extends px{static lc_name(){return"RunnableMap"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;steps;getStepsKeys(){return Object.keys(this.steps)}constructor(e){for(const[t,r]of(super(e),this.steps={},Object.entries(e.steps)))this.steps[t]=pP(r)}static from(t){return new e({steps:t})}async invoke(e,t){let r=re(t),i=await t3(r),n=await i?.handleChainStart(this.toJSON(),{input:e},r.runId,void 0,void 0,void 0,r?.runName);delete r.runId;let a={};try{let i=Object.entries(this.steps).map(async([t,i])=>{a[t]=await i.invoke(e,rt(r,{callbacks:n?.getChild(`map:key:${t}`)}))});await ri(Promise.all(i),t?.signal)}catch(e){throw await n?.handleChainError(e),e}return await n?.handleChainEnd(a),a}async *_transform(e,t,r){let i={...this.steps},n=rs(e,Object.keys(i).length),a=new Map(Object.entries(i).map(([e,i],a)=>{let s=i.transform(n[a],rt(r,{callbacks:t?.getChild(`map:key:${e}`)}));return[e,s.next().then(t=>({key:e,gen:s,result:t}))]}));for(;a.size;){let e=Promise.race(a.values()),{key:t,result:i,gen:n}=await ri(e,r?.signal);a.delete(t),i.done||(yield{[t]:i.value},a.set(t,n.next().then(e=>({key:t,gen:n,result:e}))))}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}let i=re(t),n=new rl({generator:this.transform(r(),i),config:i});return await n.setup,ra.fromAsyncGenerator(n)}},pT=class e extends px{lc_serializable=!1;lc_namespace=["langchain_core","runnables"];func;constructor(e){if(super(e),!tF(e.func))throw Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,t){let[r]=this._getOptionsList(t??{},1),i=await t3(r);return ri(this.func(rt(r,{callbacks:i}),e),r?.signal)}async *_streamIterator(e,t){let[r]=this._getOptionsList(t??{},1),i=await this.invoke(e,t);if(pv(i)){for await(let e of i)r?.signal?.throwIfAborted(),yield e;return}if(null!=i&&"object"==typeof i&&"next"in i&&"function"==typeof i.next){for(;;){r?.signal?.throwIfAborted();let e=i.next();if(e.done)break;yield e.value}return}yield i}static from(t){return new e({func:t})}},pA=class e extends px{static lc_name(){return"RunnableLambda"}lc_namespace=["langchain_core","runnables"];func;constructor(e){if(tF(e.func))return pT.from(e.func);if(super(e),tF(e.func))throw Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.");this.func=e.func}static from(t){return new e({func:t})}async _invoke(e,t,r){return new Promise((i,n)=>{let a=rt(t,{callbacks:r?.getChild(),recursionLimit:(t?.recursionLimit??25)-1});t5.runWithConfig(rr(a),async()=>{try{let r=await this.func(e,{...a});if(r&&px.isRunnable(r)){if(t?.recursionLimit===0)throw Error("Recursion limit reached.");r=await r.invoke(e,{...a,recursionLimit:(a.recursionLimit??25)-1})}else if(pv(r)){let e;for await(let i of pb(a,r))if(t?.signal?.throwIfAborted(),void 0===e)e=i;else try{e=this._concatOutputChunks(e,i)}catch{e=i}r=e}else if(p_(r)){let e;for(let i of py(a,r))if(t?.signal?.throwIfAborted(),void 0===e)e=i;else try{e=this._concatOutputChunks(e,i)}catch{e=i}r=e}i(r)}catch(e){n(e)}})})}async invoke(e,t){return this._callWithConfig(this._invoke.bind(this),e,t)}async *_transform(e,t,r){let i;for await(let t of e)if(void 0===i)i=t;else try{i=this._concatOutputChunks(i,t)}catch{i=t}let n=rt(r,{callbacks:t?.getChild(),recursionLimit:(r?.recursionLimit??25)-1}),a=await new Promise((e,t)=>{t5.runWithConfig(rr(n),async()=>{try{let t=await this.func(i,{...n,config:n});e(t)}catch(e){t(e)}})});if(a&&px.isRunnable(a)){if(r?.recursionLimit===0)throw Error("Recursion limit reached.");for await(let e of(await a.stream(i,n)))yield e}else if(pv(a))for await(let e of pb(n,a))r?.signal?.throwIfAborted(),yield e;else if(p_(a))for(let e of py(n,a))r?.signal?.throwIfAborted(),yield e;else yield a}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}let i=re(t),n=new rl({generator:this.transform(r(),i),config:i});return await n.setup,ra.fromAsyncGenerator(n)}},pN=class extends pE{},pj=class extends px{static lc_name(){return"RunnableWithFallbacks"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnable;fallbacks;constructor(e){super(e),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){for(let e of(yield this.runnable,this.fallbacks))yield e}async invoke(e,t){let r=re(t),i=await t3(r),{runId:n,...a}=r,s=await i?.handleChainStart(this.toJSON(),pw(e,"input"),n,void 0,void 0,void 0,a?.runName),o=rt(a,{callbacks:s?.getChild()});return await t5.runWithConfig(o,async()=>{let t;for(let i of this.runnables()){r?.signal?.throwIfAborted();try{let t=await i.invoke(e,o);return await s?.handleChainEnd(pw(t,"output")),t}catch(e){void 0===t&&(t=e)}}if(void 0===t)throw Error("No error stored at end of fallback.");throw await s?.handleChainError(t),t})}async *_streamIterator(e,t){let r,i,n,a=re(t),s=await t3(a),{runId:o,...l}=a,u=await s?.handleChainStart(this.toJSON(),pw(e,"input"),o,void 0,void 0,void 0,l?.runName);for(let t of this.runnables()){a?.signal?.throwIfAborted();let n=rt(l,{callbacks:u?.getChild()});try{let r=await t.stream(e,n);i=pb(n,r);break}catch(e){void 0===r&&(r=e)}}if(void 0===i){let e=r??Error("No error stored at end of fallback.");throw await u?.handleChainError(e),e}try{for await(let e of i){yield e;try{n=void 0===n?n:this._concatOutputChunks(n,e)}catch{n=void 0}}}catch(e){throw await u?.handleChainError(e),e}await u?.handleChainEnd(pw(n,"output"))}async batch(e,t,r){let i;if(r?.returnExceptions)throw Error("Not implemented.");let n=this._getOptionsList(t??{},e.length),a=await Promise.all(n.map(e=>t3(e))),s=await Promise.all(a.map(async(t,r)=>{let i=await t?.handleChainStart(this.toJSON(),pw(e[r],"input"),n[r].runId,void 0,void 0,void 0,n[r].runName);return delete n[r].runId,i}));for(let t of this.runnables()){n[0].signal?.throwIfAborted();try{let i=await t.batch(e,s.map((e,t)=>rt(n[t],{callbacks:e?.getChild()})),r);return await Promise.all(s.map((e,t)=>e?.handleChainEnd(pw(i[t],"output")))),i}catch(e){void 0===i&&(i=e)}}if(!i)throw Error("No error stored at end of fallbacks.");throw await Promise.all(s.map(e=>e?.handleChainError(i))),i}};function pP(e){if("function"==typeof e)return new pA({func:e});if(px.isRunnable(e))return e;if(Array.isArray(e)||"object"!=typeof e)throw Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`);{let t={};for(let[r,i]of Object.entries(e))t[r]=pP(i);return new pE({steps:t})}}var pC=class extends px{static lc_name(){return"RunnableAssign"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;mapper;constructor(e){e instanceof pE&&(e={mapper:e}),super(e),this.mapper=e.mapper}async invoke(e,t){let r=await this.mapper.invoke(e,t);return{...e,...r}}async *_transform(e,t,r){let i=this.mapper.getStepsKeys(),[n,a]=rs(e),s=this.mapper.transform(a,rt(r,{callbacks:t?.getChild()})),o=s.next();for await(let e of n){if("object"!=typeof e||Array.isArray(e))throw Error(`RunnableAssign can only be used with objects as input, got ${typeof e}`);let t=Object.fromEntries(Object.entries(e).filter(([e])=>!i.includes(e)));Object.keys(t).length>0&&(yield t)}for await(let e of(yield(await o).value,s))yield e}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}let i=re(t),n=new rl({generator:this.transform(r(),i),config:i});return await n.setup,ra.fromAsyncGenerator(n)}},pZ=class extends px{static lc_name(){return"RunnablePick"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;keys;constructor(e){("string"==typeof e||Array.isArray(e))&&(e={keys:e}),super(e),this.keys=e.keys}async _pick(e){if("string"==typeof this.keys)return e[this.keys];{let t=this.keys.map(t=>[t,e[t]]).filter(e=>void 0!==e[1]);return 0===t.length?void 0:Object.fromEntries(t)}}async invoke(e,t){return this._callWithConfig(this._pick.bind(this),e,t)}async *_transform(e){for await(let t of e){let e=await this._pick(t);void 0!==e&&(yield e)}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){async function*r(){yield e}let i=re(t),n=new rl({generator:this.transform(r(),i),config:i});return await n.setup,ra.fromAsyncGenerator(n)}},pz=class extends pk{name;description;schema;constructor(e){super({bound:pO.from([pA.from(async e=>{let t;if(M(e))try{t=await uo(this.schema,e.args)}catch{throw new B("Received tool input did not match expected schema",JSON.stringify(e.args))}else t=e;return t}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name}),config:e.config??{}}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}};e.s(["Runnable",()=>px,"RunnableAssign",()=>pC,"RunnableBinding",()=>pk,"RunnableEach",()=>pI,"RunnableLambda",()=>pA,"RunnableMap",()=>pE,"RunnableParallel",()=>pN,"RunnablePick",()=>pZ,"RunnableRetry",()=>pS,"RunnableSequence",()=>pO,"RunnableToolLike",()=>pz,"RunnableWithFallbacks",()=>pj,"_coerceToDict",()=>pw,"_coerceToRunnable",()=>pP],420204);let pU=(e,t)=>{let r=[...new Set(t?.map(e=>{if("string"==typeof e)return e;let t=new e({});if(!("getType"in t)||"function"!=typeof t.getType)throw Error("Invalid type provided.");return t.getType()}))],i=e.getType();return r.some(e=>e===i)};function pR(e,t){return Array.isArray(e)?pD(e,t):pA.from(t=>pD(t,e))}function pD(e,t={}){let{includeNames:r,excludeNames:i,includeTypes:n,excludeTypes:a,includeIds:s,excludeIds:o}=t,l=[];for(let t of e)if(!(i&&t.name&&i.includes(t.name))){if(a&&pU(t,a))continue;if(o&&t.id&&o.includes(t.id))continue;n||s||r?r&&t.name&&r.some(e=>e===t.name)||n&&pU(t,n)?l.push(t):s&&t.id&&s.some(e=>e===t.id)&&l.push(t):l.push(t)}return l}function pL(e){return Array.isArray(e)?pM(e):pA.from(pM)}function pM(e){if(!e.length)return[];let t=[];for(let r of e){let e=t.pop();if(e)if("tool"===r.getType()||r.getType()!==e.getType())t.push(e,r);else{let i=Y(e),n=Y(r),a=i.concat(n);"string"==typeof i.content&&"string"==typeof n.content&&(a.content=`${i.content}
${n.content}`),t.push(function(e){let t,r=e.getType(),i=Object.fromEntries(Object.entries(e).filter(([e])=>!["type","tool_call_chunks"].includes(e)&&!e.startsWith("lc_")));if(r in pV&&(t=pG(r,i)),!t)throw Error(`Unrecognized message chunk class ${r}. Supported classes are ${Object.keys(pV)}`);return t}(a))}else t.push(r)}return t}function pF(e,t){if(!Array.isArray(e))return pA.from(t=>pB(t,e)).withConfig({runName:"trim_messages"});if(!t)throw Error("Options parameter is required when providing messages.");return pB(e,t)}async function pB(e,t){let r,{maxTokens:i,tokenCounter:n,strategy:a="last",allowPartial:s=!1,endOn:o,startOn:l,includeSystem:u=!1,textSplitter:d}=t;if(l&&"first"===a)throw Error("`startOn` should only be specified if `strategy` is 'last'.");if(u&&"first"===a)throw Error("`includeSystem` should only be specified if `strategy` is 'last'.");r="getNumTokens"in n?async e=>(await Promise.all(e.map(e=>n.getNumTokens(e.content)))).reduce((e,t)=>e+t,0):async e=>n(e);let c=pq;if(d&&(c="splitText"in d?d.splitText:async e=>d(e)),"first"===a)return pJ(e,{maxTokens:i,tokenCounter:r,textSplitter:c,partialStrategy:s?"first":void 0,endOn:o});if("last"===a)return pW(e,{maxTokens:i,tokenCounter:r,textSplitter:c,allowPartial:s,includeSystem:u,startOn:l,endOn:o});throw Error(`Unrecognized strategy: '${a}'. Must be one of 'first' or 'last'.`)}async function pJ(e,t){let{maxTokens:r,tokenCounter:i,textSplitter:n,partialStrategy:a,endOn:s}=t,o=[...e],l=0;for(let e=0;e<o.length;e+=1){let t=e>0?o.slice(0,-e):o;if(await i(t)<=r){l=o.length-e;break}}if(l<o.length&&a){let e=!1;if(Array.isArray(o[l].content)){let t=o[l];if("string"==typeof t.content)throw Error("Expected content to be an array.");let n=t.content.length,s="last"===a?[...t.content].reverse():t.content;for(let u=1;u<=n;u+=1){let n="first"===a?s.slice(0,u):s.slice(-u),d=Object.fromEntries(Object.entries(t).filter(([e])=>"type"!==e&&!e.startsWith("lc_"))),c=pG(t.getType(),{...d,content:n}),p=[...o.slice(0,l),c];if(await i(p)<=r)o=p,l+=1,e=!0;else break}e&&"last"===a&&(t.content=[...s].reverse())}if(!e){let e,t=o[l];if(Array.isArray(t.content)&&t.content.some(e=>"string"==typeof e||"text"===e.type)){let r=t.content.find(e=>"text"===e.type&&e.text);e=r?.text}else"string"==typeof t.content&&(e=t.content);if(e){let s=await n(e),u=s.length;"last"===a&&s.reverse();for(let e=0;e<u-1;e+=1)if(s.pop(),t.content=s.join(""),await i([...o.slice(0,l),t])<=r){"last"===a&&(t.content=[...s].reverse().join("")),o=[...o.slice(0,l),t],l+=1;break}}}}if(s){let e=Array.isArray(s)?s:[s];for(;l>0&&!pU(o[l-1],e);)l-=1}return o.slice(0,l)}async function pW(e,t){let{allowPartial:r=!1,includeSystem:i=!1,endOn:n,startOn:a,...s}=t,o=e.map(e=>{let t=Object.fromEntries(Object.entries(e).filter(([e])=>"type"!==e&&!e.startsWith("lc_")));return pG(e.getType(),t,(0,w.isBaseMessageChunk)(e))});if(n){let e=Array.isArray(n)?n:[n];for(;o.length>0&&!pU(o[o.length-1],e);)o=o.slice(0,-1)}let l=i&&o[0]?.getType()==="system",u=l?o.slice(0,1).concat(o.slice(1).reverse()):o.reverse();return(u=await pJ(u,{...s,partialStrategy:r?"last":void 0,endOn:a}),l)?[u[0],...u.slice(1).reverse()]:u.reverse()}let pV={human:{message:z.HumanMessage,messageChunk:z.HumanMessageChunk},ai:{message:I.AIMessage,messageChunk:I.AIMessageChunk},system:{message:U.SystemMessage,messageChunk:U.SystemMessageChunk},developer:{message:U.SystemMessage,messageChunk:U.SystemMessageChunk},tool:{message:k.ToolMessage,messageChunk:k.ToolMessageChunk},function:{message:j,messageChunk:P},generic:{message:O,messageChunk:E},remove:{message:D,messageChunk:D}};function pG(e,t,r){let i,n;switch(e){case"human":r?i=new z.HumanMessageChunk(t):n=new z.HumanMessage(t);break;case"ai":if(r){let e={...t};"tool_calls"in e&&(e={...e,tool_call_chunks:e.tool_calls?.map(e=>({...e,type:"tool_call_chunk",index:void 0,args:JSON.stringify(e.args)}))}),i=new I.AIMessageChunk(e)}else n=new I.AIMessage(t);break;case"system":r?i=new U.SystemMessageChunk(t):n=new U.SystemMessage(t);break;case"developer":r?i=new U.SystemMessageChunk({...t,additional_kwargs:{...t.additional_kwargs,__openai_role__:"developer"}}):n=new U.SystemMessage({...t,additional_kwargs:{...t.additional_kwargs,__openai_role__:"developer"}});break;case"tool":if("tool_call_id"in t)r?i=new k.ToolMessageChunk(t):n=new k.ToolMessage(t);else throw Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");break;case"function":if(r)i=new P(t);else{if(!t.name)throw Error("FunctionMessage must have a 'name' field");n=new j(t)}break;case"generic":if("role"in t)r?i=new E(t):n=new O(t);else throw Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");break;default:throw Error(`Unrecognized message type ${e}`)}if(r&&i)return i;if(n)return n;throw Error(`Unrecognized message type ${e}`)}function pq(e){let t=e.split("\n");return Promise.resolve([...t.slice(0,-1).map(e=>`${e}
`),t[t.length-1]])}let pK=["text","reasoning","tool_call","tool_call_chunk","invalid_tool_call","server_tool_call","server_tool_call_chunk","server_tool_call_result","image","video","audio","text-plain","file"];(0,y.__export)({},{AIMessage:()=>I.AIMessage,AIMessageChunk:()=>I.AIMessageChunk,BaseMessage:()=>w.BaseMessage,BaseMessageChunk:()=>w.BaseMessageChunk,ChatMessage:()=>O,ChatMessageChunk:()=>E,FunctionMessage:()=>j,FunctionMessageChunk:()=>P,HumanMessage:()=>z.HumanMessage,HumanMessageChunk:()=>z.HumanMessageChunk,KNOWN_BLOCK_TYPES:()=>pK,RemoveMessage:()=>D,SystemMessage:()=>U.SystemMessage,SystemMessageChunk:()=>U.SystemMessageChunk,ToolMessage:()=>k.ToolMessage,ToolMessageChunk:()=>k.ToolMessageChunk,_isMessageFieldWithRole:()=>w._isMessageFieldWithRole,_mergeDicts:()=>w._mergeDicts,_mergeLists:()=>w._mergeLists,_mergeObj:()=>w._mergeObj,_mergeStatus:()=>w._mergeStatus,coerceMessageLikeToMessage:()=>G,convertToChunk:()=>Y,convertToOpenAIImageBlock:()=>b.convertToOpenAIImageBlock,convertToProviderContentBlock:()=>b.convertToProviderContentBlock,defaultTextSplitter:()=>pq,defaultToolCallParser:()=>k.defaultToolCallParser,filterMessages:()=>pR,getBufferString:()=>q,iife:()=>J,isAIMessage:()=>I.isAIMessage,isAIMessageChunk:()=>I.isAIMessageChunk,isBase64ContentBlock:()=>b.isBase64ContentBlock,isBaseMessage:()=>w.isBaseMessage,isBaseMessageChunk:()=>w.isBaseMessageChunk,isChatMessage:()=>T,isChatMessageChunk:()=>A,isDataContentBlock:()=>b.isDataContentBlock,isDirectToolOutput:()=>k.isDirectToolOutput,isFunctionMessage:()=>C,isFunctionMessageChunk:()=>Z,isHumanMessage:()=>z.isHumanMessage,isHumanMessageChunk:()=>z.isHumanMessageChunk,isIDContentBlock:()=>b.isIDContentBlock,isMessage:()=>$.isMessage,isOpenAIToolCallArray:()=>w.isOpenAIToolCallArray,isPlainTextContentBlock:()=>b.isPlainTextContentBlock,isSystemMessage:()=>U.isSystemMessage,isSystemMessageChunk:()=>U.isSystemMessageChunk,isToolMessage:()=>k.isToolMessage,isToolMessageChunk:()=>k.isToolMessageChunk,isURLContentBlock:()=>b.isURLContentBlock,mapChatMessagesToStoredMessages:()=>X,mapStoredMessageToChatMessage:()=>K,mapStoredMessagesToChatMessages:()=>H,mergeContent:()=>w.mergeContent,mergeMessageRuns:()=>pL,mergeResponseMetadata:()=>x.mergeResponseMetadata,mergeUsageMetadata:()=>x.mergeUsageMetadata,parseBase64DataUrl:()=>b.parseBase64DataUrl,parseMimeType:()=>b.parseMimeType,trimMessages:()=>pF}),e.s([],637253)},906920,(e,t,r)=>{"use strict";r.byteLength=function(e){var t=u(e),r=t[0],i=t[1];return(r+i)*3/4-i},r.toByteArray=function(e){var t,r,i=u(e),s=i[0],o=i[1],l=new a((s+o)*3/4-o),d=0,c=o>0?s-4:s;for(r=0;r<c;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===o&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[d++]=255&t),1===o&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,a=[],s=0,o=r-n;s<o;s+=16383)a.push(function(e,t,r){for(var n,a=[],s=t;s<r;s+=3)n=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[n>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return a.join("")}(e,s,s+16383>o?o:s+16383));return 1===n?a.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2===n&&a.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),a.join("")};for(var i=[],n=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,l=s.length;o<l;++o)i[o]=s[o],n[s.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var i=r===t?0:4-r%4;return[r,i]}n[45]=62,n[95]=63},891489,732060,136518,807965,611691,687751,778759,647779,881892,842713,556941,989205,58239,146748,480690,940849,e=>{"use strict";let t,r,i,n,a,s,o;function l(e,t){return e.lc_error_code=t,e.message=`${e.message}

Troubleshooting URL: https://docs.langchain.com/oss/javascript/langchain/errors/${t}/
`,e}function u(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r}function d(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)}let c=function(){let{crypto:e}=globalThis;if(e?.randomUUID)return c=e.randomUUID.bind(e),e.randomUUID();let t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^r()&15>>e/4).toString(16))};function p(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}let m=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){let t=Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return Error(JSON.stringify(e))}catch{}}return Error(e)};class h extends Error{}class f extends h{constructor(e,t,r,i){super(`${f.makeMessage(e,t,r)}`),this.status=e,this.headers=i,this.requestID=i?.get("x-request-id"),this.error=t,this.code=t?.code,this.param=t?.param,this.type=t?.type}static makeMessage(e,t,r){let i=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,r,i){if(!e||!i)return new _({message:r,cause:m(t)});let n=t?.error;return 400===e?new y(e,n,r,i):401===e?new b(e,n,r,i):403===e?new $(e,n,r,i):404===e?new w(e,n,r,i):409===e?new x(e,n,r,i):422===e?new k(e,n,r,i):429===e?new I(e,n,r,i):e>=500?new S(e,n,r,i):new f(e,n,r,i)}}class g extends f{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class _ extends f{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class v extends _{constructor({message:e}={}){super({message:e??"Request timed out."})}}class y extends f{}class b extends f{}class $ extends f{}class w extends f{}class x extends f{}class k extends f{}class I extends f{}class S extends f{}class O extends h{constructor(){super("Could not parse response content as the length limit was reached")}}class E extends h{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class T extends Error{constructor(e){super(e)}}let A=/^[a-z][a-z0-9+.-]*:/i,N=e=>(N=Array.isArray)(e),j=N;function P(e){return"object"!=typeof e?{}:e??{}}function C(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}let Z=e=>new Promise(t=>setTimeout(t,e)),z="6.9.1",U=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",R=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";function D(...e){let t=globalThis.ReadableStream;if(void 0===t)throw Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function L(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return D({start(){},async pull(e){let{done:r,value:i}=await t.next();r?e.close():e.enqueue(i)},async cancel(){await t.return?.()}})}function M(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){let e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function F(e){if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await e[Symbol.asyncIterator]().return?.();let t=e.getReader(),r=t.cancel();t.releaseLock(),await r}let B=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),J="RFC3986",W=e=>String(e),V={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:W},G=(e,t)=>(G=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty))(e,t),q=(()=>{let e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();function K(e,t){if(N(e)){let r=[];for(let i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)}let H={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},X=function(e,t){Array.prototype.push.apply(e,N(t)?t:[t])},Y={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,r,i,n)=>{if(0===e.length)return e;let a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});let s="";for(let e=0;e<a.length;e+=1024){let t=a.length>=1024?a.slice(e,e+1024):a,r=[];for(let e=0;e<t.length;++e){let i=t.charCodeAt(e);if(45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||"RFC1738"===n&&(40===i||41===i)){r[r.length]=t.charAt(e);continue}if(i<128){r[r.length]=q[i];continue}if(i<2048){r[r.length]=q[192|i>>6]+q[128|63&i];continue}if(i<55296||i>=57344){r[r.length]=q[224|i>>12]+q[128|i>>6&63]+q[128|63&i];continue}e+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(e)),r[r.length]=q[240|i>>18]+q[128|i>>12&63]+q[128|i>>6&63]+q[128|63&i]}s+=r.join("")}return s},encodeValuesOnly:!1,format:J,formatter:W,indices:!1,serializeDate:e=>(r??(r=Function.prototype.call.bind(Date.prototype.toISOString)))(e),skipNulls:!1,strictNullHandling:!1},Q={};function ee(e){let t;return(i??(i=(t=new globalThis.TextEncoder).encode.bind(t)))(e)}function et(e){let t;return(n??(n=(t=new globalThis.TextDecoder).decode.bind(t)))(e)}class er{constructor(){ro.set(this,void 0),rl.set(this,void 0),u(this,ro,new Uint8Array,"f"),u(this,rl,null,"f")}decode(e){let t;if(null==e)return[];let r=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?ee(e):e;u(this,ro,function(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),i=0;for(let t of e)r.set(t,i),i+=t.length;return r}([d(this,ro,"f"),r]),"f");let i=[];for(;null!=(t=function(e,t){for(let r=t??0;r<e.length;r++){if(10===e[r])return{preceding:r,index:r+1,carriage:!1};if(13===e[r])return{preceding:r,index:r+1,carriage:!0}}return null}(d(this,ro,"f"),d(this,rl,"f")));){if(t.carriage&&null==d(this,rl,"f")){u(this,rl,t.index,"f");continue}if(null!=d(this,rl,"f")&&(t.index!==d(this,rl,"f")+1||t.carriage)){i.push(et(d(this,ro,"f").subarray(0,d(this,rl,"f")-1))),u(this,ro,d(this,ro,"f").subarray(d(this,rl,"f")),"f"),u(this,rl,null,"f");continue}let e=null!==d(this,rl,"f")?t.preceding-1:t.preceding,r=et(d(this,ro,"f").subarray(0,e));i.push(r),u(this,ro,d(this,ro,"f").subarray(t.index),"f"),u(this,rl,null,"f")}return i}flush(){return d(this,ro,"f").length?this.decode("\n"):[]}}ro=new WeakMap,rl=new WeakMap,er.NEWLINE_CHARS=new Set(["\n","\r"]),er.NEWLINE_REGEXP=/\r\n|[\n\r]/g;let ei={off:0,error:200,warn:300,info:400,debug:500},en=(e,t,r)=>{if(e){if(Object.prototype.hasOwnProperty.call(ei,e))return e;eu(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(ei))}`)}};function ea(){}function es(e,t,r){return!t||ei[e]>ei[r]?ea:t[e].bind(t)}let eo={error:ea,warn:ea,info:ea,debug:ea},el=new WeakMap;function eu(e){let t=e.logger,r=e.logLevel??"off";if(!t)return eo;let i=el.get(t);if(i&&i[0]===r)return i[1];let n={error:es("error",t,r),warn:es("warn",t,r),info:es("info",t,r),debug:es("debug",t,r)};return el.set(t,[r,n]),n}let ed=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class ec{constructor(e,t,r){this.iterator=e,ru.set(this,void 0),this.controller=t,u(this,ru,r,"f")}static fromSSEResponse(e,t,r){let i=!1,n=r?eu(r):console;async function*a(){if(i)throw new h("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let r=!1;try{for await(let i of ep(e,t))if(!r){if(i.data.startsWith("[DONE]")){r=!0;continue}if(null!==i.event&&i.event.startsWith("thread.")){let e;try{e=JSON.parse(i.data)}catch(e){throw console.error("Could not parse message into JSON:",i.data),console.error("From chunk:",i.raw),e}if("error"==i.event)throw new f(void 0,e.error,e.message,void 0);yield{event:i.event,data:e}}else{let t;try{t=JSON.parse(i.data)}catch(e){throw n.error("Could not parse message into JSON:",i.data),n.error("From chunk:",i.raw),e}if(t&&t.error)throw new f(void 0,t.error,void 0,e.headers);yield t}}r=!0}catch(e){if(p(e))return;throw e}finally{r||t.abort()}}return new ec(a,t,r)}static fromReadableStream(e,t,r){let i=!1;async function*n(){let t=new er;for await(let r of M(e))for(let e of t.decode(r))yield e;for(let e of t.flush())yield e}return new ec(async function*(){if(i)throw new h("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let e=!1;try{for await(let t of n())!e&&t&&(yield JSON.parse(t));e=!0}catch(e){if(p(e))return;throw e}finally{e||t.abort()}},t,r)}[(ru=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let e=[],t=[],r=this.iterator(),i=i=>({next:()=>{if(0===i.length){let i=r.next();e.push(i),t.push(i)}return i.shift()}});return[new ec(()=>i(e),this.controller,d(this,ru,"f")),new ec(()=>i(t),this.controller,d(this,ru,"f"))]}toReadableStream(){let e,t=this;return D({async start(){e=t[Symbol.asyncIterator]()},async pull(t){try{let{value:r,done:i}=await e.next();if(i)return t.close();let n=ee(JSON.stringify(r)+"\n");t.enqueue(n)}catch(e){t.error(e)}},async cancel(){await e.return?.()}})}}async function*ep(e,t){if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new h("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new h("Attempted to iterate over a response with no body")}let r=new eh,i=new er;for await(let t of em(M(e.body)))for(let e of i.decode(t)){let t=r.decode(e);t&&(yield t)}for(let e of i.flush()){let t=r.decode(e);t&&(yield t)}}async function*em(e){let t=new Uint8Array;for await(let r of e){let e;if(null==r)continue;let i=r instanceof ArrayBuffer?new Uint8Array(r):"string"==typeof r?ee(r):r,n=new Uint8Array(t.length+i.length);for(n.set(t),n.set(i,t.length),t=n;-1!==(e=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1]||13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return -1}(t));)yield t.slice(0,e),t=t.slice(e)}t.length>0&&(yield t)}class eh{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){var t;let r;if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,n,a]=-1!==(r=(t=e).indexOf(":"))?[t.substring(0,r),":",t.substring(r+1)]:[t,"",""];return a.startsWith(" ")&&(a=a.substring(1)),"event"===i?this.event=a:"data"===i&&this.data.push(a),null}}async function ef(e,t){let{response:r,requestLogID:i,retryOfRequestLogID:n,startTime:a}=t,s=await (async()=>{if(t.options.stream)return(eu(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass)?t.options.__streamClass.fromSSEResponse(r,t.controller,e):ec.fromSSEResponse(r,t.controller,e);if(204===r.status)return null;if(t.options.__binaryResponse)return r;let i=r.headers.get("content-type"),n=i?.split(";")[0]?.trim();return n?.includes("application/json")||n?.endsWith("+json")?eg(await r.json(),r):await r.text()})();return eu(e).debug(`[${i}] response parsed`,ed({retryOfRequestLogID:n,url:r.url,status:r.status,body:s,durationMs:Date.now()-a})),s}function eg(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class e_ extends Promise{constructor(e,t,r=ef){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=r,rd.set(this,void 0),u(this,rd,e,"f")}_thenUnwrap(e){return new e_(d(this,rd,"f"),this.responsePromise,async(t,r)=>eg(e(await this.parseResponse(t,r),r),r.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(d(this,rd,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}rd=new WeakMap;class ev{constructor(e,t,r,i){rc.set(this,void 0),u(this,rc,e,"f"),this.options=i,this.response=t,this.body=r}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){let e=this.nextPageRequestOptions();if(!e)throw new h("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await d(this,rc,"f").requestAPIList(this.constructor,e)}async *iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async *[(rc=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let t of e.getPaginatedItems())yield t}}class ey extends e_{constructor(e,t,r){super(e,t,async(e,t)=>new r(e,t.response,await ef(e,t),t.options))}async *[Symbol.asyncIterator](){for await(let e of(await this))yield e}}class eb extends ev{constructor(e,t,r,i){super(e,t,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class e$ extends ev{constructor(e,t,r,i){super(e,t,r,i),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){let e=this.getPaginatedItems(),t=e[e.length-1]?.id;return t?{...this.options,query:{...P(this.options.query),after:t}}:null}}class ew extends ev{constructor(e,t,r,i){super(e,t,r,i),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){let e=this.last_id;return e?{...this.options,query:{...P(this.options.query),after:e}}:null}}let ex=()=>{if("undefined"==typeof File){let{process:e}=globalThis;throw Error("`File` is not defined as a global, which is required for file uploads."+("string"==typeof e?.versions?.node&&20>parseInt(e.versions.node.split("."))?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ek(e,t,r){return ex(),new File(e,t??"unknown_file",r)}function eI(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}let eS=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator],eO=async(e,t)=>ej(e.body)?{...e,body:await eA(e.body,t)}:e,eE=async(e,t)=>({...e,body:await eA(e.body,t)}),eT=new WeakMap,eA=async(e,t)=>{if(!await function(e){let t="function"==typeof e?e:e.fetch,r=eT.get(t);if(r)return r;let i=(async()=>{try{let e="Response"in t?t.Response:(await t("data:,")).constructor,r=new FormData;if(r.toString()===await new e(r).text())return!1;return!0}catch{return!0}})();return eT.set(t,i),i}(t))throw TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let r=new FormData;return await Promise.all(Object.entries(e||{}).map(([e,t])=>eP(r,e,t))),r},eN=e=>e instanceof Blob&&"name"in e,ej=e=>{if("object"==typeof e&&null!==e&&(e instanceof Response||eS(e)||eN(e)))return!0;if(Array.isArray(e))return e.some(ej);if(e&&"object"==typeof e){for(let t in e)if(ej(e[t]))return!0}return!1},eP=async(e,t,r)=>{if(void 0!==r){if(null==r)throw TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)e.append(t,String(r));else if(r instanceof Response)e.append(t,ek([await r.blob()],eI(r)));else if(eS(r))e.append(t,ek([await new Response(L(r)).blob()],eI(r)));else if(eN(r))e.append(t,r,eI(r));else if(Array.isArray(r))await Promise.all(r.map(r=>eP(e,t+"[]",r)));else if("object"==typeof r)await Promise.all(Object.entries(r).map(([r,i])=>eP(e,`${t}[${r}]`,i)));else throw TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},eC=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;async function eZ(e,t,r){let i,n;if(ex(),null!=(i=e=await e)&&"object"==typeof i&&"string"==typeof i.name&&"number"==typeof i.lastModified&&eC(i))return e instanceof File?e:ek([await e.arrayBuffer()],e.name);if(null!=(n=e)&&"object"==typeof n&&"string"==typeof n.url&&"function"==typeof n.blob){let i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),ek(await ez(i),t,r)}let a=await ez(e);if(t||(t=eI(e)),!r?.type){let e=a.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(r={...r,type:e})}return ek(a,t,r)}async function ez(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(eC(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(eS(e))for await(let r of e)t.push(...await ez(r));else{let t=e?.constructor?.name;throw Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";let t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}(e)}`)}return t}e.s(["toFile",()=>eZ],732060);class eU{constructor(e){this._client=e}}function eR(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}let eD=Object.freeze(Object.create(null)),eL=((e=eR)=>function(t,...r){let i;if(1===t.length)return t[0];let n=!1,a=[],s=t.reduce((t,i,s)=>{/[?#]/.test(i)&&(n=!0);let o=r[s],l=(n?encodeURIComponent:e)(""+o);return s!==r.length&&(null==o||"object"==typeof o&&o.toString===Object.getPrototypeOf(Object.getPrototypeOf(o.hasOwnProperty??eD)??eD)?.toString)&&(l=o+"",a.push({start:t.length+i.length,length:l.length,error:`Value of type ${Object.prototype.toString.call(o).slice(8,-1)} is not a valid path parameter`})),t+i+(s===r.length?"":l)},""),o=s.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;for(;null!==(i=l.exec(o));)a.push({start:i.index,length:i[0].length,error:`Value "${i[0]}" can't be safely passed as a path parameter`});if(a.sort((e,t)=>e.start-t.start),a.length>0){let e=0,t=a.reduce((t,r)=>{let i=" ".repeat(r.start-e),n="^".repeat(r.length);return e=r.start+r.length,t+i+n},"");throw new h(`Path parameters result in path with invalid segments:
${a.map(e=>e.error).join("\n")}
${s}
${t}`)}return s})(eR);class eM extends eU{list(e,t={},r){return this._client.getAPIList(eL`/chat/completions/${e}/messages`,e$,{query:t,...r})}}function eF(e){return void 0!==e&&"function"in e&&void 0!==e.function}function eB(e){return e?.$brand==="auto-parseable-response-format"}function eJ(e){return e?.$brand==="auto-parseable-tool"}function eW(e,t){let r=e.choices.map(e=>{var r,i;if("length"===e.finish_reason)throw new O;if("content_filter"===e.finish_reason)throw new E;return eG(e.message.tool_calls),{...e,message:{...e.message,...e.message.tool_calls?{tool_calls:e.message.tool_calls?.map(e=>{var r,i;let n;return r=t,i=e,n=r.tools?.find(e=>eF(e)&&e.function?.name===i.function.name),{...i,function:{...i.function,parsed_arguments:eJ(n)?n.$parseRaw(i.function.arguments):n?.function.strict?JSON.parse(i.function.arguments):null}}})??void 0}:void 0,parsed:e.message.content&&!e.message.refusal?(r=t,i=e.message.content,r.response_format?.type!=="json_schema"?null:r.response_format?.type==="json_schema"?"$parseRaw"in r.response_format?r.response_format.$parseRaw(i):JSON.parse(i):null):null}}});return{...e,choices:r}}function eV(e){return!!eB(e.response_format)||(e.tools?.some(e=>eJ(e)||"function"===e.type&&!0===e.function.strict)??!1)}function eG(e){for(let t of e||[])if("function"!==t.type)throw new h(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}let eq=e=>e?.role==="assistant",eK=e=>e?.role==="tool";class eH{constructor(){rp.add(this),this.controller=new AbortController,rm.set(this,void 0),rh.set(this,()=>{}),rf.set(this,()=>{}),rg.set(this,void 0),r_.set(this,()=>{}),rv.set(this,()=>{}),ry.set(this,{}),rb.set(this,!1),r$.set(this,!1),rw.set(this,!1),rx.set(this,!1),u(this,rm,new Promise((e,t)=>{u(this,rh,e,"f"),u(this,rf,t,"f")}),"f"),u(this,rg,new Promise((e,t)=>{u(this,r_,e,"f"),u(this,rv,t,"f")}),"f"),d(this,rm,"f").catch(()=>{}),d(this,rg,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},d(this,rp,"m",rk).bind(this))},0)}_connected(){this.ended||(d(this,rh,"f").call(this),this._emit("connect"))}get ended(){return d(this,rb,"f")}get errored(){return d(this,r$,"f")}get aborted(){return d(this,rw,"f")}abort(){this.controller.abort()}on(e,t){return(d(this,ry,"f")[e]||(d(this,ry,"f")[e]=[])).push({listener:t}),this}off(e,t){let r=d(this,ry,"f")[e];if(!r)return this;let i=r.findIndex(e=>e.listener===t);return i>=0&&r.splice(i,1),this}once(e,t){return(d(this,ry,"f")[e]||(d(this,ry,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,r)=>{u(this,rx,!0,"f"),"error"!==e&&this.once("error",r),this.once(e,t)})}async done(){u(this,rx,!0,"f"),await d(this,rg,"f")}_emit(e,...t){if(d(this,rb,"f"))return;"end"===e&&(u(this,rb,!0,"f"),d(this,r_,"f").call(this));let r=d(this,ry,"f")[e];if(r&&(d(this,ry,"f")[e]=r.filter(e=>!e.once),r.forEach(({listener:e})=>e(...t))),"abort"===e){let e=t[0];d(this,rx,"f")||r?.length||Promise.reject(e),d(this,rf,"f").call(this,e),d(this,rv,"f").call(this,e),this._emit("end");return}if("error"===e){let e=t[0];d(this,rx,"f")||r?.length||Promise.reject(e),d(this,rf,"f").call(this,e),d(this,rv,"f").call(this,e),this._emit("end")}}_emitFinal(){}}rm=new WeakMap,rh=new WeakMap,rf=new WeakMap,rg=new WeakMap,r_=new WeakMap,rv=new WeakMap,ry=new WeakMap,rb=new WeakMap,r$=new WeakMap,rw=new WeakMap,rx=new WeakMap,rp=new WeakSet,rk=function(e){if(u(this,r$,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new g),e instanceof g)return u(this,rw,!0,"f"),this._emit("abort",e);if(e instanceof h)return this._emit("error",e);if(e instanceof Error){let t=new h(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new h(String(e)))};class eX extends eH{constructor(){super(...arguments),rI.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);let t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),eK(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(eq(e)&&e.tool_calls)for(let t of e.tool_calls)"function"===t.type&&this._emit("functionToolCall",t.function)}}async finalChatCompletion(){await this.done();let e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new h("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),d(this,rI,"m",rS).call(this)}async finalMessage(){return await this.done(),d(this,rI,"m",rO).call(this)}async finalFunctionToolCall(){return await this.done(),d(this,rI,"m",rE).call(this)}async finalFunctionToolCallResult(){return await this.done(),d(this,rI,"m",rT).call(this)}async totalUsage(){return await this.done(),d(this,rI,"m",rA).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);let t=d(this,rI,"m",rO).call(this);t&&this._emit("finalMessage",t);let r=d(this,rI,"m",rS).call(this);r&&this._emit("finalContent",r);let i=d(this,rI,"m",rE).call(this);i&&this._emit("finalFunctionToolCall",i);let n=d(this,rI,"m",rT).call(this);null!=n&&this._emit("finalFunctionToolCallResult",n),this._chatCompletions.some(e=>e.usage)&&this._emit("totalUsage",d(this,rI,"m",rA).call(this))}async _createChatCompletion(e,t,r){let i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),d(this,rI,"m",rN).call(this,t);let n=await e.chat.completions.create({...t,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(eW(n,t))}async _runChatCompletion(e,t,r){for(let e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,r)}async _runTools(e,t,r){let i="tool",{tool_choice:n="auto",stream:a,...s}=t,o="string"!=typeof n&&"function"===n.type&&n?.function?.name,{maxChatCompletions:l=10}=r||{},u=t.tools.map(e=>{if(eJ(e)){if(!e.$callback)throw new h("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e}),c={};for(let e of u)"function"===e.type&&(c[e.function.name||e.function.function.name]=e.function);let p="tools"in t?u.map(e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e):void 0;for(let e of t.messages)this._addMessage(e,!1);for(let t=0;t<l;++t){let t=await this._createChatCompletion(e,{...s,tool_choice:n,tools:p,messages:[...this.messages]},r),a=t.choices[0]?.message;if(!a)throw new h("missing message in ChatCompletion response");if(!a.tool_calls?.length)break;for(let e of a.tool_calls){let t;if("function"!==e.type)continue;let r=e.id,{name:n,arguments:a}=e.function,s=c[n];if(s){if(o&&o!==n){let e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(o)} requested. Please try again`;this._addMessage({role:i,tool_call_id:r,content:e});continue}}else{let e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(c).map(e=>JSON.stringify(e)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:r,content:e});continue}try{t="function"==typeof s.parse?await s.parse(a):a}catch(t){let e=t instanceof Error?t.message:String(t);this._addMessage({role:i,tool_call_id:r,content:e});continue}let l=await s.function(t,this),u=d(this,rI,"m",rj).call(this,l);if(this._addMessage({role:i,tool_call_id:r,content:u}),o)return}}}}rI=new WeakSet,rS=function(){return d(this,rI,"m",rO).call(this).content??null},rO=function(){let e=this.messages.length;for(;e-- >0;){let t=this.messages[e];if(eq(t))return{...t,content:t.content??null,refusal:t.refusal??null}}throw new h("stream ended without producing a ChatCompletionMessage with role=assistant")},rE=function(){for(let e=this.messages.length-1;e>=0;e--){let t=this.messages[e];if(eq(t)&&t?.tool_calls?.length)return t.tool_calls.filter(e=>"function"===e.type).at(-1)?.function}},rT=function(){for(let e=this.messages.length-1;e>=0;e--){let t=this.messages[e];if(eK(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some(e=>"assistant"===e.role&&e.tool_calls?.some(e=>"function"===e.type&&e.id===t.tool_call_id)))return t.content}},rA=function(){let e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},rN=function(e){if(null!=e.n&&e.n>1)throw new h("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},rj=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class eY extends eX{static runTools(e,t,r){let i=new eY,n={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,t,n)),i}_addMessage(e,t=!0){super._addMessage(e,t),eq(e)&&e.content&&this._emit("content",e.content)}}let eQ=511;class e0 extends Error{}class e1 extends Error{}let e4=e=>(function(e,t=eQ){var r,i;let n,a,s,o,l,u,d,c,p,m;if("string"!=typeof e)throw TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw Error(`${e} is empty`);return r=e.trim(),i=t,n=r.length,a=0,s=e=>{throw new e0(`${e} at position ${a}`)},o=e=>{throw new e1(`${e} at position ${a}`)},l=()=>(m(),a>=n&&s("Unexpected end of input"),'"'===r[a])?u():"{"===r[a]?d():"["===r[a]?c():"null"===r.substring(a,a+4)||16&i&&n-a<4&&"null".startsWith(r.substring(a))?(a+=4,null):"true"===r.substring(a,a+4)||32&i&&n-a<4&&"true".startsWith(r.substring(a))?(a+=4,!0):"false"===r.substring(a,a+5)||32&i&&n-a<5&&"false".startsWith(r.substring(a))?(a+=5,!1):"Infinity"===r.substring(a,a+8)||128&i&&n-a<8&&"Infinity".startsWith(r.substring(a))?(a+=8,1/0):"-Infinity"===r.substring(a,a+9)||256&i&&1<n-a&&n-a<9&&"-Infinity".startsWith(r.substring(a))?(a+=9,-1/0):"NaN"===r.substring(a,a+3)||64&i&&n-a<3&&"NaN".startsWith(r.substring(a))?(a+=3,NaN):p(),u=()=>{let e=a,t=!1;for(a++;a<n&&('"'!==r[a]||t&&"\\"===r[a-1]);)t="\\"===r[a]&&!t,a++;if('"'==r.charAt(a))try{return JSON.parse(r.substring(e,++a-Number(t)))}catch(e){o(String(e))}else if(1&i)try{return JSON.parse(r.substring(e,a-Number(t))+'"')}catch(t){return JSON.parse(r.substring(e,r.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},d=()=>{a++,m();let e={};try{for(;"}"!==r[a];){if(m(),a>=n&&8&i)return e;let t=u();m(),a++;try{let r=l();Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(t){if(8&i)return e;throw t}m(),","===r[a]&&a++}}catch(t){if(8&i)return e;s("Expected '}' at end of object")}return a++,e},c=()=>{a++;let e=[];try{for(;"]"!==r[a];)e.push(l()),m(),","===r[a]&&a++}catch(t){if(4&i)return e;s("Expected ']' at end of array")}return a++,e},p=()=>{if(0===a){"-"===r&&2&i&&s("Not sure what '-' is");try{return JSON.parse(r)}catch(e){if(2&i)try{if("."===r[r.length-1])return JSON.parse(r.substring(0,r.lastIndexOf(".")));return JSON.parse(r.substring(0,r.lastIndexOf("e")))}catch(e){}o(String(e))}}let e=a;for("-"===r[a]&&a++;r[a]&&!",]}".includes(r[a]);)a++;a!=n||2&i||s("Unterminated number literal");try{return JSON.parse(r.substring(e,a))}catch(t){"-"===r.substring(e,a)&&2&i&&s("Not sure what '-' is");try{return JSON.parse(r.substring(e,r.lastIndexOf("e")))}catch(e){o(String(e))}}},m=()=>{for(;a<n&&" \n\r	".includes(r[a]);)a++},l()})(e,2^eQ);class e6 extends eX{constructor(e){super(),rP.add(this),rC.set(this,void 0),rZ.set(this,void 0),rz.set(this,void 0),u(this,rC,e,"f"),u(this,rZ,[],"f")}get currentChatCompletionSnapshot(){return d(this,rz,"f")}static fromReadableStream(e){let t=new e6(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,r){let i=new e6(t);return i._run(()=>i._runChatCompletion(e,{...t,stream:!0},{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,t,r){super._createChatCompletion;let i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),d(this,rP,"m",rU).call(this);let n=await e.chat.completions.create({...t,stream:!0},{...r,signal:this.controller.signal});for await(let e of(this._connected(),n))d(this,rP,"m",rD).call(this,e);if(n.controller.signal?.aborted)throw new g;return this._addChatCompletion(d(this,rP,"m",rF).call(this))}async _fromReadableStream(e,t){let r,i=t?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),d(this,rP,"m",rU).call(this),this._connected();let n=ec.fromReadableStream(e,this.controller);for await(let e of n)r&&r!==e.id&&this._addChatCompletion(d(this,rP,"m",rF).call(this)),d(this,rP,"m",rD).call(this,e),r=e.id;if(n.controller.signal?.aborted)throw new g;return this._addChatCompletion(d(this,rP,"m",rF).call(this))}[(rC=new WeakMap,rZ=new WeakMap,rz=new WeakMap,rP=new WeakSet,rU=function(){this.ended||u(this,rz,void 0,"f")},rR=function(e){let t=d(this,rZ,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},d(this,rZ,"f")[e.index]=t),t},rD=function(e){if(this.ended)return;let t=d(this,rP,"m",rJ).call(this,e);for(let r of(this._emit("chunk",e,t),e.choices)){let e=t.choices[r.index];null!=r.delta.content&&e.message?.role==="assistant"&&e.message?.content&&(this._emit("content",r.delta.content,e.message.content),this._emit("content.delta",{delta:r.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=r.delta.refusal&&e.message?.role==="assistant"&&e.message?.refusal&&this._emit("refusal.delta",{delta:r.delta.refusal,snapshot:e.message.refusal}),r.logprobs?.content!=null&&e.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:r.logprobs?.content,snapshot:e.logprobs?.content??[]}),r.logprobs?.refusal!=null&&e.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:r.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});let i=d(this,rP,"m",rR).call(this,e);for(let t of(e.finish_reason&&(d(this,rP,"m",rM).call(this,e),null!=i.current_tool_call_index&&d(this,rP,"m",rL).call(this,e,i.current_tool_call_index)),r.delta.tool_calls??[]))i.current_tool_call_index!==t.index&&(d(this,rP,"m",rM).call(this,e),null!=i.current_tool_call_index&&d(this,rP,"m",rL).call(this,e,i.current_tool_call_index)),i.current_tool_call_index=t.index;for(let t of r.delta.tool_calls??[]){let r=e.message.tool_calls?.[t.index];r?.type&&(r?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:r.function?.name,index:t.index,arguments:r.function.arguments,parsed_arguments:r.function.parsed_arguments,arguments_delta:t.function?.arguments??""}):e5(r?.type))}}},rL=function(e,t){if(d(this,rP,"m",rR).call(this,e).done_tool_calls.has(t))return;let r=e.message.tool_calls?.[t];if(!r)throw Error("no tool call snapshot");if(!r.type)throw Error("tool call snapshot missing `type`");if("function"===r.type){let e=d(this,rC,"f")?.tools?.find(e=>eF(e)&&e.function.name===r.function.name);this._emit("tool_calls.function.arguments.done",{name:r.function.name,index:t,arguments:r.function.arguments,parsed_arguments:eJ(e)?e.$parseRaw(r.function.arguments):e?.function.strict?JSON.parse(r.function.arguments):null})}else e5(r.type)},rM=function(e){let t=d(this,rP,"m",rR).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;let r=d(this,rP,"m",rB).call(this);this._emit("content.done",{content:e.message.content,parsed:r?r.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},rF=function(){if(this.ended)throw new h("stream has ended, this shouldn't happen");let e=d(this,rz,"f");if(!e)throw new h("request ended without sending any chunks");return u(this,rz,void 0,"f"),u(this,rZ,[],"f"),function(e,t){var r;let{id:i,choices:n,created:a,model:s,system_fingerprint:o,...l}=e;return r={...l,id:i,choices:n.map(({message:t,finish_reason:r,index:i,logprobs:n,...a})=>{if(!r)throw new h(`missing finish_reason for choice ${i}`);let{content:s=null,function_call:o,tool_calls:l,...u}=t,d=t.role;if(!d)throw new h(`missing role for choice ${i}`);if(o){let{arguments:e,name:l}=o;if(null==e)throw new h(`missing function_call.arguments for choice ${i}`);if(!l)throw new h(`missing function_call.name for choice ${i}`);return{...a,message:{content:s,function_call:{arguments:e,name:l},role:d,refusal:t.refusal??null},finish_reason:r,index:i,logprobs:n}}return l?{...a,index:i,finish_reason:r,logprobs:n,message:{...u,role:d,content:s,refusal:t.refusal??null,tool_calls:l.map((t,r)=>{let{function:n,type:a,id:s,...o}=t,{arguments:l,name:u,...d}=n||{};if(null==s)throw new h(`missing choices[${i}].tool_calls[${r}].id
${e2(e)}`);if(null==a)throw new h(`missing choices[${i}].tool_calls[${r}].type
${e2(e)}`);if(null==u)throw new h(`missing choices[${i}].tool_calls[${r}].function.name
${e2(e)}`);if(null==l)throw new h(`missing choices[${i}].tool_calls[${r}].function.arguments
${e2(e)}`);return{...o,id:s,type:a,function:{...d,name:u,arguments:l}}})}}:{...a,message:{...u,content:s,role:d,refusal:t.refusal??null},finish_reason:r,index:i,logprobs:n}}),created:a,model:s,object:"chat.completion",...o?{system_fingerprint:o}:{}},t&&eV(t)?eW(r,t):{...r,choices:r.choices.map(e=>(eG(e.message.tool_calls),{...e,message:{...e.message,parsed:null,...e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0}}))}}(e,d(this,rC,"f"))},rB=function(){let e=d(this,rC,"f")?.response_format;return eB(e)?e:null},rJ=function(e){var t,r,i,n;let a=d(this,rz,"f"),{choices:s,...o}=e;for(let{delta:s,finish_reason:l,index:c,logprobs:p=null,...m}of(a?Object.assign(a,o):a=u(this,rz,{...o,choices:[]},"f"),e.choices)){let e=a.choices[c];if(e||(e=a.choices[c]={finish_reason:l,index:c,message:{},logprobs:p,...m}),p)if(e.logprobs){let{content:i,refusal:n,...a}=p;e9(a),Object.assign(e.logprobs,a),i&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...i)),n&&((r=e.logprobs).refusal??(r.refusal=[]),e.logprobs.refusal.push(...n))}else e.logprobs=Object.assign({},p);if(l&&(e.finish_reason=l,d(this,rC,"f")&&eV(d(this,rC,"f")))){if("length"===l)throw new O;if("content_filter"===l)throw new E}if(Object.assign(e,m),!s)continue;let{content:o,refusal:u,function_call:h,role:f,tool_calls:g,..._}=s;if(e9(_),Object.assign(e.message,_),u&&(e.message.refusal=(e.message.refusal||"")+u),f&&(e.message.role=f),h&&(e.message.function_call?(h.name&&(e.message.function_call.name=h.name),h.arguments&&((i=e.message.function_call).arguments??(i.arguments=""),e.message.function_call.arguments+=h.arguments)):e.message.function_call=h),o&&(e.message.content=(e.message.content||"")+o,!e.message.refusal&&d(this,rP,"m",rB).call(this)&&(e.message.parsed=e4(e.message.content))),g)for(let{index:t,id:r,type:i,function:a,...s}of(e.message.tool_calls||(e.message.tool_calls=[]),g)){let o=(n=e.message.tool_calls)[t]??(n[t]={});Object.assign(o,s),r&&(o.id=r),i&&(o.type=i),a&&(o.function??(o.function={name:a.name??"",arguments:""})),a?.name&&(o.function.name=a.name),a?.arguments&&(o.function.arguments+=a.arguments,function(e,t){if(!e||!("tools"in e)||!e.tools)return!1;let r=e.tools?.find(e=>eF(e)&&e.function?.name===t.function.name);return eF(r)&&(eJ(r)||r?.function.strict||!1)}(d(this,rC,"f"),o)&&(o.function.parsed_arguments=e4(o.function.arguments)))}}return a},Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("chunk",r=>{let i=t.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),this.on("error",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ec(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function e2(e){return JSON.stringify(e)}function e9(e){}function e5(e){}class e3 extends e6{static fromReadableStream(e){let t=new e3(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,r){let i=new e3(t),n={...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,t,n)),i}}class e8 extends eU{constructor(){super(...arguments),this.messages=new eM(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(eL`/chat/completions/${e}`,t)}update(e,t,r){return this._client.post(eL`/chat/completions/${e}`,{body:t,...r})}list(e={},t){return this._client.getAPIList("/chat/completions",e$,{query:e,...t})}delete(e,t){return this._client.delete(eL`/chat/completions/${e}`,t)}parse(e,t){for(let t of e.tools??[]){if("function"!==t.type)throw new h(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new h(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}return this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(t=>eW(t,e))}runTools(e,t){return e.stream?e3.runTools(this._client,e,t):eY.runTools(this._client,e,t)}stream(e,t){return e6.createChatCompletion(this._client,e,t)}}e8.Messages=eM;class e7 extends eU{constructor(){super(...arguments),this.completions=new e8(this._client)}}e7.Completions=e8,e.s([],346285);let te=Symbol("brand.privateNullableHeaders"),tt=e=>{let t=new Headers,r=new Set;for(let i of e){let e=new Set;for(let[n,a]of function*(e){let t;if(!e)return;if(te in e){let{values:t,nulls:r}=e;for(let e of(yield*t.entries(),r))yield[e,null];return}let r=!1;for(let i of(e instanceof Headers?t=e.entries():j(e)?t=e:(r=!0,t=Object.entries(e??{})),t)){let e=i[0];if("string"!=typeof e)throw TypeError("expected header name to be a string");let t=j(i[1])?i[1]:[i[1]],n=!1;for(let i of t)void 0!==i&&(r&&!n&&(n=!0,yield[e,null]),yield[e,i])}}(i)){let i=n.toLowerCase();e.has(i)||(t.delete(n),e.add(i)),null===a?(t.delete(n),r.add(i)):(t.append(n,a),r.delete(i))}}return{[te]:!0,values:t,nulls:r}};class tr extends eU{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:tt([{Accept:"application/octet-stream"},t?.headers]),__binaryResponse:!0})}}class ti extends eU{create(e,t){return this._client.post("/audio/transcriptions",eE({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class tn extends eU{create(e,t){return this._client.post("/audio/translations",eE({body:e,...t,__metadata:{model:e.model}},this._client))}}class ta extends eU{constructor(){super(...arguments),this.transcriptions=new ti(this._client),this.translations=new tn(this._client),this.speech=new tr(this._client)}}ta.Transcriptions=ti,ta.Translations=tn,ta.Speech=tr;class ts extends eU{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(eL`/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/batches",e$,{query:e,...t})}cancel(e,t){return this._client.post(eL`/batches/${e}/cancel`,t)}}class to extends eU{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(eL`/assistants/${e}`,{...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(eL`/assistants/${e}`,{body:t,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},t){return this._client.getAPIList("/assistants",e$,{query:e,...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(eL`/assistants/${e}`,{...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}class tl extends eU{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}class tu extends eU{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}class td extends eU{constructor(){super(...arguments),this.sessions=new tl(this._client),this.transcriptionSessions=new tu(this._client)}}td.Sessions=tl,td.TranscriptionSessions=tu;class tc extends eU{create(e,t){return this._client.post("/chatkit/sessions",{body:e,...t,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}cancel(e,t){return this._client.post(eL`/chatkit/sessions/${e}/cancel`,{...t,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}}class tp extends eU{retrieve(e,t){return this._client.get(eL`/chatkit/threads/${e}`,{...t,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}list(e={},t){return this._client.getAPIList("/chatkit/threads",ew,{query:e,...t,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}delete(e,t){return this._client.delete(eL`/chatkit/threads/${e}`,{...t,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}listItems(e,t={},r){return this._client.getAPIList(eL`/chatkit/threads/${e}/items`,ew,{query:t,...r,headers:tt([{"OpenAI-Beta":"chatkit_beta=v1"},r?.headers])})}}class tm extends eU{constructor(){super(...arguments),this.sessions=new tc(this._client),this.threads=new tp(this._client)}}tm.Sessions=tc,tm.Threads=tp;class th extends eU{create(e,t,r){return this._client.post(eL`/threads/${e}/messages`,{body:t,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){let{thread_id:i}=t;return this._client.get(eL`/threads/${i}/messages/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){let{thread_id:i,...n}=t;return this._client.post(eL`/threads/${i}/messages/${e}`,{body:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(eL`/threads/${e}/messages`,e$,{query:t,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t,r){let{thread_id:i}=t;return this._client.delete(eL`/threads/${i}/messages/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class tf extends eU{retrieve(e,t,r){let{thread_id:i,run_id:n,...a}=t;return this._client.get(eL`/threads/${i}/runs/${n}/steps/${e}`,{query:a,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t,r){let{thread_id:i,...n}=t;return this._client.getAPIList(eL`/threads/${i}/runs/${e}/steps`,e$,{query:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}let tg=e=>void 0!==globalThis.process?globalThis.process.env?.[e]?.trim()??void 0:void 0!==globalThis.Deno?globalThis.Deno.env?.get?.(e)?.trim():void 0;class t_ extends eH{constructor(){super(...arguments),rW.add(this),rG.set(this,[]),rq.set(this,{}),rK.set(this,{}),rH.set(this,void 0),rX.set(this,void 0),rY.set(this,void 0),rQ.set(this,void 0),r0.set(this,void 0),r1.set(this,void 0),r4.set(this,void 0),r6.set(this,void 0),r2.set(this,void 0)}[(rG=new WeakMap,rq=new WeakMap,rK=new WeakMap,rH=new WeakMap,rX=new WeakMap,rY=new WeakMap,rQ=new WeakMap,r0=new WeakMap,r1=new WeakMap,r4=new WeakMap,r6=new WeakMap,r2=new WeakMap,rW=new WeakSet,Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("event",r=>{let i=t.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),this.on("error",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){let t=new rV;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){let r=t?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();let i=ec.fromReadableStream(e,this.controller);for await(let e of i)d(this,rW,"m",r9).call(this,e);if(i.controller.signal?.aborted)throw new g;return this._addRun(d(this,rW,"m",r5).call(this))}toReadableStream(){return new ec(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,r,i){let n=new rV;return n._run(()=>n._runToolAssistantStream(e,t,r,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),n}async _createToolAssistantStream(e,t,r,i){let n=i?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort()));let a={...r,stream:!0},s=await e.submitToolOutputs(t,a,{...i,signal:this.controller.signal});for await(let e of(this._connected(),s))d(this,rW,"m",r9).call(this,e);if(s.controller.signal?.aborted)throw new g;return this._addRun(d(this,rW,"m",r5).call(this))}static createThreadAssistantStream(e,t,r){let i=new rV;return i._run(()=>i._threadAssistantStream(e,t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,t,r,i){let n=new rV;return n._run(()=>n._runAssistantStream(e,t,r,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),n}currentEvent(){return d(this,r4,"f")}currentRun(){return d(this,r6,"f")}currentMessageSnapshot(){return d(this,rH,"f")}currentRunStepSnapshot(){return d(this,r2,"f")}async finalRunSteps(){return await this.done(),Object.values(d(this,rq,"f"))}async finalMessages(){return await this.done(),Object.values(d(this,rK,"f"))}async finalRun(){if(await this.done(),!d(this,rX,"f"))throw Error("Final run was not received.");return d(this,rX,"f")}async _createThreadAssistantStream(e,t,r){let i=r?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let n={...t,stream:!0},a=await e.createAndRun(n,{...r,signal:this.controller.signal});for await(let e of(this._connected(),a))d(this,rW,"m",r9).call(this,e);if(a.controller.signal?.aborted)throw new g;return this._addRun(d(this,rW,"m",r5).call(this))}async _createAssistantStream(e,t,r,i){let n=i?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort()));let a={...r,stream:!0},s=await e.create(t,a,{...i,signal:this.controller.signal});for await(let e of(this._connected(),s))d(this,rW,"m",r9).call(this,e);if(s.controller.signal?.aborted)throw new g;return this._addRun(d(this,rW,"m",r5).call(this))}static accumulateDelta(e,t){for(let[r,i]of Object.entries(t)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let t=e[r];if(null==t||"index"===r||"type"===r){e[r]=i;continue}if("string"==typeof t&&"string"==typeof i)t+=i;else if("number"==typeof t&&"number"==typeof i)t+=i;else if(C(t)&&C(i))t=this.accumulateDelta(t,i);else if(Array.isArray(t)&&Array.isArray(i)){if(t.every(e=>"string"==typeof e||"number"==typeof e)){t.push(...i);continue}for(let e of i){if(!C(e))throw Error(`Expected array delta entry to be an object but got: ${e}`);let r=e.index;if(null==r)throw console.error(e),Error("Expected array delta entry to have an `index` property");if("number"!=typeof r)throw Error(`Expected array delta entry \`index\` property to be a number but got ${r}`);let i=t[r];null==i?t.push(e):t[r]=this.accumulateDelta(i,e)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${t}`);e[r]=t}return e}_addRun(e){return e}async _threadAssistantStream(e,t,r){return await this._createThreadAssistantStream(t,e,r)}async _runAssistantStream(e,t,r,i){return await this._createAssistantStream(t,e,r,i)}async _runToolAssistantStream(e,t,r,i){return await this._createToolAssistantStream(t,e,r,i)}}rV=t_,r9=function(e){if(!this.ended)switch(u(this,r4,e,"f"),d(this,rW,"m",r7).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":d(this,rW,"m",ii).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":d(this,rW,"m",r8).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":d(this,rW,"m",r3).call(this,e);break;case"error":throw Error("Encountered an error event in event processing - errors should be processed earlier")}},r5=function(){if(this.ended)throw new h("stream has ended, this shouldn't happen");if(!d(this,rX,"f"))throw Error("Final run has not been received");return d(this,rX,"f")},r3=function(e){let[t,r]=d(this,rW,"m",it).call(this,e,d(this,rH,"f"));for(let e of(u(this,rH,t,"f"),d(this,rK,"f")[t.id]=t,r)){let r=t.content[e.index];r?.type=="text"&&this._emit("textCreated",r.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(let r of e.data.delta.content){if("text"==r.type&&r.text){let e=r.text,i=t.content[r.index];if(i&&"text"==i.type)this._emit("textDelta",e,i.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=d(this,rY,"f")){if(d(this,rQ,"f"))switch(d(this,rQ,"f").type){case"text":this._emit("textDone",d(this,rQ,"f").text,d(this,rH,"f"));break;case"image_file":this._emit("imageFileDone",d(this,rQ,"f").image_file,d(this,rH,"f"))}u(this,rY,r.index,"f")}u(this,rQ,t.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==d(this,rY,"f")){let t=e.data.content[d(this,rY,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,d(this,rH,"f"));break;case"text":this._emit("textDone",t.text,d(this,rH,"f"))}}d(this,rH,"f")&&this._emit("messageDone",e.data),u(this,rH,void 0,"f")}},r8=function(e){let t=d(this,rW,"m",ie).call(this,e);switch(u(this,r2,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":let r=e.data.delta;if(r.step_details&&"tool_calls"==r.step_details.type&&r.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(let e of r.step_details.tool_calls)e.index==d(this,r0,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(d(this,r1,"f")&&this._emit("toolCallDone",d(this,r1,"f")),u(this,r0,e.index,"f"),u(this,r1,t.step_details.tool_calls[e.index],"f"),d(this,r1,"f")&&this._emit("toolCallCreated",d(this,r1,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":u(this,r2,void 0,"f"),"tool_calls"==e.data.step_details.type&&d(this,r1,"f")&&(this._emit("toolCallDone",d(this,r1,"f")),u(this,r1,void 0,"f")),this._emit("runStepDone",e.data,t)}},r7=function(e){d(this,rG,"f").push(e),this._emit("event",e)},ie=function(e){switch(e.event){case"thread.run.step.created":return d(this,rq,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=d(this,rq,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){let i=rV.accumulateDelta(t,r.delta);d(this,rq,"f")[e.data.id]=i}return d(this,rq,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":d(this,rq,"f")[e.data.id]=e.data}if(d(this,rq,"f")[e.data.id])return d(this,rq,"f")[e.data.id];throw Error("No snapshot available")},it=function(e,t){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(let e of i.delta.content)if(e.index in t.content){let r=t.content[e.index];t.content[e.index]=d(this,rW,"m",ir).call(this,e,r)}else t.content[e.index]=e,r.push(e);return[t,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},ir=function(e,t){return rV.accumulateDelta(t,e)},ii=function(e){switch(u(this,r6,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":u(this,rX,e.data,"f"),d(this,r1,"f")&&(this._emit("toolCallDone",d(this,r1,"f")),u(this,r1,void 0,"f"))}};class tv extends eU{constructor(){super(...arguments),this.steps=new tf(this._client)}create(e,t,r){let{include:i,...n}=t;return this._client.post(eL`/threads/${e}/runs`,{query:{include:i},body:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}retrieve(e,t,r){let{thread_id:i}=t;return this._client.get(eL`/threads/${i}/runs/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){let{thread_id:i,...n}=t;return this._client.post(eL`/threads/${i}/runs/${e}`,{body:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(eL`/threads/${e}/runs`,e$,{query:t,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,t,r){let{thread_id:i}=t;return this._client.post(eL`/threads/${i}/runs/${e}/cancel`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){let i=await this.create(e,t,r);return await this.poll(i.id,{thread_id:e},r)}createAndStream(e,t,r){return t_.createAssistantStream(e,this._client.beta.threads.runs,t,r)}async poll(e,t,r){let i=tt([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:n,response:a}=await this.retrieve(e,t,{...r,headers:{...r?.headers,...i}}).withResponse();switch(n.status){case"queued":case"in_progress":case"cancelling":let s=5e3;if(r?.pollIntervalMs)s=r.pollIntervalMs;else{let e=a.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(s=t)}}await Z(s);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return n}}}stream(e,t,r){return t_.createAssistantStream(e,this._client.beta.threads.runs,t,r)}submitToolOutputs(e,t,r){let{thread_id:i,...n}=t;return this._client.post(eL`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,r){let i=await this.submitToolOutputs(e,t,r);return await this.poll(i.id,t,r)}submitToolOutputsStream(e,t,r){return t_.createToolAssistantStream(e,this._client.beta.threads.runs,t,r)}}tv.Steps=tf;class ty extends eU{constructor(){super(...arguments),this.runs=new tv(this._client),this.messages=new th(this._client)}create(e={},t){return this._client.post("/threads",{body:e,...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(eL`/threads/${e}`,{...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(eL`/threads/${e}`,{body:t,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t){return this._client.delete(eL`/threads/${e}`,{...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,t){let r=await this.createAndRun(e,t);return await this.runs.poll(r.id,{thread_id:r.thread_id},t)}createAndRunStream(e,t){return t_.createThreadAssistantStream(e,this._client.beta.threads,t)}}ty.Runs=tv,ty.Messages=th;class tb extends eU{constructor(){super(...arguments),this.realtime=new td(this._client),this.chatkit=new tm(this._client),this.assistants=new to(this._client),this.threads=new ty(this._client)}}tb.Realtime=td,tb.ChatKit=tm,tb.Assistants=to,tb.Threads=ty;class t$ extends eU{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class tw extends eU{retrieve(e,t,r){let{container_id:i}=t;return this._client.get(eL`/containers/${i}/files/${e}/content`,{...r,headers:tt([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}}class tx extends eU{constructor(){super(...arguments),this.content=new tw(this._client)}create(e,t,r){return this._client.post(eL`/containers/${e}/files`,eE({body:t,...r},this._client))}retrieve(e,t,r){let{container_id:i}=t;return this._client.get(eL`/containers/${i}/files/${e}`,r)}list(e,t={},r){return this._client.getAPIList(eL`/containers/${e}/files`,e$,{query:t,...r})}delete(e,t,r){let{container_id:i}=t;return this._client.delete(eL`/containers/${i}/files/${e}`,{...r,headers:tt([{Accept:"*/*"},r?.headers])})}}tx.Content=tw;class tk extends eU{constructor(){super(...arguments),this.files=new tx(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(eL`/containers/${e}`,t)}list(e={},t){return this._client.getAPIList("/containers",e$,{query:e,...t})}delete(e,t){return this._client.delete(eL`/containers/${e}`,{...t,headers:tt([{Accept:"*/*"},t?.headers])})}}tk.Files=tx;class tI extends eU{create(e,t,r){let{include:i,...n}=t;return this._client.post(eL`/conversations/${e}/items`,{query:{include:i},body:n,...r})}retrieve(e,t,r){let{conversation_id:i,...n}=t;return this._client.get(eL`/conversations/${i}/items/${e}`,{query:n,...r})}list(e,t={},r){return this._client.getAPIList(eL`/conversations/${e}/items`,ew,{query:t,...r})}delete(e,t,r){let{conversation_id:i}=t;return this._client.delete(eL`/conversations/${i}/items/${e}`,r)}}class tS extends eU{constructor(){super(...arguments),this.items=new tI(this._client)}create(e={},t){return this._client.post("/conversations",{body:e,...t})}retrieve(e,t){return this._client.get(eL`/conversations/${e}`,t)}update(e,t,r){return this._client.post(eL`/conversations/${e}`,{body:t,...r})}delete(e,t){return this._client.delete(eL`/conversations/${e}`,t)}}tS.Items=tI;class tO extends eU{create(e,t){let r=!!e.encoding_format,i=r?e.encoding_format:"base64";r&&eu(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);let n=this._client.post("/embeddings",{body:{...e,encoding_format:i},...t});return r?n:(eu(this._client).debug("embeddings/decoding base64 embeddings from base64"),n._thenUnwrap(e=>(e&&e.data&&e.data.forEach(e=>{let t=e.embedding;e.embedding=(e=>{if("undefined"!=typeof Buffer){let t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{let t=atob(e),r=t.length,i=new Uint8Array(r);for(let e=0;e<r;e++)i[e]=t.charCodeAt(e);return Array.from(new Float32Array(i.buffer))}})(t)}),e)))}}class tE extends eU{retrieve(e,t,r){let{eval_id:i,run_id:n}=t;return this._client.get(eL`/evals/${i}/runs/${n}/output_items/${e}`,r)}list(e,t,r){let{eval_id:i,...n}=t;return this._client.getAPIList(eL`/evals/${i}/runs/${e}/output_items`,e$,{query:n,...r})}}class tT extends eU{constructor(){super(...arguments),this.outputItems=new tE(this._client)}create(e,t,r){return this._client.post(eL`/evals/${e}/runs`,{body:t,...r})}retrieve(e,t,r){let{eval_id:i}=t;return this._client.get(eL`/evals/${i}/runs/${e}`,r)}list(e,t={},r){return this._client.getAPIList(eL`/evals/${e}/runs`,e$,{query:t,...r})}delete(e,t,r){let{eval_id:i}=t;return this._client.delete(eL`/evals/${i}/runs/${e}`,r)}cancel(e,t,r){let{eval_id:i}=t;return this._client.post(eL`/evals/${i}/runs/${e}`,r)}}tT.OutputItems=tE;class tA extends eU{constructor(){super(...arguments),this.runs=new tT(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(eL`/evals/${e}`,t)}update(e,t,r){return this._client.post(eL`/evals/${e}`,{body:t,...r})}list(e={},t){return this._client.getAPIList("/evals",e$,{query:e,...t})}delete(e,t){return this._client.delete(eL`/evals/${e}`,t)}}tA.Runs=tT;class tN extends eU{create(e,t){return this._client.post("/files",eE({body:e,...t},this._client))}retrieve(e,t){return this._client.get(eL`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",e$,{query:e,...t})}delete(e,t){return this._client.delete(eL`/files/${e}`,t)}content(e,t){return this._client.get(eL`/files/${e}/content`,{...t,headers:tt([{Accept:"application/binary"},t?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:r=18e5}={}){let i=new Set(["processed","error","deleted"]),n=Date.now(),a=await this.retrieve(e);for(;!a.status||!i.has(a.status);)if(await Z(t),a=await this.retrieve(e),Date.now()-n>r)throw new v({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return a}}class tj extends eU{}class tP extends eU{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}}class tC extends eU{constructor(){super(...arguments),this.graders=new tP(this._client)}}tC.Graders=tP;class tZ extends eU{create(e,t,r){return this._client.getAPIList(eL`/fine_tuning/checkpoints/${e}/permissions`,eb,{body:t,method:"post",...r})}retrieve(e,t={},r){return this._client.get(eL`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...r})}delete(e,t,r){let{fine_tuned_model_checkpoint:i}=t;return this._client.delete(eL`/fine_tuning/checkpoints/${i}/permissions/${e}`,r)}}class tz extends eU{constructor(){super(...arguments),this.permissions=new tZ(this._client)}}tz.Permissions=tZ;class tU extends eU{list(e,t={},r){return this._client.getAPIList(eL`/fine_tuning/jobs/${e}/checkpoints`,e$,{query:t,...r})}}class tR extends eU{constructor(){super(...arguments),this.checkpoints=new tU(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(eL`/fine_tuning/jobs/${e}`,t)}list(e={},t){return this._client.getAPIList("/fine_tuning/jobs",e$,{query:e,...t})}cancel(e,t){return this._client.post(eL`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},r){return this._client.getAPIList(eL`/fine_tuning/jobs/${e}/events`,e$,{query:t,...r})}pause(e,t){return this._client.post(eL`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(eL`/fine_tuning/jobs/${e}/resume`,t)}}tR.Checkpoints=tU;class tD extends eU{constructor(){super(...arguments),this.methods=new tj(this._client),this.jobs=new tR(this._client),this.checkpoints=new tz(this._client),this.alpha=new tC(this._client)}}tD.Methods=tj,tD.Jobs=tR,tD.Checkpoints=tz,tD.Alpha=tC;class tL extends eU{}class tM extends eU{constructor(){super(...arguments),this.graderModels=new tL(this._client)}}tM.GraderModels=tL;class tF extends eU{createVariation(e,t){return this._client.post("/images/variations",eE({body:e,...t},this._client))}edit(e,t){return this._client.post("/images/edits",eE({body:e,...t,stream:e.stream??!1},this._client))}generate(e,t){return this._client.post("/images/generations",{body:e,...t,stream:e.stream??!1})}}class tB extends eU{retrieve(e,t){return this._client.get(eL`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",eb,e)}delete(e,t){return this._client.delete(eL`/models/${e}`,t)}}class tJ extends eU{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class tW extends eU{accept(e,t,r){return this._client.post(eL`/realtime/calls/${e}/accept`,{body:t,...r,headers:tt([{Accept:"*/*"},r?.headers])})}hangup(e,t){return this._client.post(eL`/realtime/calls/${e}/hangup`,{...t,headers:tt([{Accept:"*/*"},t?.headers])})}refer(e,t,r){return this._client.post(eL`/realtime/calls/${e}/refer`,{body:t,...r,headers:tt([{Accept:"*/*"},r?.headers])})}reject(e,t={},r){return this._client.post(eL`/realtime/calls/${e}/reject`,{body:t,...r,headers:tt([{Accept:"*/*"},r?.headers])})}}class tV extends eU{create(e,t){return this._client.post("/realtime/client_secrets",{body:e,...t})}}class tG extends eU{constructor(){super(...arguments),this.clientSecrets=new tV(this._client),this.calls=new tW(this._client)}}function tq(e,t){let r=e.output.map(e=>{if("function_call"===e.type)return{...e,parsed_arguments:function(e,t){var r,i;let n=(r=e.tools??[],i=t.name,r.find(e=>"function"===e.type&&e.name===i));return{...t,...t,parsed_arguments:n?.$brand==="auto-parseable-tool"?n.$parseRaw(t.arguments):n?.strict?JSON.parse(t.arguments):null}}(t,e)};if("message"===e.type){let r=e.content.map(e=>{var r,i;return"output_text"===e.type?{...e,parsed:(r=t,i=e.text,r.text?.format?.type!=="json_schema"?null:"$parseRaw"in r.text?.format?(r.text?.format).$parseRaw(i):JSON.parse(i))}:e});return{...e,content:r}}return e}),i=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||tK(i),Object.defineProperty(i,"output_parsed",{enumerable:!0,get(){for(let e of i.output)if("message"===e.type){for(let t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed}return null}}),i}function tK(e){let t=[];for(let r of e.output)if("message"===r.type)for(let e of r.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}tG.ClientSecrets=tV,tG.Calls=tW;class tH extends eH{constructor(e){super(),ia.add(this),is.set(this,void 0),io.set(this,void 0),il.set(this,void 0),u(this,is,e,"f")}static createResponse(e,t,r){let i=new tH(t);return i._run(()=>i._createOrRetrieveResponse(e,t,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,t,r){let i,n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),d(this,ia,"m",iu).call(this);let a=null;for await(let n of("response_id"in t?(i=await e.responses.retrieve(t.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=t.starting_after??null):i=await e.responses.create({...t,stream:!0},{...r,signal:this.controller.signal}),this._connected(),i))d(this,ia,"m",id).call(this,n,a);if(i.controller.signal?.aborted)throw new g;return d(this,ia,"m",ic).call(this)}[(is=new WeakMap,io=new WeakMap,il=new WeakMap,ia=new WeakSet,iu=function(){this.ended||u(this,io,void 0,"f")},id=function(e,t){if(this.ended)return;let r=(e,r)=>{(null==t||r.sequence_number>t)&&this._emit(e,r)},i=d(this,ia,"m",ip).call(this,e);switch(r("event",e),e.type){case"response.output_text.delta":{let t=i.output[e.output_index];if(!t)throw new h(`missing output at index ${e.output_index}`);if("message"===t.type){let i=t.content[e.content_index];if(!i)throw new h(`missing content at index ${e.content_index}`);if("output_text"!==i.type)throw new h(`expected content to be 'output_text', got ${i.type}`);r("response.output_text.delta",{...e,snapshot:i.text})}break}case"response.function_call_arguments.delta":{let t=i.output[e.output_index];if(!t)throw new h(`missing output at index ${e.output_index}`);"function_call"===t.type&&r("response.function_call_arguments.delta",{...e,snapshot:t.arguments});break}default:r(e.type,e)}},ic=function(){if(this.ended)throw new h("stream has ended, this shouldn't happen");let e=d(this,io,"f");if(!e)throw new h("request ended without sending any events");u(this,io,void 0,"f");let t=function(e,t){var r;return t&&(r=t,eB(r.text?.format))?tq(e,t):{...e,output_parsed:null,output:e.output.map(e=>"function_call"===e.type?{...e,parsed_arguments:null}:"message"===e.type?{...e,content:e.content.map(e=>({...e,parsed:null}))}:e)}}(e,d(this,is,"f"));return u(this,il,t,"f"),t},ip=function(e){let t=d(this,io,"f");if(!t){if("response.created"!==e.type)throw new h(`When snapshot hasn't been set yet, expected 'response.created' event, got ${e.type}`);return u(this,io,e.response,"f")}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{let r=t.output[e.output_index];if(!r)throw new h(`missing output at index ${e.output_index}`);let i=r.type,n=e.part;"message"===i&&"reasoning_text"!==n.type?r.content.push(n):"reasoning"===i&&"reasoning_text"===n.type&&(r.content||(r.content=[]),r.content.push(n));break}case"response.output_text.delta":{let r=t.output[e.output_index];if(!r)throw new h(`missing output at index ${e.output_index}`);if("message"===r.type){let t=r.content[e.content_index];if(!t)throw new h(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new h(`expected content to be 'output_text', got ${t.type}`);t.text+=e.delta}break}case"response.function_call_arguments.delta":{let r=t.output[e.output_index];if(!r)throw new h(`missing output at index ${e.output_index}`);"function_call"===r.type&&(r.arguments+=e.delta);break}case"response.reasoning_text.delta":{let r=t.output[e.output_index];if(!r)throw new h(`missing output at index ${e.output_index}`);if("reasoning"===r.type){let t=r.content?.[e.content_index];if(!t)throw new h(`missing content at index ${e.content_index}`);if("reasoning_text"!==t.type)throw new h(`expected content to be 'reasoning_text', got ${t.type}`);t.text+=e.delta}break}case"response.completed":u(this,io,e.response,"f")}return t},Symbol.asyncIterator)](){let e=[],t=[],r=!1;return this.on("event",r=>{let i=t.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{for(let e of(r=!0,t))e.resolve(void 0);t.length=0}),this.on("abort",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),this.on("error",e=>{for(let i of(r=!0,t))i.reject(e);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((e,r)=>t.push({resolve:e,reject:r})).then(e=>e?{value:e,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();let e=d(this,il,"f");if(!e)throw new h("stream ended without producing a ChatCompletion");return e}}class tX extends eU{list(e,t={},r){return this._client.getAPIList(eL`/responses/${e}/input_items`,e$,{query:t,...r})}}class tY extends eU{count(e={},t){return this._client.post("/responses/input_tokens",{body:e,...t})}}class tQ extends eU{constructor(){super(...arguments),this.inputItems=new tX(this._client),this.inputTokens=new tY(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&tK(e),e))}retrieve(e,t={},r){return this._client.get(eL`/responses/${e}`,{query:t,...r,stream:t?.stream??!1})._thenUnwrap(e=>("object"in e&&"response"===e.object&&tK(e),e))}delete(e,t){return this._client.delete(eL`/responses/${e}`,{...t,headers:tt([{Accept:"*/*"},t?.headers])})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(t=>tq(t,e))}stream(e,t){return tH.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(eL`/responses/${e}/cancel`,t)}}tQ.InputItems=tX,tQ.InputTokens=tY;class t0 extends eU{create(e,t,r){return this._client.post(eL`/uploads/${e}/parts`,eE({body:t,...r},this._client))}}class t1 extends eU{constructor(){super(...arguments),this.parts=new t0(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(eL`/uploads/${e}/cancel`,t)}complete(e,t,r){return this._client.post(eL`/uploads/${e}/complete`,{body:t,...r})}}t1.Parts=t0;let t4=async e=>{let t=await Promise.allSettled(e),r=t.filter(e=>"rejected"===e.status);if(r.length){for(let e of r)console.error(e.reason);throw Error(`${r.length} promise(s) failed - see the above errors`)}let i=[];for(let e of t)"fulfilled"===e.status&&i.push(e.value);return i};class t6 extends eU{create(e,t,r){return this._client.post(eL`/vector_stores/${e}/file_batches`,{body:t,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){let{vector_store_id:i}=t;return this._client.get(eL`/vector_stores/${i}/file_batches/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}cancel(e,t,r){let{vector_store_id:i}=t;return this._client.post(eL`/vector_stores/${i}/file_batches/${e}/cancel`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){let i=await this.create(e,t);return await this.poll(e,i.id,r)}listFiles(e,t,r){let{vector_store_id:i,...n}=t;return this._client.getAPIList(eL`/vector_stores/${i}/file_batches/${e}/files`,e$,{query:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async poll(e,t,r){let i=tt([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:n,response:a}=await this.retrieve(t,{vector_store_id:e},{...r,headers:i}).withResponse();switch(n.status){case"in_progress":let s=5e3;if(r?.pollIntervalMs)s=r.pollIntervalMs;else{let e=a.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(s=t)}}await Z(s);break;case"failed":case"cancelled":case"completed":return n}}}async uploadAndPoll(e,{files:t,fileIds:r=[]},i){if(null==t||0==t.length)throw Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let n=Math.min(i?.maxConcurrency??5,t.length),a=this._client,s=t.values(),o=[...r];async function l(e){for(let t of e){let e=await a.files.create({file:t,purpose:"assistants"},i);o.push(e.id)}}let u=Array(n).fill(s).map(l);return await t4(u),await this.createAndPoll(e,{file_ids:o})}}class t2 extends eU{create(e,t,r){return this._client.post(eL`/vector_stores/${e}/files`,{body:t,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,t,r){let{vector_store_id:i}=t;return this._client.get(eL`/vector_stores/${i}/files/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,t,r){let{vector_store_id:i,...n}=t;return this._client.post(eL`/vector_stores/${i}/files/${e}`,{body:n,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e,t={},r){return this._client.getAPIList(eL`/vector_stores/${e}/files`,e$,{query:t,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,t,r){let{vector_store_id:i}=t;return this._client.delete(eL`/vector_stores/${i}/files/${e}`,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}async createAndPoll(e,t,r){let i=await this.create(e,t,r);return await this.poll(e,i.id,r)}async poll(e,t,r){let i=tt([r?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":r?.pollIntervalMs?.toString()??void 0}]);for(;;){let n=await this.retrieve(t,{vector_store_id:e},{...r,headers:i}).withResponse(),a=n.data;switch(a.status){case"in_progress":let s=5e3;if(r?.pollIntervalMs)s=r.pollIntervalMs;else{let e=n.response.headers.get("openai-poll-after-ms");if(e){let t=parseInt(e);isNaN(t)||(s=t)}}await Z(s);break;case"failed":case"completed":return a}}}async upload(e,t,r){let i=await this._client.files.create({file:t,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,t,r){let i=await this.upload(e,t,r);return await this.poll(e,i.id,r)}content(e,t,r){let{vector_store_id:i}=t;return this._client.getAPIList(eL`/vector_stores/${i}/files/${e}/content`,eb,{...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class t9 extends eU{constructor(){super(...arguments),this.files=new t2(this._client),this.fileBatches=new t6(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(eL`/vector_stores/${e}`,{...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,r){return this._client.post(eL`/vector_stores/${e}`,{body:t,...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}list(e={},t){return this._client.getAPIList("/vector_stores",e$,{query:e,...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(eL`/vector_stores/${e}`,{...t,headers:tt([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}search(e,t,r){return this._client.getAPIList(eL`/vector_stores/${e}/search`,eb,{body:t,method:"post",...r,headers:tt([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}t9.Files=t2,t9.FileBatches=t6;class t5 extends eU{create(e,t){return this._client.post("/videos",eO({body:e,...t},this._client))}retrieve(e,t){return this._client.get(eL`/videos/${e}`,t)}list(e={},t){return this._client.getAPIList("/videos",ew,{query:e,...t})}delete(e,t){return this._client.delete(eL`/videos/${e}`,t)}downloadContent(e,t={},r){return this._client.get(eL`/videos/${e}/content`,{query:t,...r,headers:tt([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}remix(e,t,r){return this._client.post(eL`/videos/${e}/remix`,eO({body:t,...r},this._client))}}class t3 extends eU{constructor(){super(...arguments),im.add(this)}async unwrap(e,t,r=this._client.webhookSecret,i=300){return await this.verifySignature(e,t,r,i),JSON.parse(e)}async verifySignature(e,t,r=this._client.webhookSecret,i=300){if("undefined"==typeof crypto||"function"!=typeof crypto.subtle.importKey||"function"!=typeof crypto.subtle.verify)throw Error("Webhook signature verification is only supported when the `crypto` global is defined");d(this,im,"m",ih).call(this,r);let n=tt([t]).values,a=d(this,im,"m",ig).call(this,n,"webhook-signature"),s=d(this,im,"m",ig).call(this,n,"webhook-timestamp"),o=d(this,im,"m",ig).call(this,n,"webhook-id"),l=parseInt(s,10);if(isNaN(l))throw new T("Invalid webhook timestamp format");let u=Math.floor(Date.now()/1e3);if(u-l>i)throw new T("Webhook timestamp is too old");if(l>u+i)throw new T("Webhook timestamp is too new");let c=a.split(" ").map(e=>e.startsWith("v1,")?e.substring(3):e),p=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),m=o?`${o}.${s}.${e}`:`${s}.${e}`,h=await crypto.subtle.importKey("raw",p,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(let e of c)try{let t=Buffer.from(e,"base64");if(await crypto.subtle.verify("HMAC",h,t,new TextEncoder().encode(m)))return}catch{continue}throw new T("The given webhook signature does not match the expected signature")}}im=new WeakSet,ih=function(e){if("string"!=typeof e||0===e.length)throw Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},ig=function(e,t){if(!e)throw Error("Headers are required");let r=e.get(t);if(null==r)throw Error(`Missing required header: ${t}`);return r},e.i(346285);class t8{constructor({baseURL:e=tg("OPENAI_BASE_URL"),apiKey:t=tg("OPENAI_API_KEY"),organization:r=tg("OPENAI_ORG_ID")??null,project:i=tg("OPENAI_PROJECT_ID")??null,webhookSecret:n=tg("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(i_.add(this),iy.set(this,void 0),this.completions=new t$(this),this.chat=new e7(this),this.embeddings=new tO(this),this.files=new tN(this),this.images=new tF(this),this.audio=new ta(this),this.moderations=new tJ(this),this.models=new tB(this),this.fineTuning=new tD(this),this.graders=new tM(this),this.vectorStores=new t9(this),this.webhooks=new t3(this),this.beta=new tb(this),this.batches=new ts(this),this.uploads=new t1(this),this.responses=new tQ(this),this.realtime=new tG(this),this.conversations=new tS(this),this.evals=new tA(this),this.containers=new tk(this),this.videos=new t5(this),void 0===t)throw new h("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const s={apiKey:t,organization:r,project:i,webhookSecret:n,...a,baseURL:e||"https://api.openai.com/v1"};s.dangerouslyAllowBrowser,this.baseURL=s.baseURL,this.timeout=s.timeout??iv.DEFAULT_TIMEOUT,this.logger=s.logger??console;const o="warn";this.logLevel=o,this.logLevel=en(s.logLevel,"ClientOptions.logLevel",this)??en(tg("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??o,this.fetchOptions=s.fetchOptions,this.maxRetries=s.maxRetries??2,this.fetch=s.fetch??function(){if("undefined"!=typeof fetch)return fetch;throw Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),u(this,iy,B,"f"),this._options=s,this.apiKey="string"==typeof t?t:"Missing Key",this.organization=r,this.project=i,this.webhookSecret=n}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){}async authHeaders(e){return tt([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return function(e,t={}){let r,i=e,n=function(e=Y){let t;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");let r=e.charset||Y.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let i=J;if(void 0!==e.format){if(!G(V,e.format))throw TypeError("Unknown format option provided.");i=e.format}let n=V[i],a=Y.filter;if(("function"==typeof e.filter||N(e.filter))&&(a=e.filter),t=e.arrayFormat&&e.arrayFormat in H?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":Y.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");let s=void 0===e.allowDots?!0==!!e.encodeDotInKeys||Y.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Y.addQueryPrefix,allowDots:s,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:Y.allowEmptyArrays,arrayFormat:t,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Y.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?Y.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Y.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:Y.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:Y.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Y.encodeValuesOnly,filter:a,format:i,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Y.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Y.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Y.strictNullHandling}}(t);"function"==typeof n.filter?i=(0,n.filter)("",i):N(n.filter)&&(r=n.filter);let a=[];if("object"!=typeof i||null===i)return"";let s=H[n.arrayFormat],o="comma"===s&&n.commaRoundTrip;r||(r=Object.keys(i)),n.sort&&r.sort(n.sort);let l=new WeakMap;for(let e=0;e<r.length;++e){let t=r[e];n.skipNulls&&null===i[t]||X(a,function e(t,r,i,n,a,s,o,l,u,d,c,p,m,h,f,g,_,v){var y,b;let $,w=t,x=v,k=0,I=!1;for(;void 0!==(x=x.get(Q))&&!I;){let e=x.get(t);if(k+=1,void 0!==e)if(e===k)throw RangeError("Cyclic object value");else I=!0;void 0===x.get(Q)&&(k=0)}if("function"==typeof d?w=d(r,w):w instanceof Date?w=m?.(w):"comma"===i&&N(w)&&(w=K(w,function(e){return e instanceof Date?m?.(e):e})),null===w){if(s)return u&&!g?u(r,Y.encoder,_,"key",h):r;w=""}if("string"==typeof(y=w)||"number"==typeof y||"boolean"==typeof y||"symbol"==typeof y||"bigint"==typeof y||(b=w)&&"object"==typeof b&&b.constructor&&b.constructor.isBuffer&&b.constructor.isBuffer(b)){if(u){let e=g?r:u(r,Y.encoder,_,"key",h);return[f?.(e)+"="+f?.(u(w,Y.encoder,_,"value",h))]}return[f?.(r)+"="+f?.(String(w))]}let S=[];if(void 0===w)return S;if("comma"===i&&N(w))g&&u&&(w=K(w,u)),$=[{value:w.length>0?w.join(",")||null:void 0}];else if(N(d))$=d;else{let e=Object.keys(w);$=c?e.sort(c):e}let O=l?String(r).replace(/\./g,"%2E"):String(r),E=n&&N(w)&&1===w.length?O+"[]":O;if(a&&N(w)&&0===w.length)return E+"[]";for(let r=0;r<$.length;++r){let y=$[r],b="object"==typeof y&&void 0!==y.value?y.value:w[y];if(o&&null===b)continue;let x=p&&l?y.replace(/\./g,"%2E"):y,I=N(w)?"function"==typeof i?i(E,x):E:E+(p?"."+x:"["+x+"]");v.set(t,k);let O=new WeakMap;O.set(Q,v),X(S,e(b,I,i,n,a,s,o,l,"comma"===i&&g&&N(w)?null:u,d,c,p,m,h,f,g,_,O))}return S}(i[t],t,s,o,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}let u=a.join(n.delimiter),d=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${z}`}defaultIdempotencyKey(){return`stainless-node-retry-${c()}`}makeStatusError(e,t,r,i){return f.generate(e,t,r,i)}async _callApiKey(){let e,t=this._options.apiKey;if("function"!=typeof t)return!1;try{e=await t()}catch(e){if(e instanceof h)throw e;throw new h(`Failed to get token from 'apiKey' function: ${e.message}`,{cause:e})}if("string"!=typeof e||!e)throw new h(`Expected 'apiKey' function argument to return a string but it returned ${e}`);return this.apiKey=e,!0}buildURL(e,t,r){let i=!d(this,i_,"m",ib).call(this)&&r||this.baseURL,n=new URL(A.test(e)?e:i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return!function(e){if(!e)return!0;for(let t in e)return!1;return!0}(a)&&(t={...a,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(r=>({method:e,path:t,...r})))}request(e,t=null){return new e_(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){let i=await e,n=i.maxRetries??this.maxRetries;null==t&&(t=n),await this.prepareOptions(i);let{req:a,url:s,timeout:o}=await this.buildRequest(i,{retryCount:n-t});await this.prepareRequest(a,{url:s,options:i});let l="log_"+(0x1000000*Math.random()|0).toString(16).padStart(6,"0"),u=void 0===r?"":`, retryOf: ${r}`,d=Date.now();if(eu(this).debug(`[${l}] sending request`,ed({retryOfRequestLogID:r,method:i.method,url:s,options:i,headers:a.headers})),i.signal?.aborted)throw new g;let c=new AbortController,h=await this.fetchWithTimeout(s,a,o,c).catch(m),f=Date.now();if(h instanceof globalThis.Error){let e=`retrying, ${t} attempts remaining`;if(i.signal?.aborted)throw new g;let n=p(h)||/timed? ?out/i.test(String(h)+("cause"in h?String(h.cause):""));if(t)return eu(this).info(`[${l}] connection ${n?"timed out":"failed"} - ${e}`),eu(this).debug(`[${l}] connection ${n?"timed out":"failed"} (${e})`,ed({retryOfRequestLogID:r,url:s,durationMs:f-d,message:h.message})),this.retryRequest(i,t,r??l);if(eu(this).info(`[${l}] connection ${n?"timed out":"failed"} - error; no more retries left`),eu(this).debug(`[${l}] connection ${n?"timed out":"failed"} (error; no more retries left)`,ed({retryOfRequestLogID:r,url:s,durationMs:f-d,message:h.message})),n)throw new v;throw new _({cause:h})}let y=[...h.headers.entries()].filter(([e])=>"x-request-id"===e).map(([e,t])=>", "+e+": "+JSON.stringify(t)).join(""),b=`[${l}${u}${y}] ${a.method} ${s} ${h.ok?"succeeded":"failed"} with status ${h.status} in ${f-d}ms`;if(!h.ok){let e=await this.shouldRetry(h);if(t&&e){let e=`retrying, ${t} attempts remaining`;return await F(h.body),eu(this).info(`${b} - ${e}`),eu(this).debug(`[${l}] response error (${e})`,ed({retryOfRequestLogID:r,url:h.url,status:h.status,headers:h.headers,durationMs:f-d})),this.retryRequest(i,t,r??l,h.headers)}let n=e?"error; no more retries left":"error; not retryable";eu(this).info(`${b} - ${n}`);let a=await h.text().catch(e=>m(e).message),s=(e=>{try{return JSON.parse(e)}catch(e){return}})(a),o=s?void 0:a;throw eu(this).debug(`[${l}] response error (${n})`,ed({retryOfRequestLogID:r,url:h.url,status:h.status,headers:h.headers,message:o,durationMs:Date.now()-d})),this.makeStatusError(h.status,s,o,h.headers)}return eu(this).info(b),eu(this).debug(`[${l}] response start`,ed({retryOfRequestLogID:r,url:h.url,status:h.status,headers:h.headers,durationMs:f-d})),{response:h,options:i,controller:c,requestLogID:l,retryOfRequestLogID:r,startTime:d}}getAPIList(e,t,r){return this.requestAPIList(t,{method:"get",path:e,...r})}requestAPIList(e,t){return new ey(this,this.makeRequest(t,null,void 0),e)}async fetchWithTimeout(e,t,r,i){let{signal:n,method:a,...s}=t||{};n&&n.addEventListener("abort",()=>i.abort());let o=setTimeout(()=>i.abort(),r),l=globalThis.ReadableStream&&s.body instanceof globalThis.ReadableStream||"object"==typeof s.body&&null!==s.body&&Symbol.asyncIterator in s.body,u={signal:i.signal,...l?{duplex:"half"}:{},method:"GET",...s};a&&(u.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(o)}}async shouldRetry(e){let t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||!!(e.status>=500))}async retryRequest(e,t,r,i){let n,a=i?.get("retry-after-ms");if(a){let e=parseFloat(a);Number.isNaN(e)||(n=e)}let s=i?.get("retry-after");if(s&&!n){let e=parseFloat(s);n=Number.isNaN(e)?Date.parse(s)-Date.now():1e3*e}if(!(n&&0<=n&&n<6e4)){let r=e.maxRetries??this.maxRetries;n=this.calculateDefaultRetryTimeoutMillis(t,r)}return await Z(n),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){return Math.min(.5*Math.pow(2,t-e),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){let r={...e},{method:i,path:n,query:a,defaultBaseURL:s}=r,o=this.buildURL(n,a,s);"timeout"in r&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new h(`${e} must be an integer`);if(t<0)throw new h(`${e} must be a positive integer`)})("timeout",r.timeout),r.timeout=r.timeout??this.timeout;let{bodyHeaders:l,body:u}=this.buildBody({options:r}),d=await this.buildHeaders({options:e,method:i,bodyHeaders:l,retryCount:t});return{req:{method:i,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...r.fetchOptions??{}},url:o,timeout:r.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:i,retryCount:n}){let a={};this.idempotencyHeader&&"get"!==r&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);let s=tt([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(n),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...t??(t=(()=>{let e="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":z,"X-Stainless-OS":R(Deno.build.os),"X-Stainless-Arch":U(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":z,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":z,"X-Stainless-OS":R(globalThis.process.platform??"unknown"),"X-Stainless-Arch":U(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let t=function(){if("undefined"==typeof navigator||!navigator)return null;for(let{key:e,pattern:t}of[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}]){let r=t.exec(navigator.userAgent);if(r){let t=r[1]||0,i=r[2]||0,n=r[3]||0;return{browser:e,version:`${t}.${i}.${n}`}}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":z,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":z,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})()),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,i,e.headers]);return this.validateHeaders(s),s.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};let r=tt([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:L(e)}:d(this,iy,"f").call(this,{body:e,headers:r})}}iv=t8,iy=new WeakMap,i_=new WeakSet,ib=function(){return"https://api.openai.com/v1"!==this.baseURL},t8.OpenAI=iv,t8.DEFAULT_TIMEOUT=6e5,t8.OpenAIError=h,t8.APIError=f,t8.APIConnectionError=_,t8.APIConnectionTimeoutError=v,t8.APIUserAbortError=g,t8.NotFoundError=w,t8.ConflictError=x,t8.RateLimitError=I,t8.BadRequestError=y,t8.AuthenticationError=b,t8.InternalServerError=S,t8.PermissionDeniedError=$,t8.UnprocessableEntityError=k,t8.InvalidWebhookSignatureError=T,t8.toFile=eZ,t8.Completions=t$,t8.Chat=e7,t8.Embeddings=tO,t8.Files=tN,t8.Images=tF,t8.Audio=ta,t8.Moderations=tJ,t8.Models=tB,t8.FineTuning=tD,t8.Graders=tM,t8.VectorStores=t9,t8.Webhooks=t3,t8.Beta=tb,t8.Batches=ts,t8.Uploads=t1,t8.Responses=tQ,t8.Realtime=tG,t8.Conversations=tS,t8.Evals=tA,t8.Containers=tk,t8.Videos=t5,e.s(["OpenAI",()=>t8],136518);class t7 extends t8{constructor({baseURL:e=tg("OPENAI_BASE_URL"),apiKey:t=tg("AZURE_OPENAI_API_KEY"),apiVersion:r=tg("OPENAI_API_VERSION"),endpoint:i,deployment:n,azureADTokenProvider:a,dangerouslyAllowBrowser:s,...o}={}){if(!r)throw new h("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if("function"==typeof a&&(s=!0),!a&&!t)throw new h("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(a&&t)throw new h("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(o.defaultQuery={...o.defaultQuery,"api-version":r},e){if(i)throw new h("baseURL and endpoint are mutually exclusive")}else{if(i||(i=process.env.AZURE_OPENAI_ENDPOINT),!i)throw new h("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");e=`${i}/openai`}super({apiKey:a??t,baseURL:e,...o,...void 0!==s?{dangerouslyAllowBrowser:s}:{}}),this.apiVersion="",this.apiVersion=r,this.deploymentName=n}async buildRequest(e,t={}){if(re.has(e.path)&&"post"===e.method&&void 0!==e.body){if(!C(e.body))throw Error("Expected request body to be an object");let t=this.deploymentName||e.body.model||e.__metadata?.model;void 0===t||this.baseURL.includes("/deployments")||(e.path=`/deployments/${t}${e.path}`)}return super.buildRequest(e,t)}async authHeaders(e){return"string"==typeof this._options.apiKey?tt([{"api-key":this.apiKey}]):super.authHeaders(e)}}let re=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches","/images/edits"]);function rt(e){let t;return e&&"object"==typeof e?(e.constructor.name===v.name&&"message"in e&&"string"==typeof e.message?(t=Error(e.message)).name="TimeoutError":e.constructor.name===g.name&&"message"in e&&"string"==typeof e.message?(t=Error(e.message)).name="AbortError":t="status"in e&&400===e.status&&"message"in e&&"string"==typeof e.message&&e.message.includes("tool_calls")?l(e,"INVALID_TOOL_RESULTS"):"status"in e&&401===e.status?l(e,"MODEL_AUTHENTICATION"):"status"in e&&429===e.status?l(e,"MODEL_RATE_LIMIT"):"status"in e&&404===e.status?l(e,"MODEL_NOT_FOUND"):e,t):e}e.s(["AzureOpenAI",()=>t7],807965),e.s([],611691),e.s(["wrapOpenAIClientError",()=>rt],891489),e.i(637253);var rr,ri,rn,ra,rs,ro,rl,ru,rd,rc,rp,rm,rh,rf,rg,r_,rv,ry,rb,r$,rw,rx,rk,rI,rS,rO,rE,rT,rA,rN,rj,rP,rC,rZ,rz,rU,rR,rD,rL,rM,rF,rB,rJ,rW,rV,rG,rq,rK,rH,rX,rY,rQ,r0,r1,r4,r6,r2,r9,r5,r3,r8,r7,ie,it,ir,ii,ia,is,io,il,iu,id,ic,ip,im,ih,ig,i_,iv,iy,ib,i$,iw,ix,ik,iI,iS,iO=e.i(151191);let iE=e=>e();function iT(e){return!!e&&!!(/^o\d/.test(e??"")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"))}function iA(e){let t=e._getType();switch(t){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!iO.ChatMessage.isInstance(e))throw Error("Invalid generic chat message");return"system"!==e.role&&"developer"!==e.role&&"assistant"!==e.role&&"user"!==e.role&&"function"!==e.role&&"tool"!==e.role&&console.warn(`Unknown message role: ${e.role}`),e.role;default:throw Error(`Unknown message type: ${t}`)}}e.s(["iife",()=>iE,"isReasoningModel",()=>iT,"messageToOpenAIRole",()=>iA],687751);var iN=e.i(496827);function ij(e){let{azureOpenAIApiDeploymentName:t,azureOpenAIApiInstanceName:r,azureOpenAIApiKey:i,azureOpenAIBasePath:n,baseURL:a,azureADTokenProvider:s,azureOpenAIEndpoint:o}=e;if((i||s)&&n&&t)return`${n}/${t}`;if((i||s)&&o&&t)return`${o}/openai/deployments/${t}`;if(i||s){if(!r)throw Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!t)throw Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${r}.openai.azure.com/openai/deployments/${t}`}return a}function iP(e){return"undefined"!=typeof Headers&&null!==e&&"object"==typeof e&&"[object Headers]"===Object.prototype.toString.call(e)}function iC(e){return Object.fromEntries(iE(()=>iP(e)?e:Array.isArray(e)?new Headers(e):"object"==typeof e&&null!==e&&"values"in e&&iP(e.values)?e.values:"object"==typeof e&&null!==e?new Headers(Object.entries(e).filter(([,e])=>"string"==typeof e).map(([e,t])=>[e,t])):new Headers).entries())}function iZ(){let e=(0,iN.getEnv)();return("node"===e||"deno"===e)&&(e=`(${e}/${process.version}; ${process.platform}; ${process.arch})`),e}function iz(e,t=!1,r="1.0.0"){let i=iC(e),n=iZ(),a=`langchainjs${t?"-azure":""}-openai`;return{...i,"User-Agent":i["User-Agent"]?`${a}/${r} (${n})${i["User-Agent"]}`:`${a}/${r} (${n})`}}e.s(["getEndpoint",()=>ij,"getFormattedEnv",()=>iZ,"getHeadersWithUserAgent",()=>iz,"isHeaders",()=>iP,"normalizeHeaders",()=>iC],778759);var iU=e.i(675736),iR=e.i(785337),iD=e.i(238073),iL=e.i(420204);function iM(e){return void 0!==e&&Array.isArray(e.lc_namespace)}function iF(e){return void 0!==e&&iL.Runnable.isRunnable(e)&&"lc_name"in e.constructor&&"function"==typeof e.constructor.lc_name&&"RunnableToolLike"===e.constructor.lc_name()}function iB(e){return!!e&&"object"==typeof e&&"name"in e&&"schema"in e&&((0,iD.isInteropZodSchema)(e.schema)||null!=e.schema&&"object"==typeof e.schema&&"type"in e.schema&&"string"==typeof e.schema.type&&["null","boolean","object","array","number","string"].includes(e.schema.type))}function iJ(e){return iB(e)||iF(e)||iM(e)}function iW(e,t){let r="number"==typeof t?void 0:t;return{name:e.name,description:e.description,parameters:(0,iR.toJsonSchema)(e.schema),...r?.strict!==void 0?{strict:r.strict}:{}}}function iV(e,t){let r,i="number"==typeof t?void 0:t;return r=iJ(e)?{type:"function",function:iW(e)}:e,i?.strict!==void 0&&(r.function.strict=i.strict),r}function iG(e,t){let r=[];for(let[i,n]of Object.entries(e.properties??{}))n.description&&t<2&&r.push(`// ${n.description}`),e.required?.includes(i)?r.push(`${i}: ${iq(n,t)},`):r.push(`${i}?: ${iq(n,t)},`);return r.map(e=>" ".repeat(t)+e).join("\n")}function iq(e,t){if(void 0!==e.anyOf&&Array.isArray(e.anyOf))return e.anyOf.map(e=>iq(e,t)).join(" | ");switch(e.type){case"string":if(e.enum)return e.enum.map(e=>`"${e}"`).join(" | ");return"string";case"number":if(e.enum)return e.enum.map(e=>`${e}`).join(" | ");return"number";case"integer":if(e.enum)return e.enum.map(e=>`${e}`).join(" | ");return"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",iG(e,t+2),"}"].join("\n");case"array":if(e.items)return`${iq(e.items,t)}[]`;return"any[]";default:return""}}function iK(e){if(e){if("any"===e||"required"===e)return"required";if("auto"===e)return"auto";if("none"===e)return"none";else if("string"==typeof e)return{type:"function",function:{name:e}};else return e}}function iH(e){return"type"in e&&"function"!==e.type}function iX(e){return"object"==typeof e&&null!==e&&"metadata"in e&&"object"==typeof e.metadata&&null!==e.metadata&&"customTool"in e.metadata&&"object"==typeof e.metadata.customTool&&null!==e.metadata.customTool}function iY(e){return"type"in e&&"custom"===e.type&&"custom"in e&&"object"==typeof e.custom&&null!==e.custom}e.s(["isLangChainTool",()=>iJ,"isRunnableToolLike",()=>iF,"isStructuredTool",()=>iM,"isStructuredToolParams",()=>iB],647779),(0,iU.__export)({},{convertToOpenAIFunction:()=>iW,convertToOpenAITool:()=>iV,isLangChainTool:()=>iJ,isRunnableToolLike:()=>iF,isStructuredTool:()=>iM,isStructuredToolParams:()=>iB}),(0,iU.__export)({},{extendInteropZodObject:()=>iD.extendInteropZodObject,getInteropZodDefaultGetter:()=>iD.getInteropZodDefaultGetter,getInteropZodObjectShape:()=>iD.getInteropZodObjectShape,getSchemaDescription:()=>iD.getSchemaDescription,interopParse:()=>iD.interopParse,interopParseAsync:()=>iD.interopParseAsync,interopSafeParse:()=>iD.interopSafeParse,interopSafeParseAsync:()=>iD.interopSafeParseAsync,interopZodObjectMakeFieldsOptional:()=>iD.interopZodObjectMakeFieldsOptional,interopZodObjectPartial:()=>iD.interopZodObjectPartial,interopZodObjectPassthrough:()=>iD.interopZodObjectPassthrough,interopZodObjectStrict:()=>iD.interopZodObjectStrict,interopZodTransformInputSchema:()=>iD.interopZodTransformInputSchema,isInteropZodError:()=>iD.isInteropZodError,isInteropZodLiteral:()=>iD.isInteropZodLiteral,isInteropZodObject:()=>iD.isInteropZodObject,isInteropZodSchema:()=>iD.isInteropZodSchema,isShapelessZodSchema:()=>iD.isShapelessZodSchema,isSimpleStringZodSchema:()=>iD.isSimpleStringZodSchema,isZodArrayV4:()=>iD.isZodArrayV4,isZodLiteralV3:()=>iD.isZodLiteralV3,isZodLiteralV4:()=>iD.isZodLiteralV4,isZodObjectV3:()=>iD.isZodObjectV3,isZodObjectV4:()=>iD.isZodObjectV4,isZodSchema:()=>iD.isZodSchema,isZodSchemaV3:()=>iD.isZodSchemaV3,isZodSchemaV4:()=>iD.isZodSchemaV4});let iQ=Object.freeze({status:"aborted"});function i0(e,t,r){function i(r,i){if(r._zod||Object.defineProperty(r,"_zod",{value:{def:i,constr:s,traits:new Set},enumerable:!1}),r._zod.traits.has(e))return;r._zod.traits.add(e),t(r,i);let n=s.prototype,a=Object.keys(n);for(let e=0;e<a.length;e++){let t=a[e];t in r||(r[t]=n[t].bind(r))}}let n=r?.Parent??Object;class a extends n{}function s(e){var t;let n=r?.Parent?new a:this;for(let r of(i(n,e),(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred))r();return n}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(s,"init",{value:i}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}let i1=Symbol("zod_brand");class i4 extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class i6 extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}let i2={};function i9(e){return e&&Object.assign(i2,e),i2}function i5(e){return e}function i3(e){return e}function i8(e){}function i7(e){throw Error()}function ne(e){}function nt(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function nr(e,t="|"){return e.map(e=>nN(e)).join(t)}function ni(e,t){return"bigint"==typeof t?t.toString():t}function nn(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function na(e){return null==e}function ns(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function no(e,t){let r=(e.toString().split(".")[1]||"").length,i=t.toString(),n=(i.split(".")[1]||"").length;if(0===n&&/\d?e-\d?/.test(i)){let e=i.match(/\d?e-(\d?)/);e?.[1]&&(n=Number.parseInt(e[1]))}let a=r>n?r:n;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}e.s(["$ZodAsyncError",()=>i4,"$ZodEncodeError",()=>i6,"$brand",0,i1,"$constructor",()=>i0,"NEVER",0,iQ,"config",()=>i9,"globalConfig",0,i2],147161);let nl=Symbol("evaluating");function nu(e,t,r){let i;Object.defineProperty(e,t,{get(){if(i!==nl)return void 0===i&&(i=nl,i=r()),i},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function nd(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function nc(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function np(...e){let t={};for(let r of e)Object.assign(t,Object.getOwnPropertyDescriptors(r));return Object.defineProperties({},t)}function nm(e){return np(e._zod.def)}function nh(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function nf(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let i=0;i<t.length;i++)r[t[i]]=e[i];return r})}function ng(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let i=0;i<e;i++)r+=t[Math.floor(Math.random()*t.length)];return r}function n_(e){return JSON.stringify(e)}function nv(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}let ny="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function nb(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let n$=nn(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function nw(e){if(!1===nb(e))return!1;let t=e.constructor;if(void 0===t||"function"!=typeof t)return!0;let r=t.prototype;return!1!==nb(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function nx(e){return nw(e)?{...e}:Array.isArray(e)?[...e]:e}function nk(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}let nI=new Set(["string","number","symbol"]),nS=new Set(["string","number","bigint","boolean","symbol","undefined"]);function nO(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function nE(e,t,r){let i=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(i._zod.parent=e),i}function nT(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function nA(e){let t;return new Proxy({},{get:(r,i,n)=>(t??(t=e()),Reflect.get(t,i,n)),set:(r,i,n,a)=>(t??(t=e()),Reflect.set(t,i,n,a)),has:(r,i)=>(t??(t=e()),Reflect.has(t,i)),deleteProperty:(r,i)=>(t??(t=e()),Reflect.deleteProperty(t,i)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,i)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,i)),defineProperty:(r,i,n)=>(t??(t=e()),Reflect.defineProperty(t,i,n))})}function nN(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function nj(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}let nP={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},nC={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function nZ(e,t){let r=e._zod.def,i=np(e._zod.def,{get shape(){let e={};for(let i in t){if(!(i in r.shape))throw Error(`Unrecognized key: "${i}"`);t[i]&&(e[i]=r.shape[i])}return nc(this,"shape",e),e},checks:[]});return nE(e,i)}function nz(e,t){let r=e._zod.def,i=np(e._zod.def,{get shape(){let i={...e._zod.def.shape};for(let e in t){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete i[e]}return nc(this,"shape",i),i},checks:[]});return nE(e,i)}function nU(e,t){if(!nw(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let i=np(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t};return nc(this,"shape",r),r},checks:[]});return nE(e,i)}function nR(e,t){if(!nw(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return nc(this,"shape",r),r},checks:e._zod.def.checks};return nE(e,r)}function nD(e,t){let r=np(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return nc(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return nE(e,r)}function nL(e,t,r){let i=np(t._zod.def,{get shape(){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=e?new e({type:"optional",innerType:i[t]}):i[t])}else for(let t in i)n[t]=e?new e({type:"optional",innerType:i[t]}):i[t];return nc(this,"shape",n),n},checks:[]});return nE(t,i)}function nM(e,t,r){let i=np(t._zod.def,{get shape(){let i=t._zod.def.shape,n={...i};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(n[t]=new e({type:"nonoptional",innerType:i[t]}))}else for(let t in i)n[t]=new e({type:"nonoptional",innerType:i[t]});return nc(this,"shape",n),n},checks:[]});return nE(t,i)}function nF(e,t=0){if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function nB(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function nJ(e){return"string"==typeof e?e:e?.message}function nW(e,t,r){let i={...e,path:e.path??[]};return e.message||(i.message=nJ(e.inst?._zod.def?.error?.(e))??nJ(t?.error?.(e))??nJ(r.customError?.(e))??nJ(r.localeError?.(e))??"Invalid input"),delete i.inst,delete i.continue,t?.reportInput||delete i.input,i}function nV(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function nG(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function nq(...e){let[t,r,i]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:i}:{...t}}function nK(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function nH(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function nX(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function nY(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return nH(t+r)}function nQ(e){return nX(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function n0(e){let t=e.replace(/^0x/,"");if(t.length%2!=0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e/2]=Number.parseInt(t.slice(e,e+2),16);return r}function n1(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class n4{constructor(...e){}}e.s(["BIGINT_FORMAT_RANGES",0,nC,"Class",()=>n4,"NUMBER_FORMAT_RANGES",0,nP,"aborted",()=>nF,"allowsEval",0,n$,"assert",()=>ne,"assertEqual",()=>i5,"assertIs",()=>i8,"assertNever",()=>i7,"assertNotEqual",()=>i3,"assignProp",()=>nc,"base64ToUint8Array",()=>nH,"base64urlToUint8Array",()=>nY,"cached",()=>nn,"captureStackTrace",0,ny,"cleanEnum",()=>nK,"cleanRegex",()=>ns,"clone",()=>nE,"cloneDef",()=>nm,"createTransparentProxy",()=>nA,"defineLazy",()=>nu,"esc",()=>n_,"escapeRegex",()=>nO,"extend",()=>nU,"finalizeIssue",()=>nW,"floatSafeRemainder",()=>no,"getElementAtPath",()=>nh,"getEnumValues",()=>nt,"getLengthableOrigin",()=>nG,"getParsedType",0,e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},"getSizableOrigin",()=>nV,"hexToUint8Array",()=>n0,"isObject",()=>nb,"isPlainObject",()=>nw,"issue",()=>nq,"joinValues",()=>nr,"jsonStringifyReplacer",()=>ni,"merge",()=>nD,"mergeDefs",()=>np,"normalizeParams",()=>nT,"nullish",()=>na,"numKeys",()=>nk,"objectClone",()=>nd,"omit",()=>nz,"optionalKeys",()=>nj,"partial",()=>nL,"pick",()=>nZ,"prefixIssues",()=>nB,"primitiveTypes",0,nS,"promiseAllObject",()=>nf,"propertyKeyTypes",0,nI,"randomString",()=>ng,"required",()=>nM,"safeExtend",()=>nR,"shallowClone",()=>nx,"slugify",()=>nv,"stringifyPrimitive",()=>nN,"uint8ArrayToBase64",()=>nX,"uint8ArrayToBase64url",()=>nQ,"uint8ArrayToHex",()=>n1,"unwrapMessage",()=>nJ],275380);let n6=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ni,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},n2=i0("$ZodError",n6),n9=i0("$ZodError",n6,{Parent:Error});function n5(e,t=e=>e.message){let r={},i=[];for(let n of e.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):i.push(t(n));return{formErrors:i,fieldErrors:r}}function n3(e,t=e=>e.message){let r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code&&n.errors.length)n.errors.map(e=>i({issues:e}));else if("invalid_key"===n.code)i({issues:n.issues});else if("invalid_element"===n.code)i({issues:n.issues});else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(e),r}function n8(e,t=e=>e.message){let r={errors:[]},i=(e,n=[])=>{var a,s;for(let o of e.issues)if("invalid_union"===o.code&&o.errors.length)o.errors.map(e=>i({issues:e},o.path));else if("invalid_key"===o.code)i({issues:o.issues},o.path);else if("invalid_element"===o.code)i({issues:o.issues},o.path);else{let e=[...n,...o.path];if(0===e.length){r.errors.push(t(o));continue}let i=r,l=0;for(;l<e.length;){let r=e[l],n=l===e.length-1;"string"==typeof r?(i.properties??(i.properties={}),(a=i.properties)[r]??(a[r]={errors:[]}),i=i.properties[r]):(i.items??(i.items=[]),(s=i.items)[r]??(s[r]={errors:[]}),i=i.items[r]),n&&i.errors.push(t(o)),l++}}};return i(e),r}function n7(e){let t=[];for(let r of e.map(e=>"object"==typeof e?e.key:e))"number"==typeof r?t.push(`[${r}]`):"symbol"==typeof r?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function ae(e){let t=[];for(let r of[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length))t.push(` ${r.message}`),r.path?.length&&t.push(`   at ${n7(r.path)}`);return t.join("\n")}e.s(["$ZodError",0,n2,"$ZodRealError",0,n9,"flattenError",()=>n5,"formatError",()=>n3,"prettifyError",()=>ae,"toDotPath",()=>n7,"treeifyError",()=>n8],734554);let at=e=>(t,r,i,n)=>{let a=i?Object.assign(i,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new i4;if(s.issues.length){let t=new(n?.Err??e)(s.issues.map(e=>nW(e,a,i9())));throw ny(t,n?.callee),t}return s.value},ar=at(n9),ai=e=>async(t,r,i,n)=>{let a=i?Object.assign(i,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){let t=new(n?.Err??e)(s.issues.map(e=>nW(e,a,i9())));throw ny(t,n?.callee),t}return s.value},an=ai(n9),aa=e=>(t,r,i)=>{let n=i?{...i,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},n);if(a instanceof Promise)throw new i4;return a.issues.length?{success:!1,error:new(e??n2)(a.issues.map(e=>nW(e,n,i9())))}:{success:!0,data:a.value}},as=aa(n9),ao=e=>async(t,r,i)=>{let n=i?Object.assign(i,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},n);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(e=>nW(e,n,i9())))}:{success:!0,data:a.value}},al=ao(n9),au=e=>(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return at(e)(t,r,n)},ad=au(n9),ac=e=>(t,r,i)=>at(e)(t,r,i),ap=ac(n9),am=e=>async(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ai(e)(t,r,n)},ah=am(n9),af=e=>async(t,r,i)=>ai(e)(t,r,i),ag=af(n9),a_=e=>(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return aa(e)(t,r,n)},av=a_(n9),ay=e=>(t,r,i)=>aa(e)(t,r,i),ab=ay(n9),a$=e=>async(t,r,i)=>{let n=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return ao(e)(t,r,n)},aw=a$(n9),ax=e=>async(t,r,i)=>ao(e)(t,r,i),ak=ax(n9);e.s(["_decode",0,ac,"_decodeAsync",0,af,"_encode",0,au,"_encodeAsync",0,am,"_parse",0,at,"_parseAsync",0,ai,"_safeDecode",0,ay,"_safeDecodeAsync",0,ax,"_safeEncode",0,a_,"_safeEncodeAsync",0,a$,"_safeParse",0,aa,"_safeParseAsync",0,ao,"decode",0,ap,"decodeAsync",0,ag,"encode",0,ad,"encodeAsync",0,ah,"parse",0,ar,"parseAsync",0,an,"safeDecode",0,ab,"safeDecodeAsync",0,ak,"safeEncode",0,av,"safeEncodeAsync",0,aw,"safeParse",0,as,"safeParseAsync",0,al],75383);let aI=/^[cC][^\s-]{8,}$/,aS=/^[0-9a-z]+$/,aO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,aE=/^[0-9a-vA-V]{20}$/,aT=/^[A-Za-z0-9]{27}$/,aA=/^[a-zA-Z0-9_-]{21}$/,aN=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,aj=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,aP=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,aC=aP(4),aZ=aP(6),az=aP(7),aU=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,aR=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function aD(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let aL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,aF=e=>{let t=nO(e??":");return RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},aB=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,aJ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aW=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,aV=/^[A-Za-z0-9_-]*$/,aG=/^\+(?:[0-9]){6,14}[0-9]$/,aq="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",aK=RegExp(`^${aq}$`);function aH(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function aX(e){return RegExp(`^${aH(e)}$`)}function aY(e){let t=aH({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let i=`${t}(?:${r.join("|")})`;return RegExp(`^${aq}T(?:${i})$`)}let aQ=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},a0=/^-?\d+n?$/,a1=/^-?\d+$/,a4=/^-?\d+(?:\.\d+)?/,a6=/^(?:true|false)$/i,a2=/^null$/i,a9=/^undefined$/i,a5=/^[^A-Z]*$/,a3=/^[^a-z]*$/;function a8(e,t){return RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function a7(e){return RegExp(`^[A-Za-z0-9_-]{${e}}$`)}let se=a8(22,"=="),st=a7(22),sr=a8(27,"="),si=a7(27),sn=a8(43,"="),sa=a7(43),ss=a8(64,""),so=a7(64),sl=a8(86,"=="),su=a7(86);e.s(["base64",0,aW,"base64url",0,aV,"bigint",0,a0,"boolean",0,a6,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,aB,"cidrv6",0,aJ,"cuid",0,aI,"cuid2",0,aS,"date",0,aK,"datetime",()=>aY,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,aN,"e164",0,aG,"email",0,aU,"emoji",()=>aD,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,aj,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,aR,"integer",0,a1,"ipv4",0,aL,"ipv6",0,aM,"ksuid",0,aT,"lowercase",0,a5,"mac",0,aF,"md5_base64",0,se,"md5_base64url",0,st,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,aA,"null",()=>a2,"number",0,a4,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,sr,"sha1_base64url",0,si,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,sn,"sha256_base64url",0,sa,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,ss,"sha384_base64url",0,so,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,sl,"sha512_base64url",0,su,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,aQ,"time",()=>aX,"ulid",0,aO,"undefined",()=>a9,"unicodeEmail",0,aR,"uppercase",0,a3,"uuid",0,aP,"uuid4",0,aC,"uuid6",0,aZ,"uuid7",0,az,"xid",0,aE],686631);let sd=i0("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),sc={number:"number",bigint:"bigint",object:"date"},sp=i0("$ZodCheckLessThan",(e,t)=>{sd.init(e,t);let r=sc[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,i=(t.inclusive?r.maximum:r.exclusiveMaximum)??1/0;t.value<i&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:r,code:"too_big",maximum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),sm=i0("$ZodCheckGreaterThan",(e,t)=>{sd.init(e,t);let r=sc[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,i=(t.inclusive?r.minimum:r.exclusiveMinimum)??-1/0;t.value>i&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:r,code:"too_small",minimum:t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),sh=i0("$ZodCheckMultipleOf",(e,t)=>{sd.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===no(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),sf=i0("$ZodCheckNumberFormat",(e,t)=>{sd.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),i=r?"int":"number",[n,a]=nP[t.format];e._zod.onattach.push(e=>{let i=e._zod.bag;i.format=t.format,i.minimum=n,i.maximum=a,r&&(i.pattern=a1)}),e._zod.check=s=>{let o=s.value;if(r){if(!Number.isInteger(o))return void s.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});if(!Number.isSafeInteger(o))return void(o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}))}o<n&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),o>a&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inst:e})}}),sg=i0("$ZodCheckBigIntFormat",(e,t)=>{sd.init(e,t);let[r,i]=nC[t.format];e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,n.minimum=r,n.maximum=i}),e._zod.check=n=>{let a=n.value;a<r&&n.issues.push({origin:"bigint",input:a,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),a>i&&n.issues.push({origin:"bigint",input:a,code:"too_big",maximum:i,inst:e})}}),s_=i0("$ZodCheckMaxSize",(e,t)=>{var r;sd.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!na(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;i.size<=t.maximum||r.issues.push({origin:nV(i),code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),sv=i0("$ZodCheckMinSize",(e,t)=>{var r;sd.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!na(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;i.size>=t.minimum||r.issues.push({origin:nV(i),code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),sy=i0("$ZodCheckSizeEquals",(e,t)=>{var r;sd.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!na(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.size,r.maximum=t.size,r.size=t.size}),e._zod.check=r=>{let i=r.value,n=i.size;if(n===t.size)return;let a=n>t.size;r.issues.push({origin:nV(i),...a?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),sb=i0("$ZodCheckMaxLength",(e,t)=>{var r;sd.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!na(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let i=r.value;if(i.length<=t.maximum)return;let n=nG(i);r.issues.push({origin:n,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),s$=i0("$ZodCheckMinLength",(e,t)=>{var r;sd.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!na(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let i=r.value;if(i.length>=t.minimum)return;let n=nG(i);r.issues.push({origin:n,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),sw=i0("$ZodCheckLengthEquals",(e,t)=>{var r;sd.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!na(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let i=r.value,n=i.length;if(n===t.length)return;let a=nG(i),s=n>t.length;r.issues.push({origin:a,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),sx=i0("$ZodCheckStringFormat",(e,t)=>{var r,i;sd.init(e,t),e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),sk=i0("$ZodCheckRegex",(e,t)=>{sx.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),sI=i0("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=a5),sx.init(e,t)}),sS=i0("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=a3),sx.init(e,t)}),sO=i0("$ZodCheckIncludes",(e,t)=>{sd.init(e,t);let r=nO(t.includes),i=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=i,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(i)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),sE=i0("$ZodCheckStartsWith",(e,t)=>{sd.init(e,t);let r=RegExp(`^${nO(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),sT=i0("$ZodCheckEndsWith",(e,t)=>{sd.init(e,t);let r=RegExp(`.*${nO(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}});function sA(e,t,r){e.issues.length&&t.issues.push(...nB(r,e.issues))}let sN=i0("$ZodCheckProperty",(e,t)=>{sd.init(e,t),e._zod.check=e=>{let r=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(r instanceof Promise)return r.then(r=>sA(r,e,t.property));sA(r,e,t.property)}}),sj=i0("$ZodCheckMimeType",(e,t)=>{sd.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=i=>{r.has(i.value.type)||i.issues.push({code:"invalid_value",values:t.mime,input:i.value.type,inst:e,continue:!t.abort})}}),sP=i0("$ZodCheckOverwrite",(e,t)=>{sd.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});e.s(["$ZodCheck",0,sd,"$ZodCheckBigIntFormat",0,sg,"$ZodCheckEndsWith",0,sT,"$ZodCheckGreaterThan",0,sm,"$ZodCheckIncludes",0,sO,"$ZodCheckLengthEquals",0,sw,"$ZodCheckLessThan",0,sp,"$ZodCheckLowerCase",0,sI,"$ZodCheckMaxLength",0,sb,"$ZodCheckMaxSize",0,s_,"$ZodCheckMimeType",0,sj,"$ZodCheckMinLength",0,s$,"$ZodCheckMinSize",0,sv,"$ZodCheckMultipleOf",0,sh,"$ZodCheckNumberFormat",0,sf,"$ZodCheckOverwrite",0,sP,"$ZodCheckProperty",0,sN,"$ZodCheckRegex",0,sk,"$ZodCheckSizeEquals",0,sy,"$ZodCheckStartsWith",0,sE,"$ZodCheckStringFormat",0,sx,"$ZodCheckUpperCase",0,sS],644255);class sC{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}e.s(["Doc",()=>sC],178020);let sZ={major:4,minor:1,patch:13};e.s(["version",0,sZ],603928);let sz=i0("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=sZ;let i=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&i.unshift(e),i))for(let r of t._zod.onattach)r(e);if(0===i.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let i,n=nF(e);for(let a of t){if(a._zod.def.when){if(!a._zod.def.when(e))continue}else if(n)continue;let t=e.issues.length,s=a._zod.check(e);if(s instanceof Promise&&r?.async===!1)throw new i4;if(i||s instanceof Promise)i=(i??Promise.resolve()).then(async()=>{await s,e.issues.length!==t&&(n||(n=nF(e,t)))});else{if(e.issues.length===t)continue;n||(n=nF(e,t))}}return i?i.then(()=>e):e},r=(r,n,a)=>{if(nF(r))return r.aborted=!0,r;let s=t(n,i,a);if(s instanceof Promise){if(!1===a.async)throw new i4;return s.then(t=>e._zod.parse(t,a))}return e._zod.parse(s,a)};e._zod.run=(n,a)=>{if(a.skipChecks)return e._zod.parse(n,a);if("backward"===a.direction){let t=e._zod.parse({value:n.value,issues:[]},{...a,skipChecks:!0});return t instanceof Promise?t.then(e=>r(e,n,a)):r(t,n,a)}let s=e._zod.parse(n,a);if(s instanceof Promise){if(!1===a.async)throw new i4;return s.then(e=>t(e,i,a))}return t(s,i,a)}}e["~standard"]={validate:t=>{try{let r=as(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return al(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),sU=i0("$ZodString",(e,t)=>{sz.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??aQ(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch(e){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),sR=i0("$ZodStringFormat",(e,t)=>{sx.init(e,t),sU.init(e,t)}),sD=i0("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=aj),sR.init(e,t)}),sL=i0("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=aP(e))}else t.pattern??(t.pattern=aP());sR.init(e,t)}),sM=i0("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=aU),sR.init(e,t)}),sF=i0("$ZodURL",(e,t)=>{sR.init(e,t),e._zod.check=r=>{try{let i=r.value.trim(),n=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(n.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(n.protocol.endsWith(":")?n.protocol.slice(0,-1):n.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=n.href:r.value=i;return}catch(i){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),sB=i0("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=aD()),sR.init(e,t)}),sJ=i0("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=aA),sR.init(e,t)}),sW=i0("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=aI),sR.init(e,t)}),sV=i0("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=aS),sR.init(e,t)}),sG=i0("$ZodULID",(e,t)=>{t.pattern??(t.pattern=aO),sR.init(e,t)}),sq=i0("$ZodXID",(e,t)=>{t.pattern??(t.pattern=aE),sR.init(e,t)}),sK=i0("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=aT),sR.init(e,t)}),sH=i0("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=aY(t)),sR.init(e,t)}),sX=i0("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=aK),sR.init(e,t)}),sY=i0("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=aX(t)),sR.init(e,t)}),sQ=i0("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=aN),sR.init(e,t)}),s0=i0("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=aL),sR.init(e,t),e._zod.bag.format="ipv4"}),s1=i0("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=aM),sR.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),s4=i0("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=aF(t.delimiter)),sR.init(e,t),e._zod.bag.format="mac"}),s6=i0("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=aB),sR.init(e,t)}),s2=i0("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=aJ),sR.init(e,t),e._zod.check=r=>{let i=r.value.split("/");try{if(2!==i.length)throw Error();let[e,t]=i;if(!t)throw Error();let r=Number(t);if(`${r}`!==t||r<0||r>128)throw Error();new URL(`http://[${e}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function s9(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let s5=i0("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=aW),sR.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{s9(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function s3(e){if(!aV.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return s9(t.padEnd(4*Math.ceil(t.length/4),"="))}let s8=i0("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=aV),sR.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{s3(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),s7=i0("$ZodE164",(e,t)=>{t.pattern??(t.pattern=aG),sR.init(e,t)});function oe(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[i]=r;if(!i)return!1;let n=JSON.parse(atob(i));if("typ"in n&&n?.typ!=="JWT"||!n.alg||t&&(!("alg"in n)||n.alg!==t))return!1;return!0}catch{return!1}}let ot=i0("$ZodJWT",(e,t)=>{sR.init(e,t),e._zod.check=r=>{oe(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),or=i0("$ZodCustomStringFormat",(e,t)=>{sR.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),oi=i0("$ZodNumber",(e,t)=>{sz.init(e,t),e._zod.pattern=e._zod.bag.pattern??a4,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=Number(r.value)}catch(e){}let n=r.value;if("number"==typeof n&&!Number.isNaN(n)&&Number.isFinite(n))return r;let a="number"==typeof n?Number.isNaN(n)?"NaN":Number.isFinite(n)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:n,inst:e,...a?{received:a}:{}}),r}}),on=i0("$ZodNumberFormat",(e,t)=>{sf.init(e,t),oi.init(e,t)}),oa=i0("$ZodBoolean",(e,t)=>{sz.init(e,t),e._zod.pattern=a6,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=!!r.value}catch(e){}let n=r.value;return"boolean"==typeof n||r.issues.push({expected:"boolean",code:"invalid_type",input:n,inst:e}),r}}),os=i0("$ZodBigInt",(e,t)=>{sz.init(e,t),e._zod.pattern=a0,e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch(e){}return"bigint"==typeof r.value||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),oo=i0("$ZodBigIntFormat",(e,t)=>{sg.init(e,t),os.init(e,t)}),ol=i0("$ZodSymbol",(e,t)=>{sz.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return"symbol"==typeof i||t.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),t}}),ou=i0("$ZodUndefined",(e,t)=>{sz.init(e,t),e._zod.pattern=a9,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,r)=>{let i=t.value;return void 0===i||t.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),t}}),od=i0("$ZodNull",(e,t)=>{sz.init(e,t),e._zod.pattern=a2,e._zod.values=new Set([null]),e._zod.parse=(t,r)=>{let i=t.value;return null===i||t.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),t}}),oc=i0("$ZodAny",(e,t)=>{sz.init(e,t),e._zod.parse=e=>e}),op=i0("$ZodUnknown",(e,t)=>{sz.init(e,t),e._zod.parse=e=>e}),om=i0("$ZodNever",(e,t)=>{sz.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),oh=i0("$ZodVoid",(e,t)=>{sz.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return void 0===i||t.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),t}}),of=i0("$ZodDate",(e,t)=>{sz.init(e,t),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=new Date(r.value)}catch(e){}let n=r.value,a=n instanceof Date;return a&&!Number.isNaN(n.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:n,...a?{received:"Invalid Date"}:{},inst:e}),r}});function og(e,t,r){e.issues.length&&t.issues.push(...nB(r,e.issues)),t.value[r]=e.value}let o_=i0("$ZodArray",(e,t)=>{sz.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!Array.isArray(n))return r.issues.push({expected:"array",code:"invalid_type",input:n,inst:e}),r;r.value=Array(n.length);let a=[];for(let e=0;e<n.length;e++){let s=n[e],o=t.element._zod.run({value:s,issues:[]},i);o instanceof Promise?a.push(o.then(t=>og(t,r,e))):og(o,r,e)}return a.length?Promise.all(a).then(()=>r):r}});function ov(e,t,r,i){e.issues.length&&t.issues.push(...nB(r,e.issues)),void 0===e.value?r in i&&(t.value[r]=void 0):t.value[r]=e.value}function oy(e){let t=Object.keys(e.shape);for(let r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=nj(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function ob(e,t,r,i,n,a){let s=[],o=n.keySet,l=n.catchall._zod,u=l.def.type;for(let n in t){if(o.has(n))continue;if("never"===u){s.push(n);continue}let a=l.run({value:t[n],issues:[]},i);a instanceof Promise?e.push(a.then(e=>ov(e,r,n,t))):ov(a,r,n,t)}return(s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:a}),e.length)?Promise.all(e).then(()=>r):r}let o$=i0("$ZodObject",(e,t)=>{let r;sz.init(e,t);let i=Object.getOwnPropertyDescriptor(t,"shape");if(!i?.get){let e=t.shape;Object.defineProperty(t,"shape",{get:()=>{let r={...e};return Object.defineProperty(t,"shape",{value:r}),r}})}let n=nn(()=>oy(t));nu(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let i=e[t]._zod;if(i.values)for(let e of(r[t]??(r[t]=new Set),i.values))r[t].add(e)}return r});let a=t.catchall;e._zod.parse=(t,i)=>{r??(r=n.value);let s=t.value;if(!nb(s))return t.issues.push({expected:"object",code:"invalid_type",input:s,inst:e}),t;t.value={};let o=[],l=r.shape;for(let e of r.keys){let r=l[e]._zod.run({value:s[e],issues:[]},i);r instanceof Promise?o.push(r.then(r=>ov(r,t,e,s))):ov(r,t,e,s)}return a?ob(o,s,t,i,n.value,e):o.length?Promise.all(o).then(()=>t):t}}),ow=i0("$ZodObjectJIT",(e,t)=>{let r,i;o$.init(e,t);let n=e._zod.parse,a=nn(()=>oy(t)),s=!i2.jitless,o=s&&n$.value,l=t.catchall;e._zod.parse=(u,d)=>{i??(i=a.value);let c=u.value;return nb(c)?s&&o&&d?.async===!1&&!0!==d.jitless?(r||(r=(e=>{let t=new sC(["shape","payload","ctx"]),r=a.value,i=e=>{let t=n_(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let n=Object.create(null),s=0;for(let e of r.keys)n[e]=`key_${s++}`;for(let e of(t.write("const newResult = {};"),r.keys)){let r=n[e],a=n_(e);t.write(`const ${r} = ${i(e)};`),t.write(`
        if (${r}.issues.length) {
          payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${a}, ...iss.path] : [${a}]
          })));
        }
        
        
        if (${r}.value === undefined) {
          if (${a} in input) {
            newResult[${a}] = undefined;
          }
        } else {
          newResult[${a}] = ${r}.value;
        }
        
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let o=t.compile();return(t,r)=>o(e,t,r)})(t.shape)),u=r(u,d),l)?ob([],c,u,d,i,e):u:n(u,d):(u.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),u)}});function ox(e,t,r,i){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;let n=e.filter(e=>!nF(e));return 1===n.length?(t.value=n[0].value,n[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>nW(e,i,i9())))}),t)}let ok=i0("$ZodUnion",(e,t)=>{sz.init(e,t),nu(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),nu(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),nu(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),nu(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>ns(e.source)).join("|")})$`)}});let r=1===t.options.length,i=t.options[0]._zod.run;e._zod.parse=(n,a)=>{if(r)return i(n,a);let s=!1,o=[];for(let e of t.options){let t=e._zod.run({value:n.value,issues:[]},a);if(t instanceof Promise)o.push(t),s=!0;else{if(0===t.issues.length)return t;o.push(t)}}return s?Promise.all(o).then(t=>ox(t,n,e,a)):ox(o,n,e,a)}}),oI=i0("$ZodDiscriminatedUnion",(e,t)=>{ok.init(e,t);let r=e._zod.parse;nu(e._zod,"propValues",()=>{let e={};for(let r of t.options){let i=r._zod.propValues;if(!i||0===Object.keys(i).length)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let[t,r]of Object.entries(i))for(let i of(e[t]||(e[t]=new Set),r))e[t].add(i)}return e});let i=nn(()=>{let e=t.options,r=new Map;for(let i of e){let e=i._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(i)}"`);for(let t of e){if(r.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);r.set(t,i)}}return r});e._zod.parse=(n,a)=>{let s=n.value;if(!nb(s))return n.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),n;let o=i.value.get(s?.[t.discriminator]);return o?o._zod.run(n,a):t.unionFallback?r(n,a):(n.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:s,path:[t.discriminator],inst:e}),n)}}),oS=i0("$ZodIntersection",(e,t)=>{sz.init(e,t),e._zod.parse=(e,r)=>{let i=e.value,n=t.left._zod.run({value:i,issues:[]},r),a=t.right._zod.run({value:i,issues:[]},r);return n instanceof Promise||a instanceof Promise?Promise.all([n,a]).then(([t,r])=>oO(e,t,r)):oO(e,n,a)}});function oO(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),nF(e))return e;let i=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(nw(t)&&nw(r)){let i=Object.keys(r),n=Object.keys(t).filter(e=>-1!==i.indexOf(e)),a={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1,mergeErrorPath:[i,...n.mergeErrorPath]};a[i]=n.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let i=[];for(let n=0;n<t.length;n++){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};i.push(a.data)}return{valid:!0,data:i}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!i.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}let oE=i0("$ZodTuple",(e,t)=>{sz.init(e,t);let r=t.items;e._zod.parse=(i,n)=>{let a=i.value;if(!Array.isArray(a))return i.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];let s=[],o=[...r].reverse().findIndex(e=>"optional"!==e._zod.optin),l=-1===o?0:r.length-o;if(!t.rest){let t=a.length>r.length,n=a.length<l-1;if(t||n)return i.issues.push({...t?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:a,inst:e,origin:"array"}),i}let u=-1;for(let e of r){if(++u>=a.length&&u>=l)continue;let t=e._zod.run({value:a[u],issues:[]},n);t instanceof Promise?s.push(t.then(e=>oT(e,i,u))):oT(t,i,u)}if(t.rest)for(let e of a.slice(r.length)){u++;let r=t.rest._zod.run({value:e,issues:[]},n);r instanceof Promise?s.push(r.then(e=>oT(e,i,u))):oT(r,i,u)}return s.length?Promise.all(s).then(()=>i):i}});function oT(e,t,r){e.issues.length&&t.issues.push(...nB(r,e.issues)),t.value[r]=e.value}let oA=i0("$ZodRecord",(e,t)=>{sz.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!nw(n))return r.issues.push({expected:"record",code:"invalid_type",input:n,inst:e}),r;let a=[],s=t.keyType._zod.values;if(s){let o;r.value={};let l=new Set;for(let e of s)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){l.add("number"==typeof e?e.toString():e);let s=t.valueType._zod.run({value:n[e],issues:[]},i);s instanceof Promise?a.push(s.then(t=>{t.issues.length&&r.issues.push(...nB(e,t.issues)),r.value[e]=t.value})):(s.issues.length&&r.issues.push(...nB(e,s.issues)),r.value[e]=s.value)}for(let e in n)l.has(e)||(o=o??[]).push(e);o&&o.length>0&&r.issues.push({code:"unrecognized_keys",input:n,inst:e,keys:o})}else for(let s of(r.value={},Reflect.ownKeys(n))){if("__proto__"===s)continue;let o=t.keyType._zod.run({value:s,issues:[]},i);if(o instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(o.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:o.issues.map(e=>nW(e,i,i9())),input:s,path:[s],inst:e}),r.value[o.value]=o.value;continue}let l=t.valueType._zod.run({value:n[s],issues:[]},i);l instanceof Promise?a.push(l.then(e=>{e.issues.length&&r.issues.push(...nB(s,e.issues)),r.value[o.value]=e.value})):(l.issues.length&&r.issues.push(...nB(s,l.issues)),r.value[o.value]=l.value)}return a.length?Promise.all(a).then(()=>r):r}}),oN=i0("$ZodMap",(e,t)=>{sz.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:n,inst:e}),r;let a=[];for(let[s,o]of(r.value=new Map,n)){let l=t.keyType._zod.run({value:s,issues:[]},i),u=t.valueType._zod.run({value:o,issues:[]},i);l instanceof Promise||u instanceof Promise?a.push(Promise.all([l,u]).then(([t,a])=>{oj(t,a,r,s,n,e,i)})):oj(l,u,r,s,n,e,i)}return a.length?Promise.all(a).then(()=>r):r}});function oj(e,t,r,i,n,a,s){e.issues.length&&(nI.has(typeof i)?r.issues.push(...nB(i,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:n,inst:a,issues:e.issues.map(e=>nW(e,s,i9()))})),t.issues.length&&(nI.has(typeof i)?r.issues.push(...nB(i,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:n,inst:a,key:i,issues:t.issues.map(e=>nW(e,s,i9()))})),r.value.set(e.value,t.value)}let oP=i0("$ZodSet",(e,t)=>{sz.init(e,t),e._zod.parse=(r,i)=>{let n=r.value;if(!(n instanceof Set))return r.issues.push({input:n,inst:e,expected:"set",code:"invalid_type"}),r;let a=[];for(let e of(r.value=new Set,n)){let n=t.valueType._zod.run({value:e,issues:[]},i);n instanceof Promise?a.push(n.then(e=>oC(e,r))):oC(n,r)}return a.length?Promise.all(a).then(()=>r):r}});function oC(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}let oZ=i0("$ZodEnum",(e,t)=>{sz.init(e,t);let r=nt(t.entries),i=new Set(r);e._zod.values=i,e._zod.pattern=RegExp(`^(${r.filter(e=>nI.has(typeof e)).map(e=>"string"==typeof e?nO(e):e.toString()).join("|")})$`),e._zod.parse=(t,n)=>{let a=t.value;return i.has(a)||t.issues.push({code:"invalid_value",values:r,input:a,inst:e}),t}}),oz=i0("$ZodLiteral",(e,t)=>{if(sz.init(e,t),0===t.values.length)throw Error("Cannot create literal schema with no valid values");let r=new Set(t.values);e._zod.values=r,e._zod.pattern=RegExp(`^(${t.values.map(e=>"string"==typeof e?nO(e):e?nO(e.toString()):String(e)).join("|")})$`),e._zod.parse=(i,n)=>{let a=i.value;return r.has(a)||i.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),i}}),oU=i0("$ZodFile",(e,t)=>{sz.init(e,t),e._zod.parse=(t,r)=>{let i=t.value;return i instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),t}}),oR=i0("$ZodTransform",(e,t)=>{sz.init(e,t),e._zod.parse=(r,i)=>{if("backward"===i.direction)throw new i6(e.constructor.name);let n=t.transform(r.value,r);if(i.async)return(n instanceof Promise?n:Promise.resolve(n)).then(e=>(r.value=e,r));if(n instanceof Promise)throw new i4;return r.value=n,r}});function oD(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let oL=i0("$ZodOptional",(e,t)=>{sz.init(e,t),e._zod.optin="optional",e._zod.optout="optional",nu(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),nu(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${ns(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(t=>oD(t,e.value)):oD(i,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),oM=i0("$ZodNullable",(e,t)=>{sz.init(e,t),nu(e._zod,"optin",()=>t.innerType._zod.optin),nu(e._zod,"optout",()=>t.innerType._zod.optout),nu(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${ns(e.source)}|null)$`):void 0}),nu(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),oF=i0("$ZodDefault",(e,t)=>{sz.init(e,t),e._zod.optin="optional",nu(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);if(void 0===e.value)return e.value=t.defaultValue,e;let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(e=>oB(e,t)):oB(i,t)}});function oB(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let oJ=i0("$ZodPrefault",(e,t)=>{sz.init(e,t),e._zod.optin="optional",nu(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>("backward"===r.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),oW=i0("$ZodNonOptional",(e,t)=>{sz.init(e,t),nu(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,i)=>{let n=t.innerType._zod.run(r,i);return n instanceof Promise?n.then(t=>oV(t,e)):oV(n,e)}});function oV(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let oG=i0("$ZodSuccess",(e,t)=>{sz.init(e,t),e._zod.parse=(e,r)=>{if("backward"===r.direction)throw new i6("ZodSuccess");let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===i.issues.length,e)}}),oq=i0("$ZodCatch",(e,t)=>{sz.init(e,t),nu(e._zod,"optin",()=>t.innerType._zod.optin),nu(e._zod,"optout",()=>t.innerType._zod.optout),nu(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(i=>(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>nW(e,r,i9()))},input:e.value}),e.issues=[]),e)):(e.value=i.value,i.issues.length&&(e.value=t.catchValue({...e,error:{issues:i.issues.map(e=>nW(e,r,i9()))},input:e.value}),e.issues=[]),e)}}),oK=i0("$ZodNaN",(e,t)=>{sz.init(e,t),e._zod.parse=(t,r)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),oH=i0("$ZodPipe",(e,t)=>{sz.init(e,t),nu(e._zod,"values",()=>t.in._zod.values),nu(e._zod,"optin",()=>t.in._zod.optin),nu(e._zod,"optout",()=>t.out._zod.optout),nu(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("backward"===r.direction){let i=t.out._zod.run(e,r);return i instanceof Promise?i.then(e=>oX(e,t.in,r)):oX(i,t.in,r)}let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>oX(e,t.out,r)):oX(i,t.out,r)}});function oX(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}let oY=i0("$ZodCodec",(e,t)=>{sz.init(e,t),nu(e._zod,"values",()=>t.in._zod.values),nu(e._zod,"optin",()=>t.in._zod.optin),nu(e._zod,"optout",()=>t.out._zod.optout),nu(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("forward"===(r.direction||"forward")){let i=t.in._zod.run(e,r);return i instanceof Promise?i.then(e=>oQ(e,t,r)):oQ(i,t,r)}{let i=t.out._zod.run(e,r);return i instanceof Promise?i.then(e=>oQ(e,t,r)):oQ(i,t,r)}}});function oQ(e,t,r){if(e.issues.length)return e.aborted=!0,e;if("forward"===(r.direction||"forward")){let i=t.transform(e.value,e);return i instanceof Promise?i.then(i=>o0(e,i,t.out,r)):o0(e,i,t.out,r)}{let i=t.reverseTransform(e.value,e);return i instanceof Promise?i.then(i=>o0(e,i,t.in,r)):o0(e,i,t.in,r)}}function o0(e,t,r,i){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},i)}let o1=i0("$ZodReadonly",(e,t)=>{sz.init(e,t),nu(e._zod,"propValues",()=>t.innerType._zod.propValues),nu(e._zod,"values",()=>t.innerType._zod.values),nu(e._zod,"optin",()=>t.innerType?._zod?.optin),nu(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let i=t.innerType._zod.run(e,r);return i instanceof Promise?i.then(o4):o4(i)}});function o4(e){return e.value=Object.freeze(e.value),e}let o6=i0("$ZodTemplateLiteral",(e,t)=>{sz.init(e,t);let r=[];for(let e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let i=+!!t.startsWith("^"),n=t.endsWith("$")?t.length-1:t.length;r.push(t.slice(i,n))}else if(null===e||nS.has(typeof e))r.push(nO(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${r.join("")}$`),e._zod.parse=(r,i)=>("string"!=typeof r.value?r.issues.push({input:r.value,inst:e,expected:"template_literal",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source})),r)}),o2=i0("$ZodFunction",(e,t)=>(sz.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw Error("implement() must be called with a function");return function(...r){let i=Reflect.apply(t,this,e._def.input?ar(e._def.input,r):r);return e._def.output?ar(e._def.output,i):i}},e.implementAsync=t=>{if("function"!=typeof t)throw Error("implementAsync() must be called with a function");return async function(...r){let i=e._def.input?await an(e._def.input,r):r,n=await Reflect.apply(t,this,i);return e._def.output?await an(e._def.output,n):n}},e._zod.parse=(t,r)=>("function"!=typeof t.value?t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}):e._def.output&&"promise"===e._def.output._zod.def.type?t.value=e.implementAsync(t.value):t.value=e.implement(t.value),t),e.input=(...t)=>{let r=e.constructor;return new r(Array.isArray(t[0])?{type:"function",input:new oE({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}:{type:"function",input:t[0],output:e._def.output})},e.output=t=>new e.constructor({type:"function",input:e._def.input,output:t}),e)),o9=i0("$ZodPromise",(e,t)=>{sz.init(e,t),e._zod.parse=(e,r)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},r))}),o5=i0("$ZodLazy",(e,t)=>{sz.init(e,t),nu(e._zod,"innerType",()=>t.getter()),nu(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),nu(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),nu(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),nu(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(t,r)=>e._zod.innerType._zod.run(t,r)}),o3=i0("$ZodCustom",(e,t)=>{sd.init(e,t),sz.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let i=r.value,n=t.fn(i);if(n instanceof Promise)return n.then(t=>o8(t,r,i,e));o8(n,r,i,e)}});function o8(e,t,r,i){if(!e){let e={code:"custom",input:r,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(e.params=i._zod.def.params),t.issues.push(nq(e))}}function o7(e,t,r,i){let n=Math.abs(e),a=n%10,s=n%100;return s>=11&&s<=19?i:1===a?t:a>=2&&a<=4?r:i}function le(){let e,t;return{localeError:(e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Invalid input: expected ${r.expected}, received ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${nN(r.values[0])}`;return`Invalid option: expected one of ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Too big: expected ${r.origin??"value"} to have ${t}${r.maximum.toString()} ${i.unit??"elements"}`;return`Too big: expected ${r.origin??"value"} to be ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Too small: expected ${r.origin} to have ${t}${r.minimum.toString()} ${i.unit}`;return`Too small: expected ${r.origin} to be ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Invalid string: must start with "${r.prefix}"`;if("ends_with"===r.format)return`Invalid string: must end with "${r.suffix}"`;if("includes"===r.format)return`Invalid string: must include "${r.includes}"`;if("regex"===r.format)return`Invalid string: must match pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${r.divisor}`;case"unrecognized_keys":return`Unrecognized key${r.keys.length>1?"s":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`Invalid key in ${r.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${r.origin}`}})}}function lt(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  ${nN(r.values[0])}`;return`  ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`  ${r.origin??""} ${t} ${r.maximum.toString()} ${i.unit??""}`;return`  ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`  ${r.origin} ${t} ${r.minimum.toString()} ${i.unit}`;return`  ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  "${r.prefix}"`;if("ends_with"===r.format)return`  "${r.suffix}"`;if("includes"===r.format)return`  "${r.includes}"`;if("regex"===r.format)return`  ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return`  ${r.divisor}`;case"unrecognized_keys":return` ${nr(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${r.origin}`}})}}e.s(["$ZodAny",0,oc,"$ZodArray",0,o_,"$ZodBase64",0,s5,"$ZodBase64URL",0,s8,"$ZodBigInt",0,os,"$ZodBigIntFormat",0,oo,"$ZodBoolean",0,oa,"$ZodCIDRv4",0,s6,"$ZodCIDRv6",0,s2,"$ZodCUID",0,sW,"$ZodCUID2",0,sV,"$ZodCatch",0,oq,"$ZodCodec",0,oY,"$ZodCustom",0,o3,"$ZodCustomStringFormat",0,or,"$ZodDate",0,of,"$ZodDefault",0,oF,"$ZodDiscriminatedUnion",0,oI,"$ZodE164",0,s7,"$ZodEmail",0,sM,"$ZodEmoji",0,sB,"$ZodEnum",0,oZ,"$ZodFile",0,oU,"$ZodFunction",0,o2,"$ZodGUID",0,sD,"$ZodIPv4",0,s0,"$ZodIPv6",0,s1,"$ZodISODate",0,sX,"$ZodISODateTime",0,sH,"$ZodISODuration",0,sQ,"$ZodISOTime",0,sY,"$ZodIntersection",0,oS,"$ZodJWT",0,ot,"$ZodKSUID",0,sK,"$ZodLazy",0,o5,"$ZodLiteral",0,oz,"$ZodMAC",0,s4,"$ZodMap",0,oN,"$ZodNaN",0,oK,"$ZodNanoID",0,sJ,"$ZodNever",0,om,"$ZodNonOptional",0,oW,"$ZodNull",0,od,"$ZodNullable",0,oM,"$ZodNumber",0,oi,"$ZodNumberFormat",0,on,"$ZodObject",0,o$,"$ZodObjectJIT",0,ow,"$ZodOptional",0,oL,"$ZodPipe",0,oH,"$ZodPrefault",0,oJ,"$ZodPromise",0,o9,"$ZodReadonly",0,o1,"$ZodRecord",0,oA,"$ZodSet",0,oP,"$ZodString",0,sU,"$ZodStringFormat",0,sR,"$ZodSuccess",0,oG,"$ZodSymbol",0,ol,"$ZodTemplateLiteral",0,o6,"$ZodTransform",0,oR,"$ZodTuple",0,oE,"$ZodType",0,sz,"$ZodULID",0,sG,"$ZodURL",0,sF,"$ZodUUID",0,sL,"$ZodUndefined",0,ou,"$ZodUnion",0,ok,"$ZodUnknown",0,op,"$ZodVoid",0,oh,"$ZodXID",0,sq,"isValidBase64",()=>s9,"isValidBase64URL",()=>s3,"isValidJWT",()=>oe],799412);let lr=(e,t)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":if(void 0===t)return"neinomas objektas";if(null===t)return"nulin reikm";if(Array.isArray(t))return"masyvas";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name;return"objektas";case"null":return"nulin reikm"}return e},li=e=>e.charAt(0).toUpperCase()+e.slice(1);function ln(e){let t=Math.abs(e),r=t%10,i=t%100;return i>=11&&i<=19||0===r?"many":1===r?"one":"few"}function la(e,t,r,i){let n=Math.abs(e),a=n%10,s=n%100;return s>=11&&s<=19?i:1===a?t:a>=2&&a<=4?r:i}function ls(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :  ${nN(r.values[0])}`;return` :    ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ,  ${r.origin??""} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??""}`;return` : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ,  ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return` : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}}e.s([],421161);let lo=Symbol("ZodOutput"),ll=Symbol("ZodInput");class lu{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};delete r.id;let i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function ld(){return new lu}(i$=globalThis).__zod_globalRegistry??(i$.__zod_globalRegistry=ld());let lc=globalThis.__zod_globalRegistry;function lp(e,t){return new e({type:"string",...nT(t)})}function lm(e,t){return new e({type:"string",coerce:!0,...nT(t)})}function lh(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...nT(t)})}function lf(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...nT(t)})}function lg(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...nT(t)})}function l_(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...nT(t)})}function lv(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...nT(t)})}function ly(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...nT(t)})}function lb(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...nT(t)})}function l$(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...nT(t)})}function lw(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...nT(t)})}function lx(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...nT(t)})}function lk(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...nT(t)})}function lI(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...nT(t)})}function lS(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...nT(t)})}function lO(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...nT(t)})}function lE(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...nT(t)})}function lT(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...nT(t)})}function lA(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...nT(t)})}function lN(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...nT(t)})}function lj(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...nT(t)})}function lP(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...nT(t)})}function lC(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...nT(t)})}function lZ(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...nT(t)})}function lz(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...nT(t)})}e.s(["$ZodRegistry",()=>lu,"$input",0,ll,"$output",0,lo,"globalRegistry",0,lc,"registry",()=>ld],759235);let lU={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function lR(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...nT(t)})}function lD(e,t){return new e({type:"string",format:"date",check:"string_format",...nT(t)})}function lL(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...nT(t)})}function lM(e,t){return new e({type:"string",format:"duration",check:"string_format",...nT(t)})}function lF(e,t){return new e({type:"number",checks:[],...nT(t)})}function lB(e,t){return new e({type:"number",coerce:!0,checks:[],...nT(t)})}function lJ(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...nT(t)})}function lW(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...nT(t)})}function lV(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...nT(t)})}function lG(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...nT(t)})}function lq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...nT(t)})}function lK(e,t){return new e({type:"boolean",...nT(t)})}function lH(e,t){return new e({type:"boolean",coerce:!0,...nT(t)})}function lX(e,t){return new e({type:"bigint",...nT(t)})}function lY(e,t){return new e({type:"bigint",coerce:!0,...nT(t)})}function lQ(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...nT(t)})}function l0(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...nT(t)})}function l1(e,t){return new e({type:"symbol",...nT(t)})}function l4(e,t){return new e({type:"undefined",...nT(t)})}function l6(e,t){return new e({type:"null",...nT(t)})}function l2(e){return new e({type:"any"})}function l9(e){return new e({type:"unknown"})}function l5(e,t){return new e({type:"never",...nT(t)})}function l3(e,t){return new e({type:"void",...nT(t)})}function l8(e,t){return new e({type:"date",...nT(t)})}function l7(e,t){return new e({type:"date",coerce:!0,...nT(t)})}function ue(e,t){return new e({type:"nan",...nT(t)})}function ut(e,t){return new sp({check:"less_than",...nT(t),value:e,inclusive:!1})}function ur(e,t){return new sp({check:"less_than",...nT(t),value:e,inclusive:!0})}function ui(e,t){return new sm({check:"greater_than",...nT(t),value:e,inclusive:!1})}function un(e,t){return new sm({check:"greater_than",...nT(t),value:e,inclusive:!0})}function ua(e){return ui(0,e)}function us(e){return ut(0,e)}function uo(e){return ur(0,e)}function ul(e){return un(0,e)}function uu(e,t){return new sh({check:"multiple_of",...nT(t),value:e})}function ud(e,t){return new s_({check:"max_size",...nT(t),maximum:e})}function uc(e,t){return new sv({check:"min_size",...nT(t),minimum:e})}function up(e,t){return new sy({check:"size_equals",...nT(t),size:e})}function um(e,t){return new sb({check:"max_length",...nT(t),maximum:e})}function uh(e,t){return new s$({check:"min_length",...nT(t),minimum:e})}function uf(e,t){return new sw({check:"length_equals",...nT(t),length:e})}function ug(e,t){return new sk({check:"string_format",format:"regex",...nT(t),pattern:e})}function u_(e){return new sI({check:"string_format",format:"lowercase",...nT(e)})}function uv(e){return new sS({check:"string_format",format:"uppercase",...nT(e)})}function uy(e,t){return new sO({check:"string_format",format:"includes",...nT(t),includes:e})}function ub(e,t){return new sE({check:"string_format",format:"starts_with",...nT(t),prefix:e})}function u$(e,t){return new sT({check:"string_format",format:"ends_with",...nT(t),suffix:e})}function uw(e,t,r){return new sN({check:"property",property:e,schema:t,...nT(r)})}function ux(e,t){return new sj({check:"mime_type",mime:e,...nT(t)})}function uk(e){return new sP({check:"overwrite",tx:e})}function uI(e){return uk(t=>t.normalize(e))}function uS(){return uk(e=>e.trim())}function uO(){return uk(e=>e.toLowerCase())}function uE(){return uk(e=>e.toUpperCase())}function uT(){return uk(e=>nv(e))}function uA(e,t,r){return new e({type:"array",element:t,...nT(r)})}function uN(e,t,r){return new e({type:"union",options:t,...nT(r)})}function uj(e,t,r,i){return new e({type:"union",options:r,discriminator:t,...nT(i)})}function uP(e,t,r){return new e({type:"intersection",left:t,right:r})}function uC(e,t,r,i){let n=r instanceof sz,a=n?i:r;return new e({type:"tuple",items:t,rest:n?r:null,...nT(a)})}function uZ(e,t,r,i){return new e({type:"record",keyType:t,valueType:r,...nT(i)})}function uz(e,t,r,i){return new e({type:"map",keyType:t,valueType:r,...nT(i)})}function uU(e,t,r){return new e({type:"set",valueType:t,...nT(r)})}function uR(e,t,r){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...nT(r)})}function uD(e,t,r){return new e({type:"enum",entries:t,...nT(r)})}function uL(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...nT(r)})}function uM(e,t){return new e({type:"file",...nT(t)})}function uF(e,t){return new e({type:"transform",transform:t})}function uB(e,t){return new e({type:"optional",innerType:t})}function uJ(e,t){return new e({type:"nullable",innerType:t})}function uW(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof r?r():nx(r)}})}function uV(e,t,r){return new e({type:"nonoptional",innerType:t,...nT(r)})}function uG(e,t){return new e({type:"success",innerType:t})}function uq(e,t,r){return new e({type:"catch",innerType:t,catchValue:"function"==typeof r?r:()=>r})}function uK(e,t,r){return new e({type:"pipe",in:t,out:r})}function uH(e,t){return new e({type:"readonly",innerType:t})}function uX(e,t,r){return new e({type:"template_literal",parts:t,...nT(r)})}function uY(e,t){return new e({type:"lazy",getter:t})}function uQ(e,t){return new e({type:"promise",innerType:t})}function u0(e,t,r){let i=nT(r);return i.abort??(i.abort=!0),new e({type:"custom",check:"custom",fn:t,...i})}function u1(e,t,r){return new e({type:"custom",check:"custom",fn:t,...nT(r)})}function u4(e){let t=u6(r=>(r.addIssue=e=>{"string"==typeof e?r.issues.push(nq(e,r.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=r.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),r.issues.push(nq(e)))},e(r.value,r)));return t}function u6(e,t){let r=new sd({check:"custom",...nT(t)});return r._zod.check=e,r}function u2(e){let t=new sd({check:"describe"});return t._zod.onattach=[t=>{let r=lc.get(t)??{};lc.add(t,{...r,description:e})}],t._zod.check=()=>{},t}function u9(e){let t=new sd({check:"meta"});return t._zod.onattach=[t=>{let r=lc.get(t)??{};lc.add(t,{...r,...e})}],t._zod.check=()=>{},t}function u5(e,t){let r=nT(t),i=r.truthy??["true","1","yes","on","y","enabled"],n=r.falsy??["false","0","no","off","n","disabled"];"sensitive"!==r.case&&(i=i.map(e=>"string"==typeof e?e.toLowerCase():e),n=n.map(e=>"string"==typeof e?e.toLowerCase():e));let a=new Set(i),s=new Set(n),o=e.Codec??oY,l=e.Boolean??oa,u=new o({type:"pipe",in:new(e.String??sU)({type:"string",error:r.error}),out:new l({type:"boolean",error:r.error}),transform:(e,t)=>{let i=e;return"sensitive"!==r.case&&(i=i.toLowerCase()),!!a.has(i)||!s.has(i)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...a,...s],input:t.value,inst:u,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?i[0]||"true":n[0]||"false",error:r.error});return u}function u3(e,t,r,i={}){let n=nT(i),a={...nT(i),check:"string_format",type:"string",format:t,fn:"function"==typeof r?r:e=>r.test(e),...n};return r instanceof RegExp&&(a.pattern=r),new e(a)}e.s(["TimePrecision",0,lU,"_any",()=>l2,"_array",()=>uA,"_base64",()=>lP,"_base64url",()=>lC,"_bigint",()=>lX,"_boolean",()=>lK,"_catch",()=>uq,"_check",()=>u6,"_cidrv4",()=>lN,"_cidrv6",()=>lj,"_coercedBigint",()=>lY,"_coercedBoolean",()=>lH,"_coercedDate",()=>l7,"_coercedNumber",()=>lB,"_coercedString",()=>lm,"_cuid",()=>lx,"_cuid2",()=>lk,"_custom",()=>u0,"_date",()=>l8,"_default",()=>uW,"_discriminatedUnion",()=>uj,"_e164",()=>lZ,"_email",()=>lh,"_emoji",()=>l$,"_endsWith",()=>u$,"_enum",()=>uR,"_file",()=>uM,"_float32",()=>lW,"_float64",()=>lV,"_gt",()=>ui,"_gte",()=>un,"_guid",()=>lf,"_includes",()=>uy,"_int",()=>lJ,"_int32",()=>lG,"_int64",()=>lQ,"_intersection",()=>uP,"_ipv4",()=>lE,"_ipv6",()=>lT,"_isoDate",()=>lD,"_isoDateTime",()=>lR,"_isoDuration",()=>lM,"_isoTime",()=>lL,"_jwt",()=>lz,"_ksuid",()=>lO,"_lazy",()=>uY,"_length",()=>uf,"_literal",()=>uL,"_lowercase",()=>u_,"_lt",()=>ut,"_lte",()=>ur,"_mac",()=>lA,"_map",()=>uz,"_max",()=>ur,"_maxLength",()=>um,"_maxSize",()=>ud,"_mime",()=>ux,"_min",()=>un,"_minLength",()=>uh,"_minSize",()=>uc,"_multipleOf",()=>uu,"_nan",()=>ue,"_nanoid",()=>lw,"_nativeEnum",()=>uD,"_negative",()=>us,"_never",()=>l5,"_nonnegative",()=>ul,"_nonoptional",()=>uV,"_nonpositive",()=>uo,"_normalize",()=>uI,"_null",()=>l6,"_nullable",()=>uJ,"_number",()=>lF,"_optional",()=>uB,"_overwrite",()=>uk,"_pipe",()=>uK,"_positive",()=>ua,"_promise",()=>uQ,"_property",()=>uw,"_readonly",()=>uH,"_record",()=>uZ,"_refine",()=>u1,"_regex",()=>ug,"_set",()=>uU,"_size",()=>up,"_slugify",()=>uT,"_startsWith",()=>ub,"_string",()=>lp,"_stringFormat",()=>u3,"_stringbool",()=>u5,"_success",()=>uG,"_superRefine",()=>u4,"_symbol",()=>l1,"_templateLiteral",()=>uX,"_toLowerCase",()=>uO,"_toUpperCase",()=>uE,"_transform",()=>uF,"_trim",()=>uS,"_tuple",()=>uC,"_uint32",()=>lq,"_uint64",()=>l0,"_ulid",()=>lI,"_undefined",()=>l4,"_union",()=>uN,"_unknown",()=>l9,"_uppercase",()=>uv,"_url",()=>lb,"_uuid",()=>lg,"_uuidv4",()=>l_,"_uuidv6",()=>lv,"_uuidv7",()=>ly,"_void",()=>l3,"_xid",()=>lS,"describe",()=>u2,"meta",()=>u9],899593);class u8{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??lc,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var r;let i=e._zod.def,n=this.seen.get(e);if(n)return n.count++,t.schemaPath.includes(e)&&(n.cycle=t.path),n.schema;let a={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,a);let s=e._zod.toJSONSchema?.();if(s)a.schema=s;else{let r={...t,schemaPath:[...t.schemaPath,e],path:t.path},n=e._zod.parent;if(n)a.ref=n,this.process(n,r),this.seen.get(n).isParent=!0;else{let t=a.schema;switch(i.type){case"string":{t.type="string";let{minimum:r,maximum:i,format:n,patterns:s,contentEncoding:o}=e._zod.bag;if("number"==typeof r&&(t.minLength=r),"number"==typeof i&&(t.maxLength=i),n&&(t.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[n]??n,""===t.format&&delete t.format),o&&(t.contentEncoding=o),s&&s.size>0){let e=[...s];1===e.length?t.pattern=e[0].source:e.length>1&&(a.schema.allOf=[...e.map(e=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{let{minimum:r,maximum:i,format:n,multipleOf:a,exclusiveMaximum:s,exclusiveMinimum:o}=e._zod.bag;"string"==typeof n&&n.includes("int")?t.type="integer":t.type="number","number"==typeof o&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.minimum=o,t.exclusiveMinimum=!0):t.exclusiveMinimum=o),"number"==typeof r&&(t.minimum=r,"number"==typeof o&&"draft-4"!==this.target&&(o>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"==typeof s&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.maximum=s,t.exclusiveMaximum=!0):t.exclusiveMaximum=s),"number"==typeof i&&(t.maximum=i,"number"==typeof s&&"draft-4"!==this.target&&(s<=i?delete t.maximum:delete t.exclusiveMaximum)),"number"==typeof a&&(t.multipleOf=a);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:n,maximum:a}=e._zod.bag;"number"==typeof n&&(t.minItems=n),"number"==typeof a&&(t.maxItems=a),t.type="array",t.items=this.process(i.element,{...r,path:[...r.path,"items"]});break}case"object":{t.type="object",t.properties={};let e=i.shape;for(let i in e)t.properties[i]=this.process(e[i],{...r,path:[...r.path,"properties",i]});let n=new Set([...new Set(Object.keys(e))].filter(e=>{let t=i.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));n.size>0&&(t.required=Array.from(n)),i.catchall?._zod.def.type==="never"?t.additionalProperties=!1:i.catchall?i.catchall&&(t.additionalProperties=this.process(i.catchall,{...r,path:[...r.path,"additionalProperties"]})):"output"===this.io&&(t.additionalProperties=!1);break}case"union":{let e=void 0!==i.discriminator,n=i.options.map((t,i)=>this.process(t,{...r,path:[...r.path,e?"oneOf":"anyOf",i]}));e?t.oneOf=n:t.anyOf=n;break}case"intersection":{let e=this.process(i.left,{...r,path:[...r.path,"allOf",0]}),n=this.process(i.right,{...r,path:[...r.path,"allOf",1]}),a=e=>"allOf"in e&&1===Object.keys(e).length;t.allOf=[...a(e)?e.allOf:[e],...a(n)?n.allOf:[n]];break}case"tuple":{t.type="array";let n="draft-2020-12"===this.target?"prefixItems":"items",a="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",s=i.items.map((e,t)=>this.process(e,{...r,path:[...r.path,n,t]})),o=i.rest?this.process(i.rest,{...r,path:[...r.path,a,..."openapi-3.0"===this.target?[i.items.length]:[]]}):null;"draft-2020-12"===this.target?(t.prefixItems=s,o&&(t.items=o)):"openapi-3.0"===this.target?(t.items={anyOf:s},o&&t.items.anyOf.push(o),t.minItems=s.length,o||(t.maxItems=s.length)):(t.items=s,o&&(t.additionalItems=o));let{minimum:l,maximum:u}=e._zod.bag;"number"==typeof l&&(t.minItems=l),"number"==typeof u&&(t.maxItems=u);break}case"record":t.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(t.propertyNames=this.process(i.keyType,{...r,path:[...r.path,"propertyNames"]})),t.additionalProperties=this.process(i.valueType,{...r,path:[...r.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let e=nt(i.entries);e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),t.enum=e;break}case"literal":{let e=[];for(let t of i.values)if(void 0===t){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof t)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else e.push(Number(t));else e.push(t);if(0===e.length);else if(1===e.length){let r=e[0];t.type=null===r?"null":typeof r,"draft-4"===this.target||"openapi-3.0"===this.target?t.enum=[r]:t.const=r}else e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),e.every(e=>"boolean"==typeof e)&&(t.type="string"),e.every(e=>null===e)&&(t.type="null"),t.enum=e;break}case"file":{let r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:i,maximum:n,mime:a}=e._zod.bag;void 0!==i&&(r.minLength=i),void 0!==n&&(r.maxLength=n),a?1===a.length?(r.contentMediaType=a[0],Object.assign(t,r)):t.anyOf=a.map(e=>({...r,contentMediaType:e})):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let e=this.process(i.innerType,r);"openapi-3.0"===this.target?(a.ref=i.innerType,t.nullable=!0):t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(i.innerType,r),a.ref=i.innerType;break;case"default":this.process(i.innerType,r),a.ref=i.innerType,t.default=JSON.parse(JSON.stringify(i.defaultValue));break;case"prefault":this.process(i.innerType,r),a.ref=i.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(i.defaultValue)));break;case"catch":{let e;this.process(i.innerType,r),a.ref=i.innerType;try{e=i.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let r=e._zod.pattern;if(!r)throw Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{let e="input"===this.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;this.process(e,r),a.ref=e;break}case"readonly":this.process(i.innerType,r),a.ref=i.innerType,t.readOnly=!0;break;case"lazy":{let t=e._zod.innerType;this.process(t,r),a.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let o=this.metadataRegistry.get(e);return o&&Object.assign(a.schema,o),"input"===this.io&&function e(t,r){let i=r??{seen:new Set};if(i.seen.has(t))return!1;i.seen.add(t);let n=t._zod.def;if("transform"===n.type)return!0;if("array"===n.type)return e(n.element,i);if("set"===n.type)return e(n.valueType,i);if("lazy"===n.type)return e(n.getter(),i);if("promise"===n.type||"optional"===n.type||"nonoptional"===n.type||"nullable"===n.type||"readonly"===n.type||"default"===n.type||"prefault"===n.type)return e(n.innerType,i);if("intersection"===n.type)return e(n.left,i)||e(n.right,i);if("record"===n.type||"map"===n.type)return e(n.keyType,i)||e(n.valueType,i);if("pipe"===n.type)return e(n.in,i)||e(n.out,i);if("object"===n.type){for(let t in n.shape)if(e(n.shape[t],i))return!0;return!1}if("union"===n.type){for(let t of n.options)if(e(t,i))return!0;return!1}if("tuple"===n.type){for(let t of n.items)if(e(t,i))return!0;if(n.rest&&e(n.rest,i))return!0}return!1}(e)&&(delete a.schema.examples,delete a.schema.default),"input"===this.io&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,this.seen.get(e).schema}emit(e,t){let r={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},i=this.seen.get(e);if(!i)throw Error("Unprocessed schema. This is a bug in Zod.");let n=e=>{let t="draft-2020-12"===this.target?"$defs":"definitions";if(r.external){let i=r.external.registry.get(e[0])?.id,n=r.external.uri??(e=>e);if(i)return{ref:n(i)};let a=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=a,{defId:a,ref:`${n("__shared")}#/${t}/${a}`}}if(e[1]===i)return{ref:"#"};let n=`#/${t}/`,a=e[1].schema.id??`__schema${this.counter++}`;return{defId:a,ref:n+a}},a=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:r,defId:i}=n(e);t.def={...t.schema},i&&(t.defId=i);let a=t.schema;for(let e in a)delete a[e];a.$ref=r};if("throw"===r.cycles)for(let e of this.seen.entries()){let t=e[1];if(t.cycle)throw Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let t of this.seen.entries()){let i=t[1];if(e===t[0]){a(t);continue}if(r.external){let i=r.external.registry.get(t[0])?.id;if(e!==t[0]&&i){a(t);continue}}if(this.metadataRegistry.get(t[0])?.id||i.cycle||i.count>1&&"ref"===r.reused){a(t);continue}}let s=(e,t)=>{let r=this.seen.get(e),i=r.def??r.schema,n={...i};if(null===r.ref)return;let a=r.ref;if(r.ref=null,a){s(a,t);let e=this.seen.get(a).schema;e.$ref&&("draft-7"===t.target||"draft-4"===t.target||"openapi-3.0"===t.target)?(i.allOf=i.allOf??[],i.allOf.push(e)):(Object.assign(i,e),Object.assign(i,n))}r.isParent||this.override({zodSchema:e,jsonSchema:i,path:r.path??[]})};for(let e of[...this.seen.entries()].reverse())s(e[0],{target:this.target});let o={};if("draft-2020-12"===this.target?o.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?o.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?o.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),r.external?.uri){let t=r.external.registry.get(e)?.id;if(!t)throw Error("Schema is missing an `id` property");o.$id=r.external.uri(t)}Object.assign(o,i.def);let l=r.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(l[t.defId]=t.def)}r.external||Object.keys(l).length>0&&("draft-2020-12"===this.target?o.$defs=l:o.definitions=l);try{return JSON.parse(JSON.stringify(o))}catch(e){throw Error("Error converting schema to JSON.")}}}function u7(e,t){if(e instanceof lu){let r=new u8(t),i={};for(let t of e._idmap.entries()){let[e,i]=t;r.process(i)}let n={},a={registry:e,uri:t?.uri,defs:i};for(let i of e._idmap.entries()){let[e,s]=i;n[e]=r.emit(s,{...t,external:a})}return Object.keys(i).length>0&&(n.__shared={["draft-2020-12"===r.target?"$defs":"definitions"]:i}),{schemas:n}}let r=new u8(t);return r.process(e),r.emit(e,t)}e.s(["JSONSchemaGenerator",()=>u8,"toJSONSchema",()=>u7],376492),e.s([],738497),e.s([],295281),e.s(["ZodAny",()=>cU,"ZodArray",()=>cG,"ZodBase64",()=>ci,"ZodBase64URL",()=>ca,"ZodBigInt",()=>cS,"ZodBigIntFormat",()=>cE,"ZodBoolean",()=>ck,"ZodCIDRv4",()=>d7,"ZodCIDRv6",()=>ct,"ZodCUID",()=>dG,"ZodCUID2",()=>dK,"ZodCatch",()=>pO,"ZodCodec",()=>pP,"ZodCustom",()=>pW,"ZodCustomStringFormat",()=>cc,"ZodDate",()=>cW,"ZodDefault",()=>py,"ZodDiscriminatedUnion",()=>c4,"ZodE164",()=>co,"ZodEmail",()=>dN,"ZodEmoji",()=>dB,"ZodEnum",()=>pa,"ZodFile",()=>pd,"ZodFunction",()=>pB,"ZodGUID",()=>dP,"ZodIPv4",()=>d6,"ZodIPv6",()=>d3,"ZodIntersection",()=>c2,"ZodJWT",()=>cu,"ZodKSUID",()=>d1,"ZodLazy",()=>pD,"ZodLiteral",()=>pl,"ZodMAC",()=>d9,"ZodMap",()=>pt,"ZodNaN",()=>pT,"ZodNanoID",()=>dW,"ZodNever",()=>cM,"ZodNonOptional",()=>px,"ZodNull",()=>cZ,"ZodNullable",()=>pg,"ZodNumber",()=>cg,"ZodNumberFormat",()=>cv,"ZodObject",()=>cH,"ZodOptional",()=>ph,"ZodPipe",()=>pN,"ZodPrefault",()=>p$,"ZodPromise",()=>pM,"ZodReadonly",()=>pZ,"ZodRecord",()=>c8,"ZodSet",()=>pi,"ZodString",()=>dE,"ZodStringFormat",()=>dA,"ZodSuccess",()=>pI,"ZodSymbol",()=>cN,"ZodTemplateLiteral",()=>pU,"ZodTransform",()=>pp,"ZodTuple",()=>c5,"ZodType",()=>dS,"ZodULID",()=>dX,"ZodURL",()=>dL,"ZodUUID",()=>dZ,"ZodUndefined",()=>cP,"ZodUnion",()=>c0,"ZodUnknown",()=>cD,"ZodVoid",()=>cB,"ZodXID",()=>dQ,"_ZodString",()=>dO,"_default",()=>pb,"_function",()=>pJ,"any",()=>cR,"array",()=>cq,"base64",()=>cn,"base64url",()=>cs,"bigint",()=>cO,"boolean",()=>cI,"catch",()=>pE,"check",()=>pV,"cidrv4",()=>ce,"cidrv6",()=>cr,"codec",()=>pC,"cuid",()=>dq,"cuid2",()=>dH,"custom",()=>pG,"date",()=>cV,"describe",()=>pH,"discriminatedUnion",()=>c6,"e164",()=>cl,"email",()=>dj,"emoji",()=>dJ,"enum",()=>ps,"file",()=>pc,"float32",()=>cb,"float64",()=>c$,"function",()=>pJ,"guid",()=>dC,"hash",()=>cf,"hex",()=>ch,"hostname",()=>cm,"httpUrl",()=>dF,"instanceof",()=>pY,"int",()=>cy,"int32",()=>cw,"int64",()=>cT,"intersection",()=>c9,"ipv4",()=>d2,"ipv6",()=>d8,"json",()=>p0,"jwt",()=>cd,"keyof",()=>cK,"ksuid",()=>d4,"lazy",()=>pL,"literal",()=>pu,"looseObject",()=>cQ,"mac",()=>d5,"map",()=>pr,"meta",()=>pX,"nan",()=>pA,"nanoid",()=>dV,"nativeEnum",()=>po,"never",()=>cF,"nonoptional",()=>pk,"null",()=>cz,"nullable",()=>p_,"nullish",()=>pv,"number",()=>c_,"object",()=>cX,"optional",()=>pf,"partialRecord",()=>pe,"pipe",()=>pj,"prefault",()=>pw,"preprocess",()=>p1,"promise",()=>pF,"readonly",()=>pz,"record",()=>c7,"refine",()=>pq,"set",()=>pn,"strictObject",()=>cY,"string",()=>dT,"stringFormat",()=>cp,"stringbool",()=>pQ,"success",()=>pS,"superRefine",()=>pK,"symbol",()=>cj,"templateLiteral",()=>pR,"transform",()=>pm,"tuple",()=>c3,"uint32",()=>cx,"uint64",()=>cA,"ulid",()=>dY,"undefined",()=>cC,"union",()=>c1,"unknown",()=>cL,"url",()=>dM,"uuid",()=>dz,"uuidv4",()=>dU,"uuidv6",()=>dR,"uuidv7",()=>dD,"void",()=>cJ,"xid",()=>d0],72505),e.i(799412),e.s(["$ZodAny",0,oc,"$ZodArray",0,o_,"$ZodBase64",0,s5,"$ZodBase64URL",0,s8,"$ZodBigInt",0,os,"$ZodBigIntFormat",0,oo,"$ZodBoolean",0,oa,"$ZodCIDRv4",0,s6,"$ZodCIDRv6",0,s2,"$ZodCUID",0,sW,"$ZodCUID2",0,sV,"$ZodCatch",0,oq,"$ZodCodec",0,oY,"$ZodCustom",0,o3,"$ZodCustomStringFormat",0,or,"$ZodDate",0,of,"$ZodDefault",0,oF,"$ZodDiscriminatedUnion",0,oI,"$ZodE164",0,s7,"$ZodEmail",0,sM,"$ZodEmoji",0,sB,"$ZodEnum",0,oZ,"$ZodFile",0,oU,"$ZodFunction",0,o2,"$ZodGUID",0,sD,"$ZodIPv4",0,s0,"$ZodIPv6",0,s1,"$ZodISODate",0,sX,"$ZodISODateTime",0,sH,"$ZodISODuration",0,sQ,"$ZodISOTime",0,sY,"$ZodIntersection",0,oS,"$ZodJWT",0,ot,"$ZodKSUID",0,sK,"$ZodLazy",0,o5,"$ZodLiteral",0,oz,"$ZodMAC",0,s4,"$ZodMap",0,oN,"$ZodNaN",0,oK,"$ZodNanoID",0,sJ,"$ZodNever",0,om,"$ZodNonOptional",0,oW,"$ZodNull",0,od,"$ZodNullable",0,oM,"$ZodNumber",0,oi,"$ZodNumberFormat",0,on,"$ZodObject",0,o$,"$ZodObjectJIT",0,ow,"$ZodOptional",0,oL,"$ZodPipe",0,oH,"$ZodPrefault",0,oJ,"$ZodPromise",0,o9,"$ZodReadonly",0,o1,"$ZodRecord",0,oA,"$ZodSet",0,oP,"$ZodString",0,sU,"$ZodStringFormat",0,sR,"$ZodSuccess",0,oG,"$ZodSymbol",0,ol,"$ZodTemplateLiteral",0,o6,"$ZodTransform",0,oR,"$ZodTuple",0,oE,"$ZodType",0,sz,"$ZodULID",0,sG,"$ZodURL",0,sF,"$ZodUUID",0,sL,"$ZodUndefined",0,ou,"$ZodUnion",0,ok,"$ZodUnknown",0,op,"$ZodVoid",0,oh,"$ZodXID",0,sq,"clone",()=>nE,"isValidBase64",()=>s9,"isValidBase64URL",()=>s3,"isValidJWT",()=>oe],626962);var de=e.i(686631),de=de,dt=e.i(275380),dt=dt;e.s([],936731),e.s(["ZodISODate",()=>dn,"ZodISODateTime",()=>dr,"ZodISODuration",()=>du,"ZodISOTime",()=>ds,"date",()=>da,"datetime",()=>di,"duration",()=>dd,"time",()=>dl],822891);let dr=i0("ZodISODateTime",(e,t)=>{sH.init(e,t),dA.init(e,t)});function di(e){return lR(dr,e)}let dn=i0("ZodISODate",(e,t)=>{sX.init(e,t),dA.init(e,t)});function da(e){return lD(dn,e)}let ds=i0("ZodISOTime",(e,t)=>{sY.init(e,t),dA.init(e,t)});function dl(e){return lL(ds,e)}let du=i0("ZodISODuration",(e,t)=>{sQ.init(e,t),dA.init(e,t)});function dd(e){return lM(du,e)}let dc=(e,t)=>{n2.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>n3(e,t)},flatten:{value:t=>n5(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,ni,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,ni,2)}},isEmpty:{get:()=>0===e.issues.length}})},dp=i0("ZodError",dc),dm=i0("ZodError",dc,{Parent:Error});e.s(["ZodError",0,dp,"ZodRealError",0,dm],413971);let dh=at(dm),df=ai(dm),dg=aa(dm),d_=ao(dm),dv=au(dm),dy=ac(dm),db=am(dm),d$=af(dm),dw=a_(dm),dx=ay(dm),dk=a$(dm),dI=ax(dm);e.s(["decode",0,dy,"decodeAsync",0,d$,"encode",0,dv,"encodeAsync",0,db,"parse",0,dh,"parseAsync",0,df,"safeDecode",0,dx,"safeDecodeAsync",0,dI,"safeEncode",0,dw,"safeEncodeAsync",0,dk,"safeParse",0,dg,"safeParseAsync",0,d_],885062);let dS=i0("ZodType",(e,t)=>(sz.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(dt.mergeDefs(t,{checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,r)=>nE(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>dh(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>dg(e,t,r),e.parseAsync=async(t,r)=>df(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>d_(e,t,r),e.spa=e.safeParseAsync,e.encode=(t,r)=>dv(e,t,r),e.decode=(t,r)=>dy(e,t,r),e.encodeAsync=async(t,r)=>db(e,t,r),e.decodeAsync=async(t,r)=>d$(e,t,r),e.safeEncode=(t,r)=>dw(e,t,r),e.safeDecode=(t,r)=>dx(e,t,r),e.safeEncodeAsync=async(t,r)=>dk(e,t,r),e.safeDecodeAsync=async(t,r)=>dI(e,t,r),e.refine=(t,r)=>e.check(pq(t,r)),e.superRefine=t=>e.check(u4(t)),e.overwrite=t=>e.check(uk(t)),e.optional=()=>pf(e),e.nullable=()=>p_(e),e.nullish=()=>pf(p_(e)),e.nonoptional=t=>pk(e,t),e.array=()=>cq(e),e.or=t=>c1([e,t]),e.and=t=>c9(e,t),e.transform=t=>pj(e,pm(t)),e.default=t=>pb(e,t),e.prefault=t=>pw(e,t),e.catch=t=>pE(e,t),e.pipe=t=>pj(e,t),e.readonly=()=>pz(e),e.describe=t=>{let r=e.clone();return lc.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>lc.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return lc.get(e);let r=e.clone();return lc.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),dO=i0("_ZodString",(e,t)=>{sU.init(e,t),dS.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(ug(...t)),e.includes=(...t)=>e.check(uy(...t)),e.startsWith=(...t)=>e.check(ub(...t)),e.endsWith=(...t)=>e.check(u$(...t)),e.min=(...t)=>e.check(uh(...t)),e.max=(...t)=>e.check(um(...t)),e.length=(...t)=>e.check(uf(...t)),e.nonempty=(...t)=>e.check(uh(1,...t)),e.lowercase=t=>e.check(u_(t)),e.uppercase=t=>e.check(uv(t)),e.trim=()=>e.check(uS()),e.normalize=(...t)=>e.check(uI(...t)),e.toLowerCase=()=>e.check(uO()),e.toUpperCase=()=>e.check(uE()),e.slugify=()=>e.check(uT())}),dE=i0("ZodString",(e,t)=>{sU.init(e,t),dO.init(e,t),e.email=t=>e.check(lh(dN,t)),e.url=t=>e.check(lb(dL,t)),e.jwt=t=>e.check(lz(cu,t)),e.emoji=t=>e.check(l$(dB,t)),e.guid=t=>e.check(lf(dP,t)),e.uuid=t=>e.check(lg(dZ,t)),e.uuidv4=t=>e.check(l_(dZ,t)),e.uuidv6=t=>e.check(lv(dZ,t)),e.uuidv7=t=>e.check(ly(dZ,t)),e.nanoid=t=>e.check(lw(dW,t)),e.guid=t=>e.check(lf(dP,t)),e.cuid=t=>e.check(lx(dG,t)),e.cuid2=t=>e.check(lk(dK,t)),e.ulid=t=>e.check(lI(dX,t)),e.base64=t=>e.check(lP(ci,t)),e.base64url=t=>e.check(lC(ca,t)),e.xid=t=>e.check(lS(dQ,t)),e.ksuid=t=>e.check(lO(d1,t)),e.ipv4=t=>e.check(lE(d6,t)),e.ipv6=t=>e.check(lT(d3,t)),e.cidrv4=t=>e.check(lN(d7,t)),e.cidrv6=t=>e.check(lj(ct,t)),e.e164=t=>e.check(lZ(co,t)),e.datetime=t=>e.check(di(t)),e.date=t=>e.check(da(t)),e.time=t=>e.check(dl(t)),e.duration=t=>e.check(dd(t))});function dT(e){return lp(dE,e)}let dA=i0("ZodStringFormat",(e,t)=>{sR.init(e,t),dO.init(e,t)}),dN=i0("ZodEmail",(e,t)=>{sM.init(e,t),dA.init(e,t)});function dj(e){return lh(dN,e)}let dP=i0("ZodGUID",(e,t)=>{sD.init(e,t),dA.init(e,t)});function dC(e){return lf(dP,e)}let dZ=i0("ZodUUID",(e,t)=>{sL.init(e,t),dA.init(e,t)});function dz(e){return lg(dZ,e)}function dU(e){return l_(dZ,e)}function dR(e){return lv(dZ,e)}function dD(e){return ly(dZ,e)}let dL=i0("ZodURL",(e,t)=>{sF.init(e,t),dA.init(e,t)});function dM(e){return lb(dL,e)}function dF(e){return lb(dL,{protocol:/^https?$/,hostname:de.domain,...dt.normalizeParams(e)})}let dB=i0("ZodEmoji",(e,t)=>{sB.init(e,t),dA.init(e,t)});function dJ(e){return l$(dB,e)}let dW=i0("ZodNanoID",(e,t)=>{sJ.init(e,t),dA.init(e,t)});function dV(e){return lw(dW,e)}let dG=i0("ZodCUID",(e,t)=>{sW.init(e,t),dA.init(e,t)});function dq(e){return lx(dG,e)}let dK=i0("ZodCUID2",(e,t)=>{sV.init(e,t),dA.init(e,t)});function dH(e){return lk(dK,e)}let dX=i0("ZodULID",(e,t)=>{sG.init(e,t),dA.init(e,t)});function dY(e){return lI(dX,e)}let dQ=i0("ZodXID",(e,t)=>{sq.init(e,t),dA.init(e,t)});function d0(e){return lS(dQ,e)}let d1=i0("ZodKSUID",(e,t)=>{sK.init(e,t),dA.init(e,t)});function d4(e){return lO(d1,e)}let d6=i0("ZodIPv4",(e,t)=>{s0.init(e,t),dA.init(e,t)});function d2(e){return lE(d6,e)}let d9=i0("ZodMAC",(e,t)=>{s4.init(e,t),dA.init(e,t)});function d5(e){return lA(d9,e)}let d3=i0("ZodIPv6",(e,t)=>{s1.init(e,t),dA.init(e,t)});function d8(e){return lT(d3,e)}let d7=i0("ZodCIDRv4",(e,t)=>{s6.init(e,t),dA.init(e,t)});function ce(e){return lN(d7,e)}let ct=i0("ZodCIDRv6",(e,t)=>{s2.init(e,t),dA.init(e,t)});function cr(e){return lj(ct,e)}let ci=i0("ZodBase64",(e,t)=>{s5.init(e,t),dA.init(e,t)});function cn(e){return lP(ci,e)}let ca=i0("ZodBase64URL",(e,t)=>{s8.init(e,t),dA.init(e,t)});function cs(e){return lC(ca,e)}let co=i0("ZodE164",(e,t)=>{s7.init(e,t),dA.init(e,t)});function cl(e){return lZ(co,e)}let cu=i0("ZodJWT",(e,t)=>{ot.init(e,t),dA.init(e,t)});function cd(e){return lz(cu,e)}let cc=i0("ZodCustomStringFormat",(e,t)=>{or.init(e,t),dA.init(e,t)});function cp(e,t,r={}){return u3(cc,e,t,r)}function cm(e){return u3(cc,"hostname",de.hostname,e)}function ch(e){return u3(cc,"hex",de.hex,e)}function cf(e,t){let r=t?.enc??"hex",i=`${e}_${r}`,n=de[i];if(!n)throw Error(`Unrecognized hash format: ${i}`);return u3(cc,i,n,t)}let cg=i0("ZodNumber",(e,t)=>{oi.init(e,t),dS.init(e,t),e.gt=(t,r)=>e.check(ui(t,r)),e.gte=(t,r)=>e.check(un(t,r)),e.min=(t,r)=>e.check(un(t,r)),e.lt=(t,r)=>e.check(ut(t,r)),e.lte=(t,r)=>e.check(ur(t,r)),e.max=(t,r)=>e.check(ur(t,r)),e.int=t=>e.check(cy(t)),e.safe=t=>e.check(cy(t)),e.positive=t=>e.check(ui(0,t)),e.nonnegative=t=>e.check(un(0,t)),e.negative=t=>e.check(ut(0,t)),e.nonpositive=t=>e.check(ur(0,t)),e.multipleOf=(t,r)=>e.check(uu(t,r)),e.step=(t,r)=>e.check(uu(t,r)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??-1/0,r.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(r.maximum??1/0,r.exclusiveMaximum??1/0)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function c_(e){return lF(cg,e)}let cv=i0("ZodNumberFormat",(e,t)=>{on.init(e,t),cg.init(e,t)});function cy(e){return lJ(cv,e)}function cb(e){return lW(cv,e)}function c$(e){return lV(cv,e)}function cw(e){return lG(cv,e)}function cx(e){return lq(cv,e)}let ck=i0("ZodBoolean",(e,t)=>{oa.init(e,t),dS.init(e,t)});function cI(e){return lK(ck,e)}let cS=i0("ZodBigInt",(e,t)=>{os.init(e,t),dS.init(e,t),e.gte=(t,r)=>e.check(un(t,r)),e.min=(t,r)=>e.check(un(t,r)),e.gt=(t,r)=>e.check(ui(t,r)),e.gte=(t,r)=>e.check(un(t,r)),e.min=(t,r)=>e.check(un(t,r)),e.lt=(t,r)=>e.check(ut(t,r)),e.lte=(t,r)=>e.check(ur(t,r)),e.max=(t,r)=>e.check(ur(t,r)),e.positive=t=>e.check(ui(BigInt(0),t)),e.negative=t=>e.check(ut(BigInt(0),t)),e.nonpositive=t=>e.check(ur(BigInt(0),t)),e.nonnegative=t=>e.check(un(BigInt(0),t)),e.multipleOf=(t,r)=>e.check(uu(t,r));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function cO(e){return lX(cS,e)}let cE=i0("ZodBigIntFormat",(e,t)=>{oo.init(e,t),cS.init(e,t)});function cT(e){return lQ(cE,e)}function cA(e){return l0(cE,e)}let cN=i0("ZodSymbol",(e,t)=>{ol.init(e,t),dS.init(e,t)});function cj(e){return l1(cN,e)}let cP=i0("ZodUndefined",(e,t)=>{ou.init(e,t),dS.init(e,t)});function cC(e){return l4(cP,e)}let cZ=i0("ZodNull",(e,t)=>{od.init(e,t),dS.init(e,t)});function cz(e){return l6(cZ,e)}let cU=i0("ZodAny",(e,t)=>{oc.init(e,t),dS.init(e,t)});function cR(){return l2(cU)}let cD=i0("ZodUnknown",(e,t)=>{op.init(e,t),dS.init(e,t)});function cL(){return l9(cD)}let cM=i0("ZodNever",(e,t)=>{om.init(e,t),dS.init(e,t)});function cF(e){return l5(cM,e)}let cB=i0("ZodVoid",(e,t)=>{oh.init(e,t),dS.init(e,t)});function cJ(e){return l3(cB,e)}let cW=i0("ZodDate",(e,t)=>{of.init(e,t),dS.init(e,t),e.min=(t,r)=>e.check(un(t,r)),e.max=(t,r)=>e.check(ur(t,r));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function cV(e){return l8(cW,e)}let cG=i0("ZodArray",(e,t)=>{o_.init(e,t),dS.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(uh(t,r)),e.nonempty=t=>e.check(uh(1,t)),e.max=(t,r)=>e.check(um(t,r)),e.length=(t,r)=>e.check(uf(t,r)),e.unwrap=()=>e.element});function cq(e,t){return uA(cG,e,t)}function cK(e){return ps(Object.keys(e._zod.def.shape))}let cH=i0("ZodObject",(e,t)=>{ow.init(e,t),dS.init(e,t),dt.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>ps(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:cL()}),e.loose=()=>e.clone({...e._zod.def,catchall:cL()}),e.strict=()=>e.clone({...e._zod.def,catchall:cF()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>dt.extend(e,t),e.safeExtend=t=>dt.safeExtend(e,t),e.merge=t=>dt.merge(e,t),e.pick=t=>dt.pick(e,t),e.omit=t=>dt.omit(e,t),e.partial=(...t)=>dt.partial(ph,e,t[0]),e.required=(...t)=>dt.required(px,e,t[0])});function cX(e,t){return new cH({type:"object",shape:e??{},...dt.normalizeParams(t)})}function cY(e,t){return new cH({type:"object",shape:e,catchall:cF(),...dt.normalizeParams(t)})}function cQ(e,t){return new cH({type:"object",shape:e,catchall:cL(),...dt.normalizeParams(t)})}let c0=i0("ZodUnion",(e,t)=>{ok.init(e,t),dS.init(e,t),e.options=t.options});function c1(e,t){return new c0({type:"union",options:e,...dt.normalizeParams(t)})}let c4=i0("ZodDiscriminatedUnion",(e,t)=>{c0.init(e,t),oI.init(e,t)});function c6(e,t,r){return new c4({type:"union",options:t,discriminator:e,...dt.normalizeParams(r)})}let c2=i0("ZodIntersection",(e,t)=>{oS.init(e,t),dS.init(e,t)});function c9(e,t){return new c2({type:"intersection",left:e,right:t})}let c5=i0("ZodTuple",(e,t)=>{oE.init(e,t),dS.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})});function c3(e,t,r){let i=t instanceof sz,n=i?r:t;return new c5({type:"tuple",items:e,rest:i?t:null,...dt.normalizeParams(n)})}let c8=i0("ZodRecord",(e,t)=>{oA.init(e,t),dS.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function c7(e,t,r){return new c8({type:"record",keyType:e,valueType:t,...dt.normalizeParams(r)})}function pe(e,t,r){let i=nE(e);return i._zod.values=void 0,new c8({type:"record",keyType:i,valueType:t,...dt.normalizeParams(r)})}let pt=i0("ZodMap",(e,t)=>{oN.init(e,t),dS.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function pr(e,t,r){return new pt({type:"map",keyType:e,valueType:t,...dt.normalizeParams(r)})}let pi=i0("ZodSet",(e,t)=>{oP.init(e,t),dS.init(e,t),e.min=(...t)=>e.check(uc(...t)),e.nonempty=t=>e.check(uc(1,t)),e.max=(...t)=>e.check(ud(...t)),e.size=(...t)=>e.check(up(...t))});function pn(e,t){return new pi({type:"set",valueType:e,...dt.normalizeParams(t)})}let pa=i0("ZodEnum",(e,t)=>{oZ.init(e,t),dS.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,i)=>{let n={};for(let i of e)if(r.has(i))n[i]=t.entries[i];else throw Error(`Key ${i} not found in enum`);return new pa({...t,checks:[],...dt.normalizeParams(i),entries:n})},e.exclude=(e,i)=>{let n={...t.entries};for(let t of e)if(r.has(t))delete n[t];else throw Error(`Key ${t} not found in enum`);return new pa({...t,checks:[],...dt.normalizeParams(i),entries:n})}});function ps(e,t){return new pa({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...dt.normalizeParams(t)})}function po(e,t){return new pa({type:"enum",entries:e,...dt.normalizeParams(t)})}let pl=i0("ZodLiteral",(e,t)=>{oz.init(e,t),dS.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function pu(e,t){return new pl({type:"literal",values:Array.isArray(e)?e:[e],...dt.normalizeParams(t)})}let pd=i0("ZodFile",(e,t)=>{oU.init(e,t),dS.init(e,t),e.min=(t,r)=>e.check(uc(t,r)),e.max=(t,r)=>e.check(ud(t,r)),e.mime=(t,r)=>e.check(ux(Array.isArray(t)?t:[t],r))});function pc(e){return uM(pd,e)}let pp=i0("ZodTransform",(e,t)=>{oR.init(e,t),dS.init(e,t),e._zod.parse=(r,i)=>{if("backward"===i.direction)throw new i6(e.constructor.name);r.addIssue=i=>{"string"==typeof i?r.issues.push(dt.issue(i,r.value,t)):(i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(dt.issue(i)))};let n=t.transform(r.value,r);return n instanceof Promise?n.then(e=>(r.value=e,r)):(r.value=n,r)}});function pm(e){return new pp({type:"transform",transform:e})}let ph=i0("ZodOptional",(e,t)=>{oL.init(e,t),dS.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pf(e){return new ph({type:"optional",innerType:e})}let pg=i0("ZodNullable",(e,t)=>{oM.init(e,t),dS.init(e,t),e.unwrap=()=>e._zod.def.innerType});function p_(e){return new pg({type:"nullable",innerType:e})}function pv(e){return pf(p_(e))}let py=i0("ZodDefault",(e,t)=>{oF.init(e,t),dS.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function pb(e,t){return new py({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():dt.shallowClone(t)}})}let p$=i0("ZodPrefault",(e,t)=>{oJ.init(e,t),dS.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pw(e,t){return new p$({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():dt.shallowClone(t)}})}let px=i0("ZodNonOptional",(e,t)=>{oW.init(e,t),dS.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pk(e,t){return new px({type:"nonoptional",innerType:e,...dt.normalizeParams(t)})}let pI=i0("ZodSuccess",(e,t)=>{oG.init(e,t),dS.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pS(e){return new pI({type:"success",innerType:e})}let pO=i0("ZodCatch",(e,t)=>{oq.init(e,t),dS.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function pE(e,t){return new pO({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}let pT=i0("ZodNaN",(e,t)=>{oK.init(e,t),dS.init(e,t)});function pA(e){return ue(pT,e)}let pN=i0("ZodPipe",(e,t)=>{oH.init(e,t),dS.init(e,t),e.in=t.in,e.out=t.out});function pj(e,t){return new pN({type:"pipe",in:e,out:t})}let pP=i0("ZodCodec",(e,t)=>{pN.init(e,t),oY.init(e,t)});function pC(e,t,r){return new pP({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}let pZ=i0("ZodReadonly",(e,t)=>{o1.init(e,t),dS.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pz(e){return new pZ({type:"readonly",innerType:e})}let pU=i0("ZodTemplateLiteral",(e,t)=>{o6.init(e,t),dS.init(e,t)});function pR(e,t){return new pU({type:"template_literal",parts:e,...dt.normalizeParams(t)})}let pD=i0("ZodLazy",(e,t)=>{o5.init(e,t),dS.init(e,t),e.unwrap=()=>e._zod.def.getter()});function pL(e){return new pD({type:"lazy",getter:e})}let pM=i0("ZodPromise",(e,t)=>{o9.init(e,t),dS.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pF(e){return new pM({type:"promise",innerType:e})}let pB=i0("ZodFunction",(e,t)=>{o2.init(e,t),dS.init(e,t)});function pJ(e){return new pB({type:"function",input:Array.isArray(e?.input)?c3(e?.input):e?.input??cq(cL()),output:e?.output??cL()})}let pW=i0("ZodCustom",(e,t)=>{o3.init(e,t),dS.init(e,t)});function pV(e){let t=new sd({check:"custom"});return t._zod.check=e,t}function pG(e,t){return u0(pW,e??(()=>!0),t)}function pq(e,t={}){return u1(pW,e,t)}function pK(e){return u4(e)}let pH=u2,pX=u9;function pY(e,t={error:`Input not instance of ${e.name}`}){let r=new pW({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...dt.normalizeParams(t)});return r._zod.bag.Class=e,r}let pQ=(...e)=>u5({Codec:pP,Boolean:ck,String:dE},...e);function p0(e){let t=pL(()=>c1([dT(e),c_(),cI(),cz(),cq(t),c7(dT(),t)]));return t}function p1(e,t){return pj(pm(e),t)}let p4={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function p6(e){i9({customError:e})}function p2(){return i9().customError}function p9(e){return lm(dE,e)}function p5(e){return lB(cg,e)}function p3(e){return lH(ck,e)}function p8(e){return lY(cS,e)}function p7(e){return l7(cW,e)}iw||(iw={}),e.s(["ZodFirstPartyTypeKind",()=>iw,"ZodIssueCode",0,p4,"getErrorMap",()=>p2,"setErrorMap",()=>p6],185923),e.s(["bigint",()=>p8,"boolean",()=>p3,"date",()=>p7,"number",()=>p5,"string",()=>p9],324042),i9(le()),e.s([],560776),e.i(560776),e.i(295281),e.i(147161),e.i(75383),e.i(734554),e.i(626962),e.i(644255),e.i(603928);var me=dt,mt=de;e.i(421161),e.s(["ar",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`  :   ${r.expected}    ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :   ${nN(r.values[0])}`;return`  :     : ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`   :    ${r.origin??""} ${t} ${r.maximum.toString()} ${i.unit??""}`;return`  :    ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`  :   ${r.origin}   ${t} ${r.minimum.toString()} ${i.unit}`;return`  :   ${r.origin}   ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :     "${r.prefix}"`;if("ends_with"===r.format)return`  :     "${r.suffix}"`;if("includes"===r.format)return`  :    "${r.includes}"`;if("regex"===r.format)return`  :     ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${nr(r.keys," ")}`;case"invalid_key":return`    ${r.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${r.origin}`}})}},"az",0,function(){let e,t;return{localeError:(e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Yanl dyr: g\xf6zlniln ${r.expected}, daxil olan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Yanl dyr: g\xf6zlniln ${nN(r.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()} ${i.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Yanl mtn: "${r.prefix}" il balamaldr`;if("ends_with"===r.format)return`Yanl mtn: "${r.suffix}" il bitmlidir`;if("includes"===r.format)return`Yanl mtn: "${r.includes}" daxil olmaldr`;if("regex"===r.format)return`Yanl mtn: ${r.pattern} ablonuna uyun olmaldr`;return`Yanl ${t[r.format]??r.format}`;case"not_multiple_of":return`Yanl dd: ${r.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${r.keys.length>1?"lar":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${r.origin} daxilind yanl dyr`;default:return`Yanl dyr`}})}},"be",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${nN(r.values[0])}`;return` :    ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i){let e=o7(Number(r.maximum),i.unit.one,i.unit.few,i.unit.many);return` : ,  ${r.origin??""}  ${i.verb} ${t}${r.maximum.toString()} ${e}`}return` : ,  ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i){let e=o7(Number(r.minimum),i.unit.one,i.unit.few,i.unit.many);return` : ,  ${r.origin}  ${i.verb} ${t}${r.minimum.toString()} ${e}`}return` : ,  ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"bg",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${nN(r.values[0])}`;return` :    ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${i.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${i.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":{if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :     ${r.pattern}`;let e="";return"emoji"===r.format&&(e=""),"datetime"===r.format&&(e=""),"date"===r.format&&(e=""),"time"===r.format&&(e=""),"duration"===r.format&&(e=""),`${e} ${t[r.format]??r.format}`}case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"ca",0,function(){let e,t;return{localeError:(e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},t={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${r.expected}, s'ha rebut ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Valor inv\xe0lid: s'esperava ${nN(r.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${nr(r.values," o ")}`;case"too_big":{let t=r.inclusive?"com a mxim":"menys de",i=e[r.origin]??null;if(i)return`Massa gran: s'esperava que ${r.origin??"el valor"} contingu\xe9s ${t} ${r.maximum.toString()} ${i.unit??"elements"}`;return`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"com a mnim":"ms de",i=e[r.origin]??null;if(i)return`Massa petit: s'esperava que ${r.origin} contingu\xe9s ${t} ${r.minimum.toString()} ${i.unit}`;return`Massa petit: s'esperava que ${r.origin} fos ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${r.prefix}"`;if("ends_with"===r.format)return`Format inv\xe0lid: ha d'acabar amb "${r.suffix}"`;if("includes"===r.format)return`Format inv\xe0lid: ha d'incloure "${r.includes}"`;if("regex"===r.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${r.pattern}`;return`Format inv\xe0lid per a ${t[r.format]??r.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${r.origin}`;default:return`Entrada inv\xe0lida`}})}},"cs",0,function(){let e,t;return{localeError:(e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},t={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},r=>{switch(r.code){case"invalid_type":return`Neplatn\xfd vstup: oek\xe1v\xe1no ${r.expected}, obdreno ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${nN(r.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.maximum.toString()} ${i.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.minimum.toString()} ${i.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${r.prefix}"`;if("ends_with"===r.format)return`Neplatn\xfd etzec: mus\xed konit na "${r.suffix}"`;if("includes"===r.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${r.includes}"`;if("regex"===r.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${r.pattern}`;return`Neplatn\xfd form\xe1t ${t[r.format]??r.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${r.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${nr(r.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${r.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${r.origin}`;default:return`Neplatn\xfd vstup`}})}},"da",0,function(){let e,t,r;return{localeError:(e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"},r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},i=>{var n,a,s,o;switch(i.code){case"invalid_type":return`Ugyldigt input: forventede ${t[n=i.expected]??n}, fik ${t[a=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"objekt"}return t})(i.input)]??a}`;case"invalid_value":if(1===i.values.length)return`Ugyldig v\xe6rdi: forventede ${nN(i.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${nr(i.values,"|")}`;case"too_big":{let r=i.inclusive?"<=":"<",n=e[i.origin]??null,a=t[s=i.origin]??s;if(n)return`For stor: forventede ${a??"value"} ${n.verb} ${r} ${i.maximum.toString()} ${n.unit??"elementer"}`;return`For stor: forventede ${a??"value"} havde ${r} ${i.maximum.toString()}`}case"too_small":{let r=i.inclusive?">=":">",n=e[i.origin]??null,a=t[o=i.origin]??o;if(n)return`For lille: forventede ${a} ${n.verb} ${r} ${i.minimum.toString()} ${n.unit}`;return`For lille: forventede ${a} havde ${r} ${i.minimum.toString()}`}case"invalid_format":if("starts_with"===i.format)return`Ugyldig streng: skal starte med "${i.prefix}"`;if("ends_with"===i.format)return`Ugyldig streng: skal ende med "${i.suffix}"`;if("includes"===i.format)return`Ugyldig streng: skal indeholde "${i.includes}"`;if("regex"===i.format)return`Ugyldig streng: skal matche m\xf8nsteret ${i.pattern}`;return`Ugyldig ${r[i.format]??i.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${nr(i.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${i.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${i.origin}`;default:return"Ugyldigt input"}})}},"de",0,function(){let e,t;return{localeError:(e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},r=>{switch(r.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${r.expected}, erhalten ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ung\xfcltige Eingabe: erwartet ${nN(r.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ${i.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ist`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ${i.unit} hat`;return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ist`}case"invalid_format":if("starts_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.suffix}" enden`;if("includes"===r.format)return`Ung\xfcltiger String: muss "${r.includes}" enthalten`;if("regex"===r.format)return`Ung\xfcltiger String: muss dem Muster ${r.pattern} entsprechen`;return`Ung\xfcltig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${nr(r.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${r.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${r.origin}`;default:return`Ung\xfcltige Eingabe`}})}},"en",0,le,"eo",0,function(){let e,t;return{localeError:(e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},r=>{switch(r.code){case"invalid_type":return`Nevalida enigo: atendiis ${r.expected}, riceviis ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nevalida enigo: atendiis ${nN(r.values[0])}`;return`Nevalida opcio: atendiis unu el ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()} ${i.unit??"elementojn"}`;return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Tro malgranda: atendiis ke ${r.origin} havu ${t}${r.minimum.toString()} ${i.unit}`;return`Tro malgranda: atendiis ke ${r.origin} estu ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nevalida karaktraro: devas komencii per "${r.prefix}"`;if("ends_with"===r.format)return`Nevalida karaktraro: devas finii per "${r.suffix}"`;if("includes"===r.format)return`Nevalida karaktraro: devas inkluzivi "${r.includes}"`;if("regex"===r.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`;return`Nevalida ${t[r.format]??r.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${r.divisor}`;case"unrecognized_keys":return`Nekonata${r.keys.length>1?"j":""} losilo${r.keys.length>1?"j":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${r.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${r.origin}`}})}},"es",0,function(){return{localeError:(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(e){return t[e]??e}let i={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return t=>{switch(t.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${r(t.expected)}, recibido ${r((e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name;return"object"}return t})(t.input))}`;case"invalid_value":if(1===t.values.length)return`Entrada inv\xe1lida: se esperaba ${nN(t.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${nr(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",n=e[t.origin]??null,a=r(t.origin);if(n)return`Demasiado grande: se esperaba que ${a??"valor"} tuviera ${i}${t.maximum.toString()} ${n.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${a??"valor"} fuera ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",n=e[t.origin]??null,a=r(t.origin);if(n)return`Demasiado peque\xf1o: se esperaba que ${a} tuviera ${i}${t.minimum.toString()} ${n.unit}`;return`Demasiado peque\xf1o: se esperaba que ${a} fuera ${i}${t.minimum.toString()}`}case"invalid_format":if("starts_with"===t.format)return`Cadena inv\xe1lida: debe comenzar con "${t.prefix}"`;if("ends_with"===t.format)return`Cadena inv\xe1lida: debe terminar en "${t.suffix}"`;if("includes"===t.format)return`Cadena inv\xe1lida: debe incluir "${t.includes}"`;if("regex"===t.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${t.pattern}`;return`Inv\xe1lido ${i[t.format]??t.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${t.divisor}`;case"unrecognized_keys":return`Llave${t.keys.length>1?"s":""} desconocida${t.keys.length>1?"s":""}: ${nr(t.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${r(t.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${r(t.origin)}`;default:return`Entrada inv\xe1lida`}}})()}},"fa",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${nN(r.values[0])} `;return` :    ${nr(r.values,"|")} `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ${r.origin}  ${t}${r.minimum.toString()} ${i.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"  `;if("ends_with"===r.format)return` :   "${r.suffix}"  `;if("includes"===r.format)return` :   "${r.includes}" `;if("regex"===r.format)return` :    ${r.pattern}   `;return`${t[r.format]??r.format} `;case"not_multiple_of":return` :   ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""} : ${nr(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin}`}})}},"fi",0,function(){let e,t;return{localeError:(e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},t={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${nN(r.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Liian suuri: ${i.subject} t\xe4ytyy olla ${t}${r.maximum.toString()} ${i.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Liian pieni: ${i.subject} t\xe4ytyy olla ${t}${r.minimum.toString()} ${i.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${r.prefix}"`;if("ends_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${r.suffix}"`;if("includes"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${r.includes}"`;if("regex"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${r.pattern}`;return`Virheellinen ${t[r.format]??r.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${nr(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}},"fr",0,function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : ${r.expected} attendu, ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} re\xe7u`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : ${nN(r.values[0])} attendu`;return`Option invalide : une valeur parmi ${nr(r.values,"|")} attendue`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Trop grand : ${r.origin??"valeur"} doit ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"lment(s)"}`;return`Trop grand : ${r.origin??"valeur"} doit \xeatre ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Trop petit : ${r.origin} doit ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Trop petit : ${r.origin} doit \xeatre ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${nr(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}},"frCA",0,function(){let e,t;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${r.expected}, re\xe7u ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : attendu ${nN(r.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"<",i=e[r.origin]??null;if(i)return`Trop grand : attendu que ${r.origin??"la valeur"} ait ${t}${r.maximum.toString()} ${i.unit}`;return`Trop grand : attendu que ${r.origin??"la valeur"} soit ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":">",i=e[r.origin]??null;if(i)return`Trop petit : attendu que ${r.origin} ait ${t}${r.minimum.toString()} ${i.unit}`;return`Trop petit : attendu que ${r.origin} soit ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au motif ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${nr(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}},"he",0,function(){let e,t,r,i,n,a,s,o;return{localeError:(e={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},t={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},r=t=>t?e[t]:void 0,i=t=>{let i=r(t);return i?i.label:t??e.unknown.label},n=e=>`${i(e)}`,a=e=>{let t=r(e);return"f"===(t?.gender??"m")?" ":" "},s=e=>e?t[e]??null:null,o={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}},t=>{switch(t.code){case"invalid_type":{let r=i(t.expected),n=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"object";default:return t}})(t.input),a=e[n]?.label??n;return`  :   ${r},  ${a}`}case"invalid_value":{if(1===t.values.length)return`  :    ${nN(t.values[0])}`;let e=t.values.map(e=>nN(e));if(2===t.values.length)return`  :    ${e[0]}  ${e[1]}`;let r=e[e.length-1],i=e.slice(0,-1).join(", ");return`  :    ${i}  ${r}`}case"too_big":{let e=s(t.origin),r=n(t.origin??"value");if("string"===t.origin)return`${e?.longLabel??""} : ${r}   ${t.maximum.toString()} ${e?.unit??""} ${t.inclusive?" ":" "}`.trim();if("number"===t.origin){let e=t.inclusive?`   -${t.maximum}`:` -${t.maximum}`;return` : ${r}   ${e}`}if("array"===t.origin||"set"===t.origin){let i="set"===t.origin?"":"",n=t.inclusive?`${t.maximum} ${e?.unit??""}  `:` -${t.maximum} ${e?.unit??""}`;return` : ${r} ${i}  ${n}`.trim()}let i=t.inclusive?"<=":"<",o=a(t.origin??"value");if(e?.unit)return`${e.longLabel} : ${r} ${o} ${i}${t.maximum.toString()} ${e.unit}`;return`${e?.longLabel??""} : ${r} ${o} ${i}${t.maximum.toString()}`}case"too_small":{let e=s(t.origin),r=n(t.origin??"value");if("string"===t.origin)return`${e?.shortLabel??""} : ${r}   ${t.minimum.toString()} ${e?.unit??""} ${t.inclusive?" ":""}`.trim();if("number"===t.origin){let e=t.inclusive?`   -${t.minimum}`:` -${t.minimum}`;return` : ${r}   ${e}`}if("array"===t.origin||"set"===t.origin){let i="set"===t.origin?"":"";if(1===t.minimum&&t.inclusive){let e=(t.origin,"  ");return` : ${r} ${i}  ${e}`}let n=t.inclusive?`${t.minimum} ${e?.unit??""}  `:` -${t.minimum} ${e?.unit??""}`;return` : ${r} ${i}  ${n}`.trim()}let i=t.inclusive?">=":">",o=a(t.origin??"value");if(e?.unit)return`${e.shortLabel} : ${r} ${o} ${i}${t.minimum.toString()} ${e.unit}`;return`${e?.shortLabel??""} : ${r} ${o} ${i}${t.minimum.toString()}`}case"invalid_format":{if("starts_with"===t.format)return`    "${t.prefix}"`;if("ends_with"===t.format)return`    "${t.suffix}"`;if("includes"===t.format)return`   "${t.includes}"`;if("regex"===t.format)return`    ${t.pattern}`;let e=o[t.format],r=e?.label??t.format,i=e?.gender??"m";return`${r}  ${"f"===i?"":""}`}case"not_multiple_of":return`  :     ${t.divisor}`;case"unrecognized_keys":return`${t.keys.length>1?"":""}  ${t.keys.length>1?"":""}: ${nr(t.keys,", ")}`;case"invalid_key":return`   `;case"invalid_union":return"  ";case"invalid_element":{let e=n(t.origin??"array");return`   ${e}`}default:return`  `}})}},"hu",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},t={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},r=>{switch(r.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${r.expected}, a kapott \xe9rt\xe9k ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szm";case"object":if(Array.isArray(e))return"tmb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${nN(r.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`T\xfal nagy: ${r.origin??"rtk"} m\xe9rete t\xfal nagy ${t}${r.maximum.toString()} ${i.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${r.origin??"rtk"} t\xfal nagy: ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} m\xe9rete t\xfal kicsi ${t}${r.minimum.toString()} ${i.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} t\xfal kicsi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===r.format)return`\xc9rv\xe9nytelen string: "${r.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===r.format)return`\xc9rv\xe9nytelen string: ${r.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${t[r.format]??r.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${r.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${r.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${r.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}},"id",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak valid: diharapkan ${nN(r.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${t}${r.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Terlalu kecil: diharapkan ${r.origin} memiliki ${t}${r.minimum.toString()} ${i.unit}`;return`Terlalu kecil: diharapkan ${r.origin} menjadi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak valid: harus dimulai dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak valid: harus berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak valid: harus menyertakan "${r.includes}"`;if("regex"===r.format)return`String tidak valid: harus sesuai pola ${r.pattern}`;return`${t[r.format]??r.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`}})}},"is",0,function(){let e,t;return{localeError:(e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}},t={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},r=>{switch(r.code){case"invalid_type":return`Rangt gildi: \xde\xfa sl\xf3st inn ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} \xfear sem \xe1 a\xf0 vera ${r.expected}`;case"invalid_value":if(1===r.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${nN(r.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} hafi ${t}${r.maximum.toString()} ${i.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} s\xe9 ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} hafi ${t}${r.minimum.toString()} ${i.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} s\xe9 ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${r.prefix}"`;if("ends_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${r.suffix}"`;if("includes"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${r.includes}"`;if("regex"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${r.pattern}`;return`Rangt ${t[r.format]??r.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${r.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${r.keys.length>1?"ir lyklar":"ur lykill"}: ${nr(r.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${r.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${r.origin}`}})}},"it",0,function(){let e,t;return{localeError:(e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input non valido: atteso ${nN(r.values[0])}`;return`Opzione non valida: atteso uno tra ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Troppo grande: ${r.origin??"valore"} deve avere ${t}${r.maximum.toString()} ${i.unit??"elementi"}`;return`Troppo grande: ${r.origin??"valore"} deve essere ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Troppo piccolo: ${r.origin} deve avere ${t}${r.minimum.toString()} ${i.unit}`;return`Troppo piccolo: ${r.origin} deve essere ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Stringa non valida: deve iniziare con "${r.prefix}"`;if("ends_with"===r.format)return`Stringa non valida: deve terminare con "${r.suffix}"`;if("includes"===r.format)return`Stringa non valida: deve includere "${r.includes}"`;if("regex"===r.format)return`Stringa non valida: deve corrispondere al pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${nr(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`}})}},"ja",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`: ${r.expected}${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`: ${nN(r.values[0])}`;return`: ${nr(r.values,"")}`;case"too_big":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin??""}${r.maximum.toString()}${i.unit??""}${t}`;return`: ${r.origin??""}${r.maximum.toString()}${t}`}case"too_small":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin}${r.minimum.toString()}${i.unit}${t}`;return`: ${r.origin}${r.minimum.toString()}${t}`}case"invalid_format":if("starts_with"===r.format)return`: "${r.prefix}"`;if("ends_with"===r.format)return`: "${r.suffix}"`;if("includes"===r.format)return`: "${r.includes}"`;if("regex"===r.format)return`: ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return`: ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}: ${nr(r.keys,"")}`;case"invalid_key":return`${r.origin}`;case"invalid_union":return"";case"invalid_element":return`${r.origin}`;default:return``}})}},"ka",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return({string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""})[t]??t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${nN(r.values[0])}`;return` :  - ${nr(r.values,"|")}-`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :  ${r.origin??""} ${i.verb} ${t}${r.maximum.toString()} ${i.unit}`;return` :  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :  ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return` :  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"-`;if("ends_with"===r.format)return` :   "${r.suffix}"-`;if("includes"===r.format)return` :   "${r.includes}"-`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :   ${r.divisor}- `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`  ${r.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${r.origin}-`;default:return` `}})}},"kh",0,function(){return lt()},"km",0,lt,"ko",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${nN(r.values[0])}  `;return` : ${nr(r.values," ")}   `;case"too_big":{let t=r.inclusive?"":"",i=""===t?" ":" ",n=e[r.origin]??null,a=n?.unit??"";if(n)return`${r.origin??""}  : ${r.maximum.toString()}${a} ${t}${i}`;return`${r.origin??""}  : ${r.maximum.toString()} ${t}${i}`}case"too_small":{let t=r.inclusive?"":"",i=""===t?" ":" ",n=e[r.origin]??null,a=n?.unit??"";if(n)return`${r.origin??""}  : ${r.minimum.toString()}${a} ${t}${i}`;return`${r.origin??""}  : ${r.minimum.toString()} ${t}${i}`}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"()  `;if("ends_with"===r.format)return` : "${r.suffix}"()  `;if("includes"===r.format)return` : "${r.includes}"()  `;if("regex"===r.format)return` :  ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}  `;case"unrecognized_keys":return`   : ${nr(r.keys,", ")}`;case"invalid_key":return` : ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${r.origin}`}})}},"lt",0,function(){return{localeError:(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(t,r,i,n){let a=e[t]??null;return null===a?a:{unit:a.unit[r],verb:a.verb[n][i?"inclusive":"notInclusive"]}}let r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return e=>{switch(e.code){case"invalid_type":var i;return`Gautas tipas ${lr(typeof(i=e.input),i)}, o tiktasi - ${lr(e.expected)}`;case"invalid_value":if(1===e.values.length)return`Privalo bti ${nN(e.values[0])}`;return`Privalo bti vienas i ${nr(e.values,"|")} pasirinkim`;case"too_big":{let r=lr(e.origin),i=t(e.origin,ln(Number(e.maximum)),e.inclusive??!1,"smaller");if(i?.verb)return`${li(r??e.origin??"reikm")} ${i.verb} ${e.maximum.toString()} ${i.unit??"element"}`;let n=e.inclusive?"ne didesnis kaip":"maesnis kaip";return`${li(r??e.origin??"reikm")} turi bti ${n} ${e.maximum.toString()} ${i?.unit}`}case"too_small":{let r=lr(e.origin),i=t(e.origin,ln(Number(e.minimum)),e.inclusive??!1,"bigger");if(i?.verb)return`${li(r??e.origin??"reikm")} ${i.verb} ${e.minimum.toString()} ${i.unit??"element"}`;let n=e.inclusive?"ne maesnis kaip":"didesnis kaip";return`${li(r??e.origin??"reikm")} turi bti ${n} ${e.minimum.toString()} ${i?.unit}`}case"invalid_format":if("starts_with"===e.format)return`Eilut privalo prasidti "${e.prefix}"`;if("ends_with"===e.format)return`Eilut privalo pasibaigti "${e.suffix}"`;if("includes"===e.format)return`Eilut privalo traukti "${e.includes}"`;if("regex"===e.format)return`Eilut privalo atitikti ${e.pattern}`;return`Neteisingas ${r[e.format]??e.format}`;case"not_multiple_of":return`Skaiius privalo bti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${nr(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga vestis";case"invalid_element":{let t=lr(e.origin);return`${li(t??e.origin??"reikm")} turi klaiding vest`}}}})()}},"mk",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${nN(r.values[0])}`;return` :    ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${i.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${i.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :      ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?" ":" "}: ${nr(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"ms",0,function(){let e,t;return{localeError:(e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak sah: dijangka ${nN(r.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Terlalu besar: dijangka ${r.origin??"nilai"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"elemen"}`;return`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Terlalu kecil: dijangka ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Terlalu kecil: dijangka ${r.origin} adalah ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak sah: mesti bermula dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak sah: mesti berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak sah: mesti mengandungi "${r.includes}"`;if("regex"===r.format)return`String tidak sah: mesti sepadan dengan corak ${r.pattern}`;return`${t[r.format]??r.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${nr(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`}})}},"nl",0,function(){let e,t;return{localeError:(e={string:{unit:"tekens",verb:"te hebben"},file:{unit:"bytes",verb:"te hebben"},array:{unit:"elementen",verb:"te hebben"},set:{unit:"elementen",verb:"te hebben"}},t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ongeldige invoer: verwacht ${nN(r.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Te groot: verwacht dat ${r.origin??"waarde"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"elementen"}`;return`Te groot: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} is`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Te klein: verwacht dat ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Te klein: verwacht dat ${r.origin} ${t}${r.minimum.toString()} is`}case"invalid_format":if("starts_with"===r.format)return`Ongeldige tekst: moet met "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ongeldige tekst: moet op "${r.suffix}" eindigen`;if("includes"===r.format)return`Ongeldige tekst: moet "${r.includes}" bevatten`;if("regex"===r.format)return`Ongeldige tekst: moet overeenkomen met patroon ${r.pattern}`;return`Ongeldig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`}})}},"no",0,function(){let e,t;return{localeError:(e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ugyldig verdi: forventet ${nN(r.values[0])}`;return`Ugyldig valg: forventet en av ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()} ${i.unit??"elementer"}`;return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()} ${i.unit}`;return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ugyldig streng: m\xe5 starte med "${r.prefix}"`;if("ends_with"===r.format)return`Ugyldig streng: m\xe5 ende med "${r.suffix}"`;if("includes"===r.format)return`Ugyldig streng: m\xe5 inneholde "${r.includes}"`;if("regex"===r.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${r.pattern}`;return`Ugyldig ${t[r.format]??r.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${nr(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${r.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`}})}},"ota",0,function(){let e,t;return{localeError:(e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},t={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},r=>{switch(r.code){case"invalid_type":return`F\xe2sit giren: umulan ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`F\xe2sit giren: umulan ${nN(r.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} ${i.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} olmalyd.`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} ${i.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===r.format)return`F\xe2sit metin: "${r.prefix}" ile balamal.`;if("ends_with"===r.format)return`F\xe2sit metin: "${r.suffix}" ile bitmeli.`;if("includes"===r.format)return`F\xe2sit metin: "${r.includes}" ihtiv\xe2 etmeli.`;if("regex"===r.format)return`F\xe2sit metin: ${r.pattern} nakna uymal.`;return`F\xe2sit ${t[r.format]??r.format}`;case"not_multiple_of":return`F\xe2sit say: ${r.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${r.keys.length>1?"s":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${r.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}})}},"pl",0,function(){let e,t;return{localeError:(e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},t={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},r=>{switch(r.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${r.expected}, otrzymano ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${nN(r.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Za dua warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.maximum.toString()} ${i.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Za maa warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.minimum.toString()} ${i.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${r.prefix}"`;if("ends_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${r.suffix}"`;if("includes"===r.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${r.includes}"`;if("regex"===r.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${r.pattern}`;return`Nieprawidow(y/a/e) ${t[r.format]??r.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${r.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${r.origin}`;default:return`Nieprawidowe dane wejciowe`}})}},"ps",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected} ,  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${nN(r.values[0])} `;return` :    ${nr(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ${r.origin}  ${t}${r.minimum.toString()} ${i.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"   `;if("ends_with"===r.format)return` :   "${r.suffix}"    `;if("includes"===r.format)return` :  "${r.includes}" `;if("regex"===r.format)return` :   ${r.pattern}   `;return`${t[r.format]??r.format}  `;case"not_multiple_of":return` :   ${r.divisor}  `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`   ${r.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin} `}})}},"pt",0,function(){let e,t;return{localeError:(e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},t={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},r=>{switch(r.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${r.expected}, recebido ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entrada inv\xe1lida: esperado ${nN(r.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Muito grande: esperado que ${r.origin??"valor"} tivesse ${t}${r.maximum.toString()} ${i.unit??"elementos"}`;return`Muito grande: esperado que ${r.origin??"valor"} fosse ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Muito pequeno: esperado que ${r.origin} tivesse ${t}${r.minimum.toString()} ${i.unit}`;return`Muito pequeno: esperado que ${r.origin} fosse ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Texto inv\xe1lido: deve come\xe7ar com "${r.prefix}"`;if("ends_with"===r.format)return`Texto inv\xe1lido: deve terminar com "${r.suffix}"`;if("includes"===r.format)return`Texto inv\xe1lido: deve incluir "${r.includes}"`;if("regex"===r.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${r.pattern}`;return`${t[r.format]??r.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${r.origin}`;default:return`Campo inv\xe1lido`}})}},"ru",0,function(){let e,t;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${nN(r.values[0])}`;return` :    ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i){let e=la(Number(r.maximum),i.unit.one,i.unit.few,i.unit.many);return`  : ,  ${r.origin??""}   ${t}${r.maximum.toString()} ${e}`}return`  : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i){let e=la(Number(r.minimum),i.unit.one,i.unit.few,i.unit.many);return`  : ,  ${r.origin}   ${t}${r.minimum.toString()} ${e}`}return`  : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}},"sl",0,function(){let e,t;return{localeError:(e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},t={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: priakovano ${r.expected}, prejeto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tevilo";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neveljaven vnos: priakovano ${nN(r.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} imelo ${t}${r.maximum.toString()} ${i.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Premajhno: priakovano, da bo ${r.origin} imelo ${t}${r.minimum.toString()} ${i.unit}`;return`Premajhno: priakovano, da bo ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neveljaven niz: mora se zaeti z "${r.prefix}"`;if("ends_with"===r.format)return`Neveljaven niz: mora se konati z "${r.suffix}"`;if("includes"===r.format)return`Neveljaven niz: mora vsebovati "${r.includes}"`;if("regex"===r.format)return`Neveljaven niz: mora ustrezati vzorcu ${r.pattern}`;return`Neveljaven ${t[r.format]??r.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i kljui":" klju"}: ${nr(r.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${r.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`}})}},"sv",0,function(){let e,t;return{localeError:(e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},t={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${r.expected}, fick ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${nN(r.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()} ${i.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()} ${i.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${r.prefix}"`;if("ends_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${r.suffix}"`;if("includes"===r.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${r.includes}"`;if("regex"===r.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${r.pattern}"`;return`Ogiltig(t) ${t[r.format]??r.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${nr(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${r.origin??"vrdet"}`}})}},"ta",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" ":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${nN(r.values[0])}`;return` :  ${nr(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` :  ${r.origin??""} ${t}${r.maximum.toString()} ${i.unit??""}   `;return` :  ${r.origin??""} ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` :  ${r.origin} ${t}${r.minimum.toString()} ${i.unit}   `;return` :  ${r.origin} ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"   `;if("ends_with"===r.format)return` : "${r.suffix}"   `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` : ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`  ${r.keys.length>1?"":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${r.origin}   `;default:return` `}})}},"th",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return`:  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`:  ${nN(r.values[0])}`;return`:  ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin??""} ${t} ${r.maximum.toString()} ${i.unit??""}`;return`: ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":"",i=e[r.origin]??null;if(i)return`: ${r.origin} ${t} ${r.minimum.toString()} ${i.unit}`;return`: ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`:  "${r.prefix}"`;if("ends_with"===r.format)return`:  "${r.suffix}"`;if("includes"===r.format)return`:  "${r.includes}" `;if("regex"===r.format)return`:  ${r.pattern}`;return`: ${t[r.format]??r.format}`;case"not_multiple_of":return`:  ${r.divisor} `;case"unrecognized_keys":return`: ${nr(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${r.origin}`;default:return``}})}},"tr",0,function(){let e,t;return{localeError:(e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},r=>{switch(r.code){case"invalid_type":return`Ge\xe7ersiz deer: beklenen ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ge\xe7ersiz deer: beklenen ${nN(r.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()} ${i.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ge\xe7ersiz metin: "${r.prefix}" ile balamal`;if("ends_with"===r.format)return`Ge\xe7ersiz metin: "${r.suffix}" ile bitmeli`;if("includes"===r.format)return`Ge\xe7ersiz metin: "${r.includes}" i\xe7ermeli`;if("regex"===r.format)return`Ge\xe7ersiz metin: ${r.pattern} desenine uymal`;return`Ge\xe7ersiz ${t[r.format]??r.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${r.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${r.keys.length>1?"lar":""}: ${nr(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${r.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}})}},"ua",0,function(){return ls()},"uk",0,ls,"ur",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},r=>{switch(r.code){case"invalid_type":return`  : ${r.expected}   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return`  : ${nN(r.values[0])}  `;return` : ${nr(r.values,"|")}     `;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""}   `;return` : ${r.origin??""}  ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` : ${r.origin}  ${t}${r.minimum.toString()} ${i.unit}   `;return` : ${r.origin}  ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"    `;if("ends_with"===r.format)return` : "${r.suffix}"    `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` :  ${r.pattern}    `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`   ${r.keys.length>1?"":""}: ${nr(r.keys," ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${r.origin}   `;default:return`  `}})}},"vi",0,function(){let e,t;return{localeError:(e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},t={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},r=>{switch(r.code){case"invalid_type":return`u v\xe0o kh\xf4ng hp l: mong i ${r.expected}, nhn c ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"s";case"object":if(Array.isArray(e))return"mng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${nN(r.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${i.verb} ${t}${r.maximum.toString()} ${i.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`Qu\xe1 nh: mong i ${r.origin} ${i.verb} ${t}${r.minimum.toString()} ${i.unit}`;return`Qu\xe1 nh: mong i ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Chui kh\xf4ng hp l: phi bt u bng "${r.prefix}"`;if("ends_with"===r.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${r.suffix}"`;if("includes"===r.format)return`Chui kh\xf4ng hp l: phi bao gm "${r.includes}"`;if("regex"===r.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${r.pattern}`;return`${t[r.format]??r.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${r.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${nr(r.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${r.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${r.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}})}},"yo",0,function(){let e,t;return{localeError:(e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}},t={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},r=>{switch(r.code){case"invalid_type":return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${r.expected}, \xe0m a r\xed ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmb";case"object":if(Array.isArray(e))return"akop";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${nN(r.values[0])}`;return`\xc0\xe0y\xe0n a\xece: yan kan l\xe1ra ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return`T\xf3 p j\xf9: a n\xed l\xe1ti j p\xe9 ${r.origin??"iye"} ${i.verb} ${t}${r.maximum} ${i.unit}`;return`T\xf3 p j\xf9: a n\xed l\xe1ti j ${t}${r.maximum}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return`K\xe9r\xe9 ju: a n\xed l\xe1ti j p\xe9 ${r.origin} ${i.verb} ${t}${r.minimum} ${i.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti j ${t}${r.minimum}`}case"invalid_format":if("starts_with"===r.format)return`r a\xece: gbd br pl\xfa "${r.prefix}"`;if("ends_with"===r.format)return`r a\xece: gbd par\xed pl\xfa "${r.suffix}"`;if("includes"===r.format)return`r a\xece: gbd n\xed "${r.includes}"`;if("regex"===r.format)return`r a\xece: gbd b\xe1 \xe0pr mu ${r.pattern}`;return`A\xece: ${t[r.format]??r.format}`;case"not_multiple_of":return`Nmb\xe0 a\xece: gbd j \xe8y\xe0 p\xedp\xedn ti ${r.divisor}`;case"unrecognized_keys":return`Bt\xecn\xec \xe0\xecm: ${nr(r.keys,", ")}`;case"invalid_key":return`Bt\xecn\xec a\xece n\xedn\xfa ${r.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye a\xece n\xedn\xfa ${r.origin}`}})}},"zhCN",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"(NaN)":"";case"object":if(Array.isArray(e))return"";if(null===e)return"(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${nN(r.values[0])}`;return` ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` ${r.origin??""} ${t}${r.maximum.toString()} ${i.unit??""}`;return` ${r.origin??""} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` ${r.origin} ${t}${r.minimum.toString()} ${i.unit}`;return` ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`(key): ${nr(r.keys,", ")}`;case"invalid_key":return`${r.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${r.origin} (value)`;default:return``}})}},"zhTW",0,function(){let e,t;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${nN(r.values[0])}`;return` ${nr(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null;if(i)return` ${r.origin??""}  ${t}${r.maximum.toString()} ${i.unit??""}`;return` ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null;if(i)return` ${r.origin}  ${t}${r.minimum.toString()} ${i.unit}`;return` ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""}${nr(r.keys,"")}`;case"invalid_key":return`${r.origin} `;case"invalid_union":return"";case"invalid_element":return`${r.origin} `;default:return``}})}}],17784);var mr=e.i(17784);e.i(759235),e.i(178020),e.i(899593),e.i(376492);var mi=e.i(738497);e.s(["$ZodAny",0,oc,"$ZodArray",0,o_,"$ZodAsyncError",()=>i4,"$ZodBase64",0,s5,"$ZodBase64URL",0,s8,"$ZodBigInt",0,os,"$ZodBigIntFormat",0,oo,"$ZodBoolean",0,oa,"$ZodCIDRv4",0,s6,"$ZodCIDRv6",0,s2,"$ZodCUID",0,sW,"$ZodCUID2",0,sV,"$ZodCatch",0,oq,"$ZodCheck",0,sd,"$ZodCheckBigIntFormat",0,sg,"$ZodCheckEndsWith",0,sT,"$ZodCheckGreaterThan",0,sm,"$ZodCheckIncludes",0,sO,"$ZodCheckLengthEquals",0,sw,"$ZodCheckLessThan",0,sp,"$ZodCheckLowerCase",0,sI,"$ZodCheckMaxLength",0,sb,"$ZodCheckMaxSize",0,s_,"$ZodCheckMimeType",0,sj,"$ZodCheckMinLength",0,s$,"$ZodCheckMinSize",0,sv,"$ZodCheckMultipleOf",0,sh,"$ZodCheckNumberFormat",0,sf,"$ZodCheckOverwrite",0,sP,"$ZodCheckProperty",0,sN,"$ZodCheckRegex",0,sk,"$ZodCheckSizeEquals",0,sy,"$ZodCheckStartsWith",0,sE,"$ZodCheckStringFormat",0,sx,"$ZodCheckUpperCase",0,sS,"$ZodCodec",0,oY,"$ZodCustom",0,o3,"$ZodCustomStringFormat",0,or,"$ZodDate",0,of,"$ZodDefault",0,oF,"$ZodDiscriminatedUnion",0,oI,"$ZodE164",0,s7,"$ZodEmail",0,sM,"$ZodEmoji",0,sB,"$ZodEncodeError",()=>i6,"$ZodEnum",0,oZ,"$ZodError",0,n2,"$ZodFile",0,oU,"$ZodFunction",0,o2,"$ZodGUID",0,sD,"$ZodIPv4",0,s0,"$ZodIPv6",0,s1,"$ZodISODate",0,sX,"$ZodISODateTime",0,sH,"$ZodISODuration",0,sQ,"$ZodISOTime",0,sY,"$ZodIntersection",0,oS,"$ZodJWT",0,ot,"$ZodKSUID",0,sK,"$ZodLazy",0,o5,"$ZodLiteral",0,oz,"$ZodMAC",0,s4,"$ZodMap",0,oN,"$ZodNaN",0,oK,"$ZodNanoID",0,sJ,"$ZodNever",0,om,"$ZodNonOptional",0,oW,"$ZodNull",0,od,"$ZodNullable",0,oM,"$ZodNumber",0,oi,"$ZodNumberFormat",0,on,"$ZodObject",0,o$,"$ZodObjectJIT",0,ow,"$ZodOptional",0,oL,"$ZodPipe",0,oH,"$ZodPrefault",0,oJ,"$ZodPromise",0,o9,"$ZodReadonly",0,o1,"$ZodRealError",0,n9,"$ZodRecord",0,oA,"$ZodRegistry",()=>lu,"$ZodSet",0,oP,"$ZodString",0,sU,"$ZodStringFormat",0,sR,"$ZodSuccess",0,oG,"$ZodSymbol",0,ol,"$ZodTemplateLiteral",0,o6,"$ZodTransform",0,oR,"$ZodTuple",0,oE,"$ZodType",0,sz,"$ZodULID",0,sG,"$ZodURL",0,sF,"$ZodUUID",0,sL,"$ZodUndefined",0,ou,"$ZodUnion",0,ok,"$ZodUnknown",0,op,"$ZodVoid",0,oh,"$ZodXID",0,sq,"$brand",0,i1,"$constructor",()=>i0,"$input",0,ll,"$output",0,lo,"Doc",()=>sC,"JSONSchema",0,mi,"JSONSchemaGenerator",()=>u8,"NEVER",0,iQ,"TimePrecision",0,lU,"_any",()=>l2,"_array",()=>uA,"_base64",()=>lP,"_base64url",()=>lC,"_bigint",()=>lX,"_boolean",()=>lK,"_catch",()=>uq,"_check",()=>u6,"_cidrv4",()=>lN,"_cidrv6",()=>lj,"_coercedBigint",()=>lY,"_coercedBoolean",()=>lH,"_coercedDate",()=>l7,"_coercedNumber",()=>lB,"_coercedString",()=>lm,"_cuid",()=>lx,"_cuid2",()=>lk,"_custom",()=>u0,"_date",()=>l8,"_decode",0,ac,"_decodeAsync",0,af,"_default",()=>uW,"_discriminatedUnion",()=>uj,"_e164",()=>lZ,"_email",()=>lh,"_emoji",()=>l$,"_encode",0,au,"_encodeAsync",0,am,"_endsWith",()=>u$,"_enum",()=>uR,"_file",()=>uM,"_float32",()=>lW,"_float64",()=>lV,"_gt",()=>ui,"_gte",()=>un,"_guid",()=>lf,"_includes",()=>uy,"_int",()=>lJ,"_int32",()=>lG,"_int64",()=>lQ,"_intersection",()=>uP,"_ipv4",()=>lE,"_ipv6",()=>lT,"_isoDate",()=>lD,"_isoDateTime",()=>lR,"_isoDuration",()=>lM,"_isoTime",()=>lL,"_jwt",()=>lz,"_ksuid",()=>lO,"_lazy",()=>uY,"_length",()=>uf,"_literal",()=>uL,"_lowercase",()=>u_,"_lt",()=>ut,"_lte",()=>ur,"_mac",()=>lA,"_map",()=>uz,"_max",()=>ur,"_maxLength",()=>um,"_maxSize",()=>ud,"_mime",()=>ux,"_min",()=>un,"_minLength",()=>uh,"_minSize",()=>uc,"_multipleOf",()=>uu,"_nan",()=>ue,"_nanoid",()=>lw,"_nativeEnum",()=>uD,"_negative",()=>us,"_never",()=>l5,"_nonnegative",()=>ul,"_nonoptional",()=>uV,"_nonpositive",()=>uo,"_normalize",()=>uI,"_null",()=>l6,"_nullable",()=>uJ,"_number",()=>lF,"_optional",()=>uB,"_overwrite",()=>uk,"_parse",0,at,"_parseAsync",0,ai,"_pipe",()=>uK,"_positive",()=>ua,"_promise",()=>uQ,"_property",()=>uw,"_readonly",()=>uH,"_record",()=>uZ,"_refine",()=>u1,"_regex",()=>ug,"_safeDecode",0,ay,"_safeDecodeAsync",0,ax,"_safeEncode",0,a_,"_safeEncodeAsync",0,a$,"_safeParse",0,aa,"_safeParseAsync",0,ao,"_set",()=>uU,"_size",()=>up,"_slugify",()=>uT,"_startsWith",()=>ub,"_string",()=>lp,"_stringFormat",()=>u3,"_stringbool",()=>u5,"_success",()=>uG,"_superRefine",()=>u4,"_symbol",()=>l1,"_templateLiteral",()=>uX,"_toLowerCase",()=>uO,"_toUpperCase",()=>uE,"_transform",()=>uF,"_trim",()=>uS,"_tuple",()=>uC,"_uint32",()=>lq,"_uint64",()=>l0,"_ulid",()=>lI,"_undefined",()=>l4,"_union",()=>uN,"_unknown",()=>l9,"_uppercase",()=>uv,"_url",()=>lb,"_uuid",()=>lg,"_uuidv4",()=>l_,"_uuidv6",()=>lv,"_uuidv7",()=>ly,"_void",()=>l3,"_xid",()=>lS,"clone",()=>nE,"config",()=>i9,"decode",0,ap,"decodeAsync",0,ag,"describe",()=>u2,"encode",0,ad,"encodeAsync",0,ah,"flattenError",()=>n5,"formatError",()=>n3,"globalConfig",0,i2,"globalRegistry",0,lc,"isValidBase64",()=>s9,"isValidBase64URL",()=>s3,"isValidJWT",()=>oe,"locales",0,mr,"meta",()=>u9,"parse",0,ar,"parseAsync",0,an,"prettifyError",()=>ae,"regexes",0,mt,"registry",()=>ld,"safeDecode",0,ab,"safeDecodeAsync",0,ak,"safeEncode",0,av,"safeEncodeAsync",0,aw,"safeParse",0,as,"safeParseAsync",0,al,"toDotPath",()=>n7,"toJSONSchema",()=>u7,"treeifyError",()=>n8,"util",0,me,"version",0,sZ],241188);var mn=e.i(241188);e.i(72505),e.i(936731),e.s(["endsWith",()=>u$,"gt",()=>ui,"gte",()=>un,"includes",()=>uy,"length",()=>uf,"lowercase",()=>u_,"lt",()=>ut,"lte",()=>ur,"maxLength",()=>um,"maxSize",()=>ud,"mime",()=>ux,"minLength",()=>uh,"minSize",()=>uc,"multipleOf",()=>uu,"negative",()=>us,"nonnegative",()=>ul,"nonpositive",()=>uo,"normalize",()=>uI,"overwrite",()=>uk,"positive",()=>ua,"property",()=>uw,"regex",()=>ug,"size",()=>up,"slugify",()=>uT,"startsWith",()=>ub,"toLowerCase",()=>uO,"toUpperCase",()=>uE,"trim",()=>uS,"uppercase",()=>uv],256778),e.i(256778),e.i(413971),e.i(885062),e.i(185923),e.s(["$brand",0,i1,"ZodFirstPartyTypeKind",()=>iw,"ZodIssueCode",0,p4,"config",()=>i9,"getErrorMap",()=>p2,"setErrorMap",()=>p6],893915),e.i(893915);var de=de,dt=dt,ma=e.i(822891),ms=e.i(324042);e.s(["$brand",0,i1,"$input",0,ll,"$output",0,lo,"NEVER",0,iQ,"TimePrecision",0,lU,"ZodAny",0,cU,"ZodArray",0,cG,"ZodBase64",0,ci,"ZodBase64URL",0,ca,"ZodBigInt",0,cS,"ZodBigIntFormat",0,cE,"ZodBoolean",0,ck,"ZodCIDRv4",0,d7,"ZodCIDRv6",0,ct,"ZodCUID",0,dG,"ZodCUID2",0,dK,"ZodCatch",0,pO,"ZodCodec",0,pP,"ZodCustom",0,pW,"ZodCustomStringFormat",0,cc,"ZodDate",0,cW,"ZodDefault",0,py,"ZodDiscriminatedUnion",0,c4,"ZodE164",0,co,"ZodEmail",0,dN,"ZodEmoji",0,dB,"ZodEnum",0,pa,"ZodError",0,dp,"ZodFile",0,pd,"ZodFirstPartyTypeKind",()=>iw,"ZodFunction",0,pB,"ZodGUID",0,dP,"ZodIPv4",0,d6,"ZodIPv6",0,d3,"ZodISODate",0,dn,"ZodISODateTime",0,dr,"ZodISODuration",0,du,"ZodISOTime",0,ds,"ZodIntersection",0,c2,"ZodIssueCode",0,p4,"ZodJWT",0,cu,"ZodKSUID",0,d1,"ZodLazy",0,pD,"ZodLiteral",0,pl,"ZodMAC",0,d9,"ZodMap",0,pt,"ZodNaN",0,pT,"ZodNanoID",0,dW,"ZodNever",0,cM,"ZodNonOptional",0,px,"ZodNull",0,cZ,"ZodNullable",0,pg,"ZodNumber",0,cg,"ZodNumberFormat",0,cv,"ZodObject",0,cH,"ZodOptional",0,ph,"ZodPipe",0,pN,"ZodPrefault",0,p$,"ZodPromise",0,pM,"ZodReadonly",0,pZ,"ZodRealError",0,dm,"ZodRecord",0,c8,"ZodSet",0,pi,"ZodString",0,dE,"ZodStringFormat",0,dA,"ZodSuccess",0,pI,"ZodSymbol",0,cN,"ZodTemplateLiteral",0,pU,"ZodTransform",0,pp,"ZodTuple",0,c5,"ZodType",0,dS,"ZodULID",0,dX,"ZodURL",0,dL,"ZodUUID",0,dZ,"ZodUndefined",0,cP,"ZodUnion",0,c0,"ZodUnknown",0,cD,"ZodVoid",0,cB,"ZodXID",0,dQ,"_ZodString",0,dO,"_default",()=>pb,"_function",()=>pJ,"any",()=>cR,"array",()=>cq,"base64",()=>cn,"base64url",()=>cs,"bigint",()=>cO,"boolean",()=>cI,"catch",()=>pE,"check",()=>pV,"cidrv4",()=>ce,"cidrv6",()=>cr,"clone",()=>nE,"codec",()=>pC,"coerce",0,ms,"config",()=>i9,"core",0,mn,"cuid",()=>dq,"cuid2",()=>dH,"custom",()=>pG,"date",()=>cV,"decode",0,dy,"decodeAsync",0,d$,"describe",0,pH,"discriminatedUnion",()=>c6,"e164",()=>cl,"email",()=>dj,"emoji",()=>dJ,"encode",0,dv,"encodeAsync",0,db,"endsWith",()=>u$,"enum",()=>ps,"file",()=>pc,"flattenError",()=>n5,"float32",()=>cb,"float64",()=>c$,"formatError",()=>n3,"function",()=>pJ,"getErrorMap",()=>p2,"globalRegistry",0,lc,"gt",()=>ui,"gte",()=>un,"guid",()=>dC,"hash",()=>cf,"hex",()=>ch,"hostname",()=>cm,"httpUrl",()=>dF,"includes",()=>uy,"instanceof",()=>pY,"int",()=>cy,"int32",()=>cw,"int64",()=>cT,"intersection",()=>c9,"ipv4",()=>d2,"ipv6",()=>d8,"iso",0,ma,"json",()=>p0,"jwt",()=>cd,"keyof",()=>cK,"ksuid",()=>d4,"lazy",()=>pL,"length",()=>uf,"literal",()=>pu,"locales",0,mr,"looseObject",()=>cQ,"lowercase",()=>u_,"lt",()=>ut,"lte",()=>ur,"mac",()=>d5,"map",()=>pr,"maxLength",()=>um,"maxSize",()=>ud,"meta",0,pX,"mime",()=>ux,"minLength",()=>uh,"minSize",()=>uc,"multipleOf",()=>uu,"nan",()=>pA,"nanoid",()=>dV,"nativeEnum",()=>po,"negative",()=>us,"never",()=>cF,"nonnegative",()=>ul,"nonoptional",()=>pk,"nonpositive",()=>uo,"normalize",()=>uI,"null",()=>cz,"nullable",()=>p_,"nullish",()=>pv,"number",()=>c_,"object",()=>cX,"optional",()=>pf,"overwrite",()=>uk,"parse",0,dh,"parseAsync",0,df,"partialRecord",()=>pe,"pipe",()=>pj,"positive",()=>ua,"prefault",()=>pw,"preprocess",()=>p1,"prettifyError",()=>ae,"promise",()=>pF,"property",()=>uw,"readonly",()=>pz,"record",()=>c7,"refine",()=>pq,"regex",()=>ug,"regexes",()=>de,"registry",()=>ld,"safeDecode",0,dx,"safeDecodeAsync",0,dI,"safeEncode",0,dw,"safeEncodeAsync",0,dk,"safeParse",0,dg,"safeParseAsync",0,d_,"set",()=>pn,"setErrorMap",()=>p6,"size",()=>up,"slugify",()=>uT,"startsWith",()=>ub,"strictObject",()=>cY,"string",()=>dT,"stringFormat",()=>cp,"stringbool",0,pQ,"success",()=>pS,"superRefine",()=>pK,"symbol",()=>cj,"templateLiteral",()=>pR,"toJSONSchema",()=>u7,"toLowerCase",()=>uO,"toUpperCase",()=>uE,"transform",()=>pm,"treeifyError",()=>n8,"trim",()=>uS,"tuple",()=>c3,"uint32",()=>cx,"uint64",()=>cA,"ulid",()=>dY,"undefined",()=>cC,"union",()=>c1,"unknown",()=>cL,"uppercase",()=>uv,"url",()=>dM,"util",()=>dt,"uuid",()=>dz,"uuidv4",()=>dU,"uuidv6",()=>dR,"uuidv7",()=>dD,"void",()=>cJ,"xid",()=>d0],93428),e.i(93428);let mo=Symbol("Let zodToJsonSchema decide on which parser to use"),ml={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},mu=e=>"_def"in e?e._def:e;function md(e,t,r,i){i?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function mc(e,t,r,i,n){e[t]=r,md(e,t,i,n)}(rr=ix||(ix={})).assertEqual=e=>{},rr.assertIs=function(e){},rr.assertNever=function(e){throw Error()},rr.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},rr.getValidEnumValues=e=>{let t=rr.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let i of t)r[i]=e[i];return rr.objectValues(r)},rr.objectValues=e=>rr.objectKeys(e).map(function(t){return e[t]}),rr.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},rr.find=(e,t)=>{for(let r of e)if(t(r))return r},rr.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,rr.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},rr.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(ik||(ik={})).mergeShapes=(e,t)=>({...e,...t});let mp=ix.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mm=e=>{switch(typeof e){case"undefined":return mp.undefined;case"string":return mp.string;case"number":return Number.isNaN(e)?mp.nan:mp.number;case"boolean":return mp.boolean;case"function":return mp.function;case"bigint":return mp.bigint;case"symbol":return mp.symbol;case"object":if(Array.isArray(e))return mp.array;if(null===e)return mp.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return mp.promise;if("undefined"!=typeof Map&&e instanceof Map)return mp.map;if("undefined"!=typeof Set&&e instanceof Set)return mp.set;if("undefined"!=typeof Date&&e instanceof Date)return mp.date;return mp.object;default:return mp.unknown}};e.s(["ZodParsedType",0,mp,"getParsedType",0,mm,"objectUtil",()=>ik,"util",()=>ix],780500);let mh=ix.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),mf=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class mg extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},i=e=>{for(let n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(i);else if("invalid_return_type"===n.code)i(n.returnTypeError);else if("invalid_arguments"===n.code)i(n.argumentsError);else if(0===n.path.length)r._errors.push(t(n));else{let e=r,i=0;for(;i<n.path.length;){let r=n.path[i];i===n.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(n))):e[r]=e[r]||{_errors:[]},e=e[r],i++}}};return i(this),r}static assert(e){if(!(e instanceof mg))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ix.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t=Object.create(null),r=[];for(let i of this.issues)if(i.path.length>0){let r=i.path[0];t[r]=t[r]||[],t[r].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}mg.create=e=>new mg(e),e.s(["ZodError",()=>mg,"ZodIssueCode",0,mh,"quotelessJson",0,mf],684798);let m_=(e,t)=>{let r;switch(e.code){case mh.invalid_type:r=e.received===mp.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case mh.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ix.jsonStringifyReplacer)}`;break;case mh.unrecognized_keys:r=`Unrecognized key(s) in object: ${ix.joinValues(e.keys,", ")}`;break;case mh.invalid_union:r="Invalid input";break;case mh.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ix.joinValues(e.options)}`;break;case mh.invalid_enum_value:r=`Invalid enum value. Expected ${ix.joinValues(e.options)}, received '${e.received}'`;break;case mh.invalid_arguments:r="Invalid function arguments";break;case mh.invalid_return_type:r="Invalid function return type";break;case mh.invalid_date:r="Invalid date";break;case mh.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ix.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case mh.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case mh.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case mh.custom:r="Invalid input";break;case mh.invalid_intersection_types:r="Intersection results could not be merged";break;case mh.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case mh.not_finite:r="Number must be finite";break;default:r=t.defaultError,ix.assertNever(e)}return{message:r}},mv=m_;function my(e){mv=e}function mb(){return mv}e.s(["getErrorMap",()=>mb,"setErrorMap",()=>my],596271);let m$=e=>{let{data:t,path:r,errorMaps:i,issueData:n}=e,a=[...r,...n.path||[]],s={...n,path:a};if(void 0!==n.message)return{...n,path:a,message:n.message};let o="";for(let e of i.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...n,path:a,message:o}},mw=[];function mx(e,t){let r=mv,i=m$({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===m_?void 0:m_].filter(e=>!!e)});e.common.issues.push(i)}class mk{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let i of t){if("aborted"===i.status)return mI;"dirty"===i.status&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,i=await e.value;r.push({key:t,value:i})}return mk.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let i of t){let{key:t,value:n}=i;if("aborted"===t.status||"aborted"===n.status)return mI;"dirty"===t.status&&e.dirty(),"dirty"===n.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==n.value||i.alwaysSet)&&(r[t.value]=n.value)}return{status:e.value,value:r}}}let mI=Object.freeze({status:"aborted"}),mS=e=>({status:"dirty",value:e}),mO=e=>({status:"valid",value:e}),mE=e=>"aborted"===e.status,mT=e=>"dirty"===e.status,mA=e=>"valid"===e.status,mN=e=>"undefined"!=typeof Promise&&e instanceof Promise;e.s(["DIRTY",0,mS,"EMPTY_PATH",0,mw,"INVALID",0,mI,"OK",0,mO,"ParseStatus",()=>mk,"addIssueToContext",()=>mx,"isAborted",0,mE,"isAsync",0,mN,"isDirty",0,mT,"isValid",0,mA,"makeIssue",0,m$],615346),e.s([],698422),(ri=iI||(iI={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},ri.toString=e=>"string"==typeof e?e:e?.message;class mj{constructor(e,t,r,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let mP=(e,t)=>{if(mA(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new mg(e.common.issues);return this._error=t,this._error}}};function mC(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:i,description:n}=e;if(t&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{let{message:a}=e;return"invalid_enum_value"===t.code?{message:a??n.defaultError}:void 0===n.data?{message:a??i??n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:a??r??n.defaultError}},description:n}}class mZ{get description(){return this._def.description}_getType(e){return mm(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:mm(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mk,ctx:{common:e.parent.common,data:e.data,parsedType:mm(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(mN(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mm(e)},i=this._parseSync({data:e,path:r.path,parent:r});return mP(r,i)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mm(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return mA(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>mA(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mm(e)},i=this._parse({data:e,path:r.path,parent:r});return mP(r,await (mN(i)?i:Promise.resolve(i)))}refine(e,t){return this._refinement((r,i)=>{let n=e(r),a=()=>i.addIssue({code:mh.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&n instanceof Promise?n.then(e=>!!e||(a(),!1)):!!n||(a(),!1)})}refinement(e,t){return this._refinement((r,i)=>!!e(r)||(i.addIssue("function"==typeof t?t(r,i):t),!1))}_refinement(e){return new hy({schema:this,typeName:iS.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return hb.create(this,this._def)}nullable(){return h$.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hr.create(this)}promise(){return hv.create(this,this._def)}or(e){return hn.create([this,e],this._def)}and(e){return ho.create(this,e,this._def)}transform(e){return new hy({...mC(this._def),schema:this,typeName:iS.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new hw({...mC(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:iS.ZodDefault})}brand(){return new hS({typeName:iS.ZodBranded,type:this,...mC(this._def)})}catch(e){return new hx({...mC(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:iS.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return hO.create(this,e)}readonly(){return hE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let mz=/^c[^\s-]{8,}$/i,mU=/^[0-9a-z]+$/,mR=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mL=/^[a-z0-9_-]{21}$/i,mM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,mB=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,mJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mV=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mG=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mK=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mH="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mX=RegExp(`^${mH}$`);function mY(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function mQ(e){let t=`${mH}T${mY(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class m0 extends mZ{_parse(e){var t,r,i,n;let s;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==mp.string){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.string,received:t.parsedType}),mI}let o=new mk;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(mx(s=this._getOrReturnCtx(e,s),{code:mh.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("max"===l.kind)e.data.length>l.value&&(mx(s=this._getOrReturnCtx(e,s),{code:mh.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("length"===l.kind){let t=e.data.length>l.value,r=e.data.length<l.value;(t||r)&&(s=this._getOrReturnCtx(e,s),t?mx(s,{code:mh.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):r&&mx(s,{code:mh.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),o.dirty())}else if("email"===l.kind)mB.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{validation:"email",code:mh.invalid_string,message:l.message}),o.dirty());else if("emoji"===l.kind)a||(a=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),a.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{validation:"emoji",code:mh.invalid_string,message:l.message}),o.dirty());else if("uuid"===l.kind)mD.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{validation:"uuid",code:mh.invalid_string,message:l.message}),o.dirty());else if("nanoid"===l.kind)mL.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{validation:"nanoid",code:mh.invalid_string,message:l.message}),o.dirty());else if("cuid"===l.kind)mz.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{validation:"cuid",code:mh.invalid_string,message:l.message}),o.dirty());else if("cuid2"===l.kind)mU.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{validation:"cuid2",code:mh.invalid_string,message:l.message}),o.dirty());else if("ulid"===l.kind)mR.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{validation:"ulid",code:mh.invalid_string,message:l.message}),o.dirty());else if("url"===l.kind)try{new URL(e.data)}catch{mx(s=this._getOrReturnCtx(e,s),{validation:"url",code:mh.invalid_string,message:l.message}),o.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{validation:"regex",code:mh.invalid_string,message:l.message}),o.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(mx(s=this._getOrReturnCtx(e,s),{code:mh.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),o.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(mx(s=this._getOrReturnCtx(e,s),{code:mh.invalid_string,validation:{startsWith:l.value},message:l.message}),o.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(mx(s=this._getOrReturnCtx(e,s),{code:mh.invalid_string,validation:{endsWith:l.value},message:l.message}),o.dirty()):"datetime"===l.kind?mQ(l).test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{code:mh.invalid_string,validation:"datetime",message:l.message}),o.dirty()):"date"===l.kind?mX.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{code:mh.invalid_string,validation:"date",message:l.message}),o.dirty()):"time"===l.kind?RegExp(`^${mY(l)}$`).test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{code:mh.invalid_string,validation:"time",message:l.message}),o.dirty()):"duration"===l.kind?mF.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{validation:"duration",code:mh.invalid_string,message:l.message}),o.dirty()):"ip"===l.kind?(t=e.data,!(("v4"===(r=l.version)||!r)&&mJ.test(t)||("v6"===r||!r)&&mV.test(t))&&1&&(mx(s=this._getOrReturnCtx(e,s),{validation:"ip",code:mh.invalid_string,message:l.message}),o.dirty())):"jwt"===l.kind?!function(e,t){if(!mM.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(i));if("object"!=typeof n||null===n||"typ"in n&&n?.typ!=="JWT"||!n.alg||t&&n.alg!==t)return!1;return!0}catch{return!1}}(e.data,l.alg)&&(mx(s=this._getOrReturnCtx(e,s),{validation:"jwt",code:mh.invalid_string,message:l.message}),o.dirty()):"cidr"===l.kind?(i=e.data,!(("v4"===(n=l.version)||!n)&&mW.test(i)||("v6"===n||!n)&&mG.test(i))&&1&&(mx(s=this._getOrReturnCtx(e,s),{validation:"cidr",code:mh.invalid_string,message:l.message}),o.dirty())):"base64"===l.kind?mq.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{validation:"base64",code:mh.invalid_string,message:l.message}),o.dirty()):"base64url"===l.kind?mK.test(e.data)||(mx(s=this._getOrReturnCtx(e,s),{validation:"base64url",code:mh.invalid_string,message:l.message}),o.dirty()):ix.assertNever(l);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:mh.invalid_string,...iI.errToObj(r)})}_addCheck(e){return new m0({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...iI.errToObj(e)})}url(e){return this._addCheck({kind:"url",...iI.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...iI.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...iI.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...iI.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...iI.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...iI.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...iI.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...iI.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...iI.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...iI.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...iI.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...iI.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...iI.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...iI.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...iI.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...iI.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...iI.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...iI.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...iI.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...iI.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...iI.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...iI.errToObj(t)})}nonempty(e){return this.min(1,iI.errToObj(e))}trim(){return new m0({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new m0({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new m0({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}m0.create=e=>new m0({checks:[],typeName:iS.ZodString,coerce:e?.coerce??!1,...mC(e)});class m1 extends mZ{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==mp.number){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.number,received:t.parsedType}),mI}let r=new mk;for(let i of this._def.checks)"int"===i.kind?ix.isInteger(e.data)||(mx(t=this._getOrReturnCtx(e,t),{code:mh.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(mx(t=this._getOrReturnCtx(e,t),{code:mh.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(mx(t=this._getOrReturnCtx(e,t),{code:mh.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}(e.data,i.value)&&(mx(t=this._getOrReturnCtx(e,t),{code:mh.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(mx(t=this._getOrReturnCtx(e,t),{code:mh.not_finite,message:i.message}),r.dirty()):ix.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,iI.toString(t))}gt(e,t){return this.setLimit("min",e,!1,iI.toString(t))}lte(e,t){return this.setLimit("max",e,!0,iI.toString(t))}lt(e,t){return this.setLimit("max",e,!1,iI.toString(t))}setLimit(e,t,r,i){return new m1({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:iI.toString(i)}]})}_addCheck(e){return new m1({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:iI.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:iI.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:iI.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:iI.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:iI.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:iI.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:iI.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:iI.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:iI.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&ix.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}m1.create=e=>new m1({checks:[],typeName:iS.ZodNumber,coerce:e?.coerce||!1,...mC(e)});class m4 extends mZ{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==mp.bigint)return this._getInvalidInput(e);let r=new mk;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(mx(t=this._getOrReturnCtx(e,t),{code:mh.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(mx(t=this._getOrReturnCtx(e,t),{code:mh.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(mx(t=this._getOrReturnCtx(e,t),{code:mh.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):ix.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.bigint,received:t.parsedType}),mI}gte(e,t){return this.setLimit("min",e,!0,iI.toString(t))}gt(e,t){return this.setLimit("min",e,!1,iI.toString(t))}lte(e,t){return this.setLimit("max",e,!0,iI.toString(t))}lt(e,t){return this.setLimit("max",e,!1,iI.toString(t))}setLimit(e,t,r,i){return new m4({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:iI.toString(i)}]})}_addCheck(e){return new m4({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:iI.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:iI.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:iI.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:iI.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:iI.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}m4.create=e=>new m4({checks:[],typeName:iS.ZodBigInt,coerce:e?.coerce??!1,...mC(e)});class m6 extends mZ{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==mp.boolean){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.boolean,received:t.parsedType}),mI}return mO(e.data)}}m6.create=e=>new m6({typeName:iS.ZodBoolean,coerce:e?.coerce||!1,...mC(e)});class m2 extends mZ{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==mp.date){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.date,received:t.parsedType}),mI}if(Number.isNaN(e.data.getTime()))return mx(this._getOrReturnCtx(e),{code:mh.invalid_date}),mI;let r=new mk;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(mx(t=this._getOrReturnCtx(e,t),{code:mh.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(mx(t=this._getOrReturnCtx(e,t),{code:mh.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ix.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new m2({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:iI.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:iI.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}m2.create=e=>new m2({checks:[],coerce:e?.coerce||!1,typeName:iS.ZodDate,...mC(e)});class m9 extends mZ{_parse(e){if(this._getType(e)!==mp.symbol){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.symbol,received:t.parsedType}),mI}return mO(e.data)}}m9.create=e=>new m9({typeName:iS.ZodSymbol,...mC(e)});class m5 extends mZ{_parse(e){if(this._getType(e)!==mp.undefined){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.undefined,received:t.parsedType}),mI}return mO(e.data)}}m5.create=e=>new m5({typeName:iS.ZodUndefined,...mC(e)});class m3 extends mZ{_parse(e){if(this._getType(e)!==mp.null){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.null,received:t.parsedType}),mI}return mO(e.data)}}m3.create=e=>new m3({typeName:iS.ZodNull,...mC(e)});class m8 extends mZ{constructor(){super(...arguments),this._any=!0}_parse(e){return mO(e.data)}}m8.create=e=>new m8({typeName:iS.ZodAny,...mC(e)});class m7 extends mZ{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mO(e.data)}}m7.create=e=>new m7({typeName:iS.ZodUnknown,...mC(e)});class he extends mZ{_parse(e){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.never,received:t.parsedType}),mI}}he.create=e=>new he({typeName:iS.ZodNever,...mC(e)});class ht extends mZ{_parse(e){if(this._getType(e)!==mp.undefined){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.void,received:t.parsedType}),mI}return mO(e.data)}}ht.create=e=>new ht({typeName:iS.ZodVoid,...mC(e)});class hr extends mZ{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),i=this._def;if(t.parsedType!==mp.array)return mx(t,{code:mh.invalid_type,expected:mp.array,received:t.parsedType}),mI;if(null!==i.exactLength){let e=t.data.length>i.exactLength.value,n=t.data.length<i.exactLength.value;(e||n)&&(mx(t,{code:e?mh.too_big:mh.too_small,minimum:n?i.exactLength.value:void 0,maximum:e?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&t.data.length<i.minLength.value&&(mx(t,{code:mh.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&t.data.length>i.maxLength.value&&(mx(t,{code:mh.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>i.type._parseAsync(new mj(t,e,t.path,r)))).then(e=>mk.mergeArray(r,e));let n=[...t.data].map((e,r)=>i.type._parseSync(new mj(t,e,t.path,r)));return mk.mergeArray(r,n)}get element(){return this._def.type}min(e,t){return new hr({...this._def,minLength:{value:e,message:iI.toString(t)}})}max(e,t){return new hr({...this._def,maxLength:{value:e,message:iI.toString(t)}})}length(e,t){return new hr({...this._def,exactLength:{value:e,message:iI.toString(t)}})}nonempty(e){return this.min(1,e)}}hr.create=(e,t)=>new hr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:iS.ZodArray,...mC(t)});class hi extends mZ{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=ix.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==mp.object){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.object,received:t.parsedType}),mI}let{status:t,ctx:r}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),a=[];if(!(this._def.catchall instanceof he&&"strip"===this._def.unknownKeys))for(let e in r.data)n.includes(e)||a.push(e);let s=[];for(let e of n){let t=i[e],n=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new mj(r,n,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof he){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(mx(r,{code:mh.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let i=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new mj(r,i,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,i=await t.value;e.push({key:r,value:i,alwaysSet:t.alwaysSet})}return e}).then(e=>mk.mergeObjectSync(t,e)):mk.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return iI.errToObj,new hi({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let i=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:iI.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new hi({...this._def,unknownKeys:"strip"})}passthrough(){return new hi({...this._def,unknownKeys:"passthrough"})}extend(e){return new hi({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new hi({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:iS.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new hi({...this._def,catchall:e})}pick(e){let t={};for(let r of ix.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new hi({...this._def,shape:()=>t})}omit(e){let t={};for(let r of ix.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new hi({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof hi){let r={};for(let i in t.shape){let n=t.shape[i];r[i]=hb.create(e(n))}return new hi({...t._def,shape:()=>r})}if(t instanceof hr)return new hr({...t._def,type:e(t.element)});if(t instanceof hb)return hb.create(e(t.unwrap()));if(t instanceof h$)return h$.create(e(t.unwrap()));if(t instanceof hl)return hl.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of ix.objectKeys(this.shape)){let i=this.shape[r];e&&!e[r]?t[r]=i:t[r]=i.optional()}return new hi({...this._def,shape:()=>t})}required(e){let t={};for(let r of ix.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof hb;)e=e._def.innerType;t[r]=e}return new hi({...this._def,shape:()=>t})}keyof(){return hf(ix.objectKeys(this.shape))}}hi.create=(e,t)=>new hi({shape:()=>e,unknownKeys:"strip",catchall:he.create(),typeName:iS.ZodObject,...mC(t)}),hi.strictCreate=(e,t)=>new hi({shape:()=>e,unknownKeys:"strict",catchall:he.create(),typeName:iS.ZodObject,...mC(t)}),hi.lazycreate=(e,t)=>new hi({shape:e,unknownKeys:"strip",catchall:he.create(),typeName:iS.ZodObject,...mC(t)});class hn extends mZ{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new mg(e.ctx.common.issues));return mx(t,{code:mh.invalid_union,unionErrors:r}),mI});{let e,i=[];for(let n of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=n._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let n=i.map(e=>new mg(e));return mx(t,{code:mh.invalid_union,unionErrors:n}),mI}}get options(){return this._def.options}}hn.create=(e,t)=>new hn({options:e,typeName:iS.ZodUnion,...mC(t)});let ha=e=>{if(e instanceof hm)return ha(e.schema);if(e instanceof hy)return ha(e.innerType());if(e instanceof hh)return[e.value];if(e instanceof hg)return e.options;if(e instanceof h_)return ix.objectValues(e.enum);else if(e instanceof hw)return ha(e._def.innerType);else if(e instanceof m5)return[void 0];else if(e instanceof m3)return[null];else if(e instanceof hb)return[void 0,...ha(e.unwrap())];else if(e instanceof h$)return[null,...ha(e.unwrap())];else if(e instanceof hS)return ha(e.unwrap());else if(e instanceof hE)return ha(e.unwrap());else if(e instanceof hx)return ha(e._def.innerType);else return[]};class hs extends mZ{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==mp.object)return mx(t,{code:mh.invalid_type,expected:mp.object,received:t.parsedType}),mI;let r=this.discriminator,i=t.data[r],n=this.optionsMap.get(i);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):(mx(t,{code:mh.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),mI)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let i=new Map;for(let r of t){let t=ha(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of t){if(i.has(n))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);i.set(n,r)}}return new hs({typeName:iS.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...mC(r)})}}class ho extends mZ{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(mE(e)||mE(i))return mI;let n=function e(t,r){let i=mm(t),n=mm(r);if(t===r)return{valid:!0,data:t};if(i===mp.object&&n===mp.object){let i=ix.objectKeys(r),n=ix.objectKeys(t).filter(e=>-1!==i.indexOf(e)),a={...t,...r};for(let i of n){let n=e(t[i],r[i]);if(!n.valid)return{valid:!1};a[i]=n.data}return{valid:!0,data:a}}if(i===mp.array&&n===mp.array){if(t.length!==r.length)return{valid:!1};let i=[];for(let n=0;n<t.length;n++){let a=e(t[n],r[n]);if(!a.valid)return{valid:!1};i.push(a.data)}return{valid:!0,data:i}}if(i===mp.date&&n===mp.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,i.value);return n.valid?((mT(e)||mT(i))&&t.dirty(),{status:t.value,value:n.data}):(mx(r,{code:mh.invalid_intersection_types}),mI)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ho.create=(e,t,r)=>new ho({left:e,right:t,typeName:iS.ZodIntersection,...mC(r)});class hl extends mZ{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==mp.array)return mx(r,{code:mh.invalid_type,expected:mp.array,received:r.parsedType}),mI;if(r.data.length<this._def.items.length)return mx(r,{code:mh.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),mI;!this._def.rest&&r.data.length>this._def.items.length&&(mx(r,{code:mh.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...r.data].map((e,t)=>{let i=this._def.items[t]||this._def.rest;return i?i._parse(new mj(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(i).then(e=>mk.mergeArray(t,e)):mk.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new hl({...this._def,rest:e})}}hl.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new hl({items:e,typeName:iS.ZodTuple,rest:null,...mC(t)})};class hu extends mZ{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==mp.object)return mx(r,{code:mh.invalid_type,expected:mp.object,received:r.parsedType}),mI;let i=[],n=this._def.keyType,a=this._def.valueType;for(let e in r.data)i.push({key:n._parse(new mj(r,e,r.path,e)),value:a._parse(new mj(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?mk.mergeObjectAsync(t,i):mk.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,r){return new hu(t instanceof mZ?{keyType:e,valueType:t,typeName:iS.ZodRecord,...mC(r)}:{keyType:m0.create(),valueType:e,typeName:iS.ZodRecord,...mC(t)})}}class hd extends mZ{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==mp.map)return mx(r,{code:mh.invalid_type,expected:mp.map,received:r.parsedType}),mI;let i=this._def.keyType,n=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:i._parse(new mj(r,e,r.path,[a,"key"])),value:n._parse(new mj(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let i=await r.key,n=await r.value;if("aborted"===i.status||"aborted"===n.status)return mI;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let i=r.key,n=r.value;if("aborted"===i.status||"aborted"===n.status)return mI;("dirty"===i.status||"dirty"===n.status)&&t.dirty(),e.set(i.value,n.value)}return{status:t.value,value:e}}}}hd.create=(e,t,r)=>new hd({valueType:t,keyType:e,typeName:iS.ZodMap,...mC(r)});class hc extends mZ{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==mp.set)return mx(r,{code:mh.invalid_type,expected:mp.set,received:r.parsedType}),mI;let i=this._def;null!==i.minSize&&r.data.size<i.minSize.value&&(mx(r,{code:mh.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(mx(r,{code:mh.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let n=this._def.valueType;function a(e){let r=new Set;for(let i of e){if("aborted"===i.status)return mI;"dirty"===i.status&&t.dirty(),r.add(i.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>n._parse(new mj(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new hc({...this._def,minSize:{value:e,message:iI.toString(t)}})}max(e,t){return new hc({...this._def,maxSize:{value:e,message:iI.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}hc.create=(e,t)=>new hc({valueType:e,minSize:null,maxSize:null,typeName:iS.ZodSet,...mC(t)});class hp extends mZ{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==mp.function)return mx(t,{code:mh.invalid_type,expected:mp.function,received:t.parsedType}),mI;function r(e,r){return m$({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,mv,m_].filter(e=>!!e),issueData:{code:mh.invalid_arguments,argumentsError:r}})}function i(e,r){return m$({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,mv,m_].filter(e=>!!e),issueData:{code:mh.invalid_return_type,returnTypeError:r}})}let n={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof hv){let e=this;return mO(async function(...t){let s=new mg([]),o=await e._def.args.parseAsync(t,n).catch(e=>{throw s.addIssue(r(t,e)),s}),l=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(l,n).catch(e=>{throw s.addIssue(i(l,e)),s})})}{let e=this;return mO(function(...t){let s=e._def.args.safeParse(t,n);if(!s.success)throw new mg([r(t,s.error)]);let o=Reflect.apply(a,this,s.data),l=e._def.returns.safeParse(o,n);if(!l.success)throw new mg([i(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new hp({...this._def,args:hl.create(e).rest(m7.create())})}returns(e){return new hp({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new hp({args:e||hl.create([]).rest(m7.create()),returns:t||m7.create(),typeName:iS.ZodFunction,...mC(r)})}}class hm extends mZ{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}hm.create=(e,t)=>new hm({getter:e,typeName:iS.ZodLazy,...mC(t)});class hh extends mZ{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return mx(t,{received:t.data,code:mh.invalid_literal,expected:this._def.value}),mI}return{status:"valid",value:e.data}}get value(){return this._def.value}}function hf(e,t){return new hg({values:e,typeName:iS.ZodEnum,...mC(t)})}hh.create=(e,t)=>new hh({value:e,typeName:iS.ZodLiteral,...mC(t)});class hg extends mZ{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return mx(t,{expected:ix.joinValues(r),received:t.parsedType,code:mh.invalid_type}),mI}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return mx(t,{received:t.data,code:mh.invalid_enum_value,options:r}),mI}return mO(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return hg.create(e,{...this._def,...t})}exclude(e,t=this._def){return hg.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}hg.create=hf;class h_ extends mZ{_parse(e){let t=ix.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==mp.string&&r.parsedType!==mp.number){let e=ix.objectValues(t);return mx(r,{expected:ix.joinValues(e),received:r.parsedType,code:mh.invalid_type}),mI}if(this._cache||(this._cache=new Set(ix.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=ix.objectValues(t);return mx(r,{received:r.data,code:mh.invalid_enum_value,options:e}),mI}return mO(e.data)}get enum(){return this._def.values}}h_.create=(e,t)=>new h_({values:e,typeName:iS.ZodNativeEnum,...mC(t)});class hv extends mZ{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==mp.promise&&!1===t.common.async?(mx(t,{code:mh.invalid_type,expected:mp.promise,received:t.parsedType}),mI):mO((t.parsedType===mp.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}hv.create=(e,t)=>new hv({type:e,typeName:iS.ZodPromise,...mC(t)});class hy extends mZ{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===iS.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,n={addIssue:e=>{mx(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===i.type){let e=i.transform(r.data,n);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return mI;let i=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===i.status?mI:"dirty"===i.status||"dirty"===t.value?mS(i.value):i});{if("aborted"===t.value)return mI;let i=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===i.status?mI:"dirty"===i.status||"dirty"===t.value?mS(i.value):i}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,n);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?mI:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===i.status?mI:("dirty"===i.status&&t.dirty(),e(i.value),{status:t.value,value:i.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>mA(e)?Promise.resolve(i.transform(e.value,n)).then(e=>({status:t.value,value:e})):mI);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!mA(e))return mI;let a=i.transform(e.value,n);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}ix.assertNever(i)}}hy.create=(e,t,r)=>new hy({schema:e,typeName:iS.ZodEffects,effect:t,...mC(r)}),hy.createWithPreprocess=(e,t,r)=>new hy({schema:t,effect:{type:"preprocess",transform:e},typeName:iS.ZodEffects,...mC(r)});class hb extends mZ{_parse(e){return this._getType(e)===mp.undefined?mO(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}hb.create=(e,t)=>new hb({innerType:e,typeName:iS.ZodOptional,...mC(t)});class h$ extends mZ{_parse(e){return this._getType(e)===mp.null?mO(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}h$.create=(e,t)=>new h$({innerType:e,typeName:iS.ZodNullable,...mC(t)});class hw extends mZ{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===mp.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}hw.create=(e,t)=>new hw({innerType:e,typeName:iS.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...mC(t)});class hx extends mZ{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return mN(i)?i.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new mg(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===i.status?i.value:this._def.catchValue({get error(){return new mg(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hx.create=(e,t)=>new hx({innerType:e,typeName:iS.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...mC(t)});class hk extends mZ{_parse(e){if(this._getType(e)!==mp.nan){let t=this._getOrReturnCtx(e);return mx(t,{code:mh.invalid_type,expected:mp.nan,received:t.parsedType}),mI}return{status:"valid",value:e.data}}}hk.create=e=>new hk({typeName:iS.ZodNaN,...mC(e)});let hI=Symbol("zod_brand");class hS extends mZ{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class hO extends mZ{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?mI:"dirty"===e.status?(t.dirty(),mS(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?mI:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new hO({in:e,out:t,typeName:iS.ZodPipeline})}}class hE extends mZ{_parse(e){let t=this._def.innerType._parse(e),r=e=>(mA(e)&&(e.value=Object.freeze(e.value)),e);return mN(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function hT(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function hA(e,t={},r){return e?m8.create().superRefine((i,n)=>{let a=e(i);if(a instanceof Promise)return a.then(e=>{if(!e){let e=hT(t,i),a=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:a})}});if(!a){let e=hT(t,i),a=e.fatal??r??!0;n.addIssue({code:"custom",...e,fatal:a})}}):m8.create()}hE.create=(e,t)=>new hE({innerType:e,typeName:iS.ZodReadonly,...mC(t)});let hN={object:hi.lazycreate};(rn=iS||(iS={})).ZodString="ZodString",rn.ZodNumber="ZodNumber",rn.ZodNaN="ZodNaN",rn.ZodBigInt="ZodBigInt",rn.ZodBoolean="ZodBoolean",rn.ZodDate="ZodDate",rn.ZodSymbol="ZodSymbol",rn.ZodUndefined="ZodUndefined",rn.ZodNull="ZodNull",rn.ZodAny="ZodAny",rn.ZodUnknown="ZodUnknown",rn.ZodNever="ZodNever",rn.ZodVoid="ZodVoid",rn.ZodArray="ZodArray",rn.ZodObject="ZodObject",rn.ZodUnion="ZodUnion",rn.ZodDiscriminatedUnion="ZodDiscriminatedUnion",rn.ZodIntersection="ZodIntersection",rn.ZodTuple="ZodTuple",rn.ZodRecord="ZodRecord",rn.ZodMap="ZodMap",rn.ZodSet="ZodSet",rn.ZodFunction="ZodFunction",rn.ZodLazy="ZodLazy",rn.ZodLiteral="ZodLiteral",rn.ZodEnum="ZodEnum",rn.ZodEffects="ZodEffects",rn.ZodNativeEnum="ZodNativeEnum",rn.ZodOptional="ZodOptional",rn.ZodNullable="ZodNullable",rn.ZodDefault="ZodDefault",rn.ZodCatch="ZodCatch",rn.ZodPromise="ZodPromise",rn.ZodBranded="ZodBranded",rn.ZodPipeline="ZodPipeline",rn.ZodReadonly="ZodReadonly";let hj=(e,t={message:`Input not instance of ${e.name}`})=>hA(t=>t instanceof e,t),hP=m0.create,hC=m1.create,hZ=hk.create,hz=m4.create,hU=m6.create,hR=m2.create,hD=m9.create,hL=m5.create,hM=m3.create,hF=m8.create,hB=m7.create,hJ=he.create,hW=ht.create,hV=hr.create,hG=hi.create,hq=hi.strictCreate,hK=hn.create,hH=hs.create,hX=ho.create,hY=hl.create,hQ=hu.create,h0=hd.create,h1=hc.create,h4=hp.create,h6=hm.create,h2=hh.create,h9=hg.create,h5=h_.create,h3=hv.create,h8=hy.create,h7=hb.create,fe=h$.create,ft=hy.createWithPreprocess,fr=hO.create,fi=()=>hP().optional(),fn=()=>hC().optional(),fa=()=>hU().optional(),fs={string:e=>m0.create({...e,coerce:!0}),number:e=>m1.create({...e,coerce:!0}),boolean:e=>m6.create({...e,coerce:!0}),bigint:e=>m4.create({...e,coerce:!0}),date:e=>m2.create({...e,coerce:!0})};e.s(["BRAND",0,hI,"NEVER",0,mI,"Schema",()=>mZ,"ZodAny",()=>m8,"ZodArray",()=>hr,"ZodBigInt",()=>m4,"ZodBoolean",()=>m6,"ZodBranded",()=>hS,"ZodCatch",()=>hx,"ZodDate",()=>m2,"ZodDefault",()=>hw,"ZodDiscriminatedUnion",()=>hs,"ZodEffects",()=>hy,"ZodEnum",()=>hg,"ZodFirstPartyTypeKind",()=>iS,"ZodFunction",()=>hp,"ZodIntersection",()=>ho,"ZodLazy",()=>hm,"ZodLiteral",()=>hh,"ZodMap",()=>hd,"ZodNaN",()=>hk,"ZodNativeEnum",()=>h_,"ZodNever",()=>he,"ZodNull",()=>m3,"ZodNullable",()=>h$,"ZodNumber",()=>m1,"ZodObject",()=>hi,"ZodOptional",()=>hb,"ZodPipeline",()=>hO,"ZodPromise",()=>hv,"ZodReadonly",()=>hE,"ZodRecord",()=>hu,"ZodSchema",()=>mZ,"ZodSet",()=>hc,"ZodString",()=>m0,"ZodSymbol",()=>m9,"ZodTransformer",()=>hy,"ZodTuple",()=>hl,"ZodType",()=>mZ,"ZodUndefined",()=>m5,"ZodUnion",()=>hn,"ZodUnknown",()=>m7,"ZodVoid",()=>ht,"any",()=>hF,"array",()=>hV,"bigint",()=>hz,"boolean",()=>hU,"coerce",0,fs,"custom",()=>hA,"date",()=>hR,"datetimeRegex",()=>mQ,"discriminatedUnion",()=>hH,"effect",()=>h8,"enum",()=>h9,"function",()=>h4,"instanceof",()=>hj,"intersection",()=>hX,"late",0,hN,"lazy",()=>h6,"literal",()=>h2,"map",()=>h0,"nan",()=>hZ,"nativeEnum",()=>h5,"never",()=>hJ,"null",()=>hM,"nullable",()=>fe,"number",()=>hC,"object",()=>hG,"oboolean",()=>fa,"onumber",()=>fn,"optional",()=>h7,"ostring",()=>fi,"pipeline",()=>fr,"preprocess",()=>ft,"promise",()=>h3,"record",()=>hQ,"set",()=>h1,"strictObject",()=>hq,"string",()=>hP,"symbol",()=>hD,"transformer",()=>h8,"tuple",()=>hY,"undefined",()=>hL,"union",()=>hK,"unknown",()=>hB,"void",()=>hW],66573),e.s([],781973),e.i(781973),e.i(596271),e.s(["defaultErrorMap",0,m_,"getErrorMap",()=>mb,"setErrorMap",()=>my],176827),e.i(176827),e.i(615346),e.i(698422),e.i(780500),e.i(66573),e.i(684798),e.s(["BRAND",0,hI,"DIRTY",0,mS,"EMPTY_PATH",0,mw,"INVALID",0,mI,"NEVER",0,mI,"OK",0,mO,"ParseStatus",()=>mk,"Schema",()=>mZ,"ZodAny",()=>m8,"ZodArray",()=>hr,"ZodBigInt",()=>m4,"ZodBoolean",()=>m6,"ZodBranded",()=>hS,"ZodCatch",()=>hx,"ZodDate",()=>m2,"ZodDefault",()=>hw,"ZodDiscriminatedUnion",()=>hs,"ZodEffects",()=>hy,"ZodEnum",()=>hg,"ZodError",()=>mg,"ZodFirstPartyTypeKind",()=>iS,"ZodFunction",()=>hp,"ZodIntersection",()=>ho,"ZodIssueCode",0,mh,"ZodLazy",()=>hm,"ZodLiteral",()=>hh,"ZodMap",()=>hd,"ZodNaN",()=>hk,"ZodNativeEnum",()=>h_,"ZodNever",()=>he,"ZodNull",()=>m3,"ZodNullable",()=>h$,"ZodNumber",()=>m1,"ZodObject",()=>hi,"ZodOptional",()=>hb,"ZodParsedType",0,mp,"ZodPipeline",()=>hO,"ZodPromise",()=>hv,"ZodReadonly",()=>hE,"ZodRecord",()=>hu,"ZodSchema",()=>mZ,"ZodSet",()=>hc,"ZodString",()=>m0,"ZodSymbol",()=>m9,"ZodTransformer",()=>hy,"ZodTuple",()=>hl,"ZodType",()=>mZ,"ZodUndefined",()=>m5,"ZodUnion",()=>hn,"ZodUnknown",()=>m7,"ZodVoid",()=>ht,"addIssueToContext",()=>mx,"any",()=>hF,"array",()=>hV,"bigint",()=>hz,"boolean",()=>hU,"coerce",0,fs,"custom",()=>hA,"date",()=>hR,"datetimeRegex",()=>mQ,"defaultErrorMap",0,m_,"discriminatedUnion",()=>hH,"effect",()=>h8,"enum",()=>h9,"function",()=>h4,"getErrorMap",()=>mb,"getParsedType",0,mm,"instanceof",()=>hj,"intersection",()=>hX,"isAborted",0,mE,"isAsync",0,mN,"isDirty",0,mT,"isValid",0,mA,"late",0,hN,"lazy",()=>h6,"literal",()=>h2,"makeIssue",0,m$,"map",()=>h0,"nan",()=>hZ,"nativeEnum",()=>h5,"never",()=>hJ,"null",()=>hM,"nullable",()=>fe,"number",()=>hC,"object",()=>hG,"objectUtil",()=>ik,"oboolean",()=>fa,"onumber",()=>fn,"optional",()=>h7,"ostring",()=>fi,"pipeline",()=>fr,"preprocess",()=>ft,"promise",()=>h3,"quotelessJson",0,mf,"record",()=>hQ,"set",()=>h1,"setErrorMap",()=>my,"strictObject",()=>hq,"string",()=>hP,"symbol",()=>hD,"transformer",()=>h8,"tuple",()=>hY,"undefined",()=>hL,"union",()=>hK,"unknown",()=>hB,"util",()=>ix,"void",()=>hW],697153),e.i(697153);let fo=/^[cC][^\s-]{8,}$/,fl=/^[0-9a-z]+$/,fu=/^[0-9A-HJKMNP-TV-Z]{26}$/,fd=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,fc=()=>(void 0===s&&(s=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),s),fp=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fm=/^[a-zA-Z0-9_-]{21}$/;function fh(e,t){let r={type:"string"};function i(e){return"escape"===t.patternStrategy?ff(e):e}if(e.checks)for(let n of e.checks)switch(n.kind){case"min":mc(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":mc(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":fg(r,"email",n.message,t);break;case"format:idn-email":fg(r,"idn-email",n.message,t);break;case"pattern:zod":f_(r,fd,n.message,t)}break;case"url":fg(r,"uri",n.message,t);break;case"uuid":fg(r,"uuid",n.message,t);break;case"regex":f_(r,n.regex,n.message,t);break;case"cuid":f_(r,fo,n.message,t);break;case"cuid2":f_(r,fl,n.message,t);break;case"startsWith":f_(r,RegExp(`^${i(n.value)}`),n.message,t);break;case"endsWith":f_(r,RegExp(`${i(n.value)}$`),n.message,t);break;case"datetime":fg(r,"date-time",n.message,t);break;case"date":fg(r,"date",n.message,t);break;case"time":fg(r,"time",n.message,t);break;case"duration":fg(r,"duration",n.message,t);break;case"length":mc(r,"minLength","number"==typeof r.minLength?Math.max(r.minLength,n.value):n.value,n.message,t),mc(r,"maxLength","number"==typeof r.maxLength?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":f_(r,RegExp(i(n.value)),n.message,t);break;case"ip":"v6"!==n.version&&fg(r,"ipv4",n.message,t),"v4"!==n.version&&fg(r,"ipv6",n.message,t);break;case"emoji":f_(r,fc,n.message,t);break;case"ulid":f_(r,fu,n.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":fg(r,"binary",n.message,t);break;case"contentEncoding:base64":mc(r,"contentEncoding","base64",n.message,t);break;case"pattern:zod":f_(r,fp,n.message,t)}break;case"nanoid":f_(r,fm,n.message,t)}return r}let ff=e=>Array.from(e).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),fg=(e,t,r,i)=>{e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&i.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&i.errorMessages&&{errorMessage:{format:r}}})):mc(e,"format",t,r,i)},f_=(e,t,r,i)=>{e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&i.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:fv(t,i),...r&&i.errorMessages&&{errorMessage:{pattern:r}}})):mc(e,"pattern",fv(t,i),r,i)},fv=(e,t)=>{let r="function"==typeof e?e():e;if(!t.applyRegexFlags||!r.flags)return r.source;let i={i:r.flags.includes("i"),m:r.flags.includes("m"),s:r.flags.includes("s")},n=i.i?r.source.toLowerCase():r.source,a="",s=!1,o=!1,l=!1;for(let e=0;e<n.length;e++){if(s){a+=n[e],s=!1;continue}if(i.i){if(o){if(n[e].match(/[a-z]/)){l?(a+=n[e],a+=`${n[e-2]}-${n[e]}`.toUpperCase(),l=!1):"-"===n[e+1]&&n[e+2]?.match(/[a-z]/)?(a+=n[e],l=!0):a+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){a+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(i.m){if("^"===n[e]){a+=`(^|(?<=[\r
]))`;continue}else if("$"===n[e]){a+=`($|(?=[\r
]))`;continue}}if(i.s&&"."===n[e]){a+=o?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}a+=n[e],"\\"===n[e]?s=!0:o&&"]"===n[e]?o=!1:o||"["!==n[e]||(o=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),r.source}return a};function fy(e,t){if("openApi3"===t.target&&e.keyType?._def.typeName===iS.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,i)=>({...r,[i]:fw(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",i]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:fw(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===iS.ZodString&&e.keyType._def.checks?.length){let i=Object.entries(fh(e.keyType._def,t)).reduce((e,[t,r])=>"type"===t?e:{...e,[t]:r},{});return{...r,propertyNames:i}}return e.keyType?._def.typeName===iS.ZodEnum?{...r,propertyNames:{enum:e.keyType._def.values}}:r}let fb={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},f$=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>fw(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0};function fw(e,t,r=!1){let i=t.seen.get(e);if(t.override){let n=t.override?.(e,t,i,r);if(n!==mo)return n}if(i&&!r){let e=fx(i,t);if(void 0!==e)return"$ref"in e&&t.seenRefs.add(e.$ref),e}let n={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,n);let a=fI(e,e.typeName,t,r);return a&&fS(e,t,a),n.jsonSchema=a,a}let fx=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"extract-to-root":let r=e.path.slice(t.basePath.length+1).join("_");return r!==t.name&&"duplicate-ref"===t.nameStrategy&&(t.definitions[r]=e.def),{$ref:[...t.basePath,t.definitionPath,r].join("/")};case"relative":return{$ref:fk(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},fk=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},fI=(e,t,r,i)=>{switch(t){case iS.ZodString:return fh(e,r);case iS.ZodNumber:let n={type:"number"};if(!e.checks)return n;for(let t of e.checks)switch(t.kind){case"int":n.type="integer",md(n,"type",t.message,r);break;case"min":"jsonSchema7"===r.target?t.inclusive?mc(n,"minimum",t.value,t.message,r):mc(n,"exclusiveMinimum",t.value,t.message,r):(t.inclusive||(n.exclusiveMinimum=!0),mc(n,"minimum",t.value,t.message,r));break;case"max":"jsonSchema7"===r.target?t.inclusive?mc(n,"maximum",t.value,t.message,r):mc(n,"exclusiveMaximum",t.value,t.message,r):(t.inclusive||(n.exclusiveMaximum=!0),mc(n,"maximum",t.value,t.message,r));break;case"multipleOf":mc(n,"multipleOf",t.value,t.message,r)}return n;case iS.ZodObject:let a;return(a={type:"object",...Object.entries(e.shape()).reduce((e,[t,i])=>{if(void 0===i||void 0===i._def)return e;let n=[...r.currentPath,"properties",t],a=fw(i._def,{...r,currentPath:n,propertyPath:n});if(void 0===a)return e;if(r.openaiStrictMode&&i.isOptional()&&!i.isNullable()&&void 0===i._def?.defaultValue)throw Error(`Zod field at \`${n.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);return{properties:{...e.properties,[t]:a},required:i.isOptional()&&!r.openaiStrictMode?e.required:[...e.required,t]}},{properties:{},required:[]}),additionalProperties:"strict"===r.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:fw(e.catchall._def,{...r,currentPath:[...r.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:fw(e.catchall._def,{...r,currentPath:[...r.currentPath,"additionalProperties"]})??!0}).required.length||delete a.required,a;case iS.ZodBigInt:let s={type:"integer",format:"int64"};if(!e.checks)return s;for(let t of e.checks)switch(t.kind){case"min":"jsonSchema7"===r.target?t.inclusive?mc(s,"minimum",t.value,t.message,r):mc(s,"exclusiveMinimum",t.value,t.message,r):(t.inclusive||(s.exclusiveMinimum=!0),mc(s,"minimum",t.value,t.message,r));break;case"max":"jsonSchema7"===r.target?t.inclusive?mc(s,"maximum",t.value,t.message,r):mc(s,"exclusiveMaximum",t.value,t.message,r):(t.inclusive||(s.exclusiveMaximum=!0),mc(s,"maximum",t.value,t.message,r));break;case"multipleOf":mc(s,"multipleOf",t.value,t.message,r)}return s;case iS.ZodBoolean:return{type:"boolean"};case iS.ZodDate:return function e(t,r,i){let n=i??r.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((i,n)=>e(t,r,i))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var a=t,s=r;let o={type:"integer",format:"unix-time"};if("openApi3"===s.target)return o;for(let e of a.checks)switch(e.kind){case"min":mc(o,"minimum",e.value,e.message,s);break;case"max":mc(o,"maximum",e.value,e.message,s)}return o}}(e,r);case iS.ZodUndefined:return{not:{}};case iS.ZodNull:return"openApi3"===r.target?{enum:["null"],nullable:!0}:{type:"null"};case iS.ZodArray:let o;return o={type:"array"},e.type?._def?.typeName!==iS.ZodAny&&(o.items=fw(e.type._def,{...r,currentPath:[...r.currentPath,"items"]})),e.minLength&&mc(o,"minItems",e.minLength.value,e.minLength.message,r),e.maxLength&&mc(o,"maxItems",e.maxLength.value,e.maxLength.message,r),e.exactLength&&(mc(o,"minItems",e.exactLength.value,e.exactLength.message,r),mc(o,"maxItems",e.exactLength.value,e.exactLength.message,r)),o;case iS.ZodUnion:case iS.ZodDiscriminatedUnion:if("openApi3"===r.target)return f$(e,r);let l=e.options instanceof Map?Array.from(e.options.values()):e.options;if(l.every(e=>e._def.typeName in fb&&(!e._def.checks||!e._def.checks.length))){let e=l.reduce((e,t)=>{let r=fb[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(l.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=l.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===l.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:l.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(l.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:l.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return f$(e,r);case iS.ZodIntersection:let u,d,c;return u=[fw(e.left._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),fw(e.right._def,{...r,currentPath:[...r.currentPath,"allOf","1"]})].filter(e=>!!e),d="jsonSchema2019-09"===r.target?{unevaluatedProperties:!1}:void 0,c=[],u.forEach(e=>{if((!("type"in e)||"string"!==e.type)&&"allOf"in e)c.push(...e.allOf),void 0===e.unevaluatedProperties&&(d=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...i}=e;t=i}else d=void 0;c.push(t)}}),c.length?{allOf:c,...d}:void 0;case iS.ZodTuple:return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,t)=>fw(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:fw(e.rest._def,{...r,currentPath:[...r.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,t)=>fw(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])};case iS.ZodRecord:return fy(e,r);case iS.ZodLiteral:let p;return"bigint"!=(p=typeof e.value)&&"number"!==p&&"boolean"!==p&&"string"!==p?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===r.target?{type:"bigint"===p?"integer":p,enum:[e.value]}:{type:"bigint"===p?"integer":p,const:e.value};case iS.ZodEnum:return{type:"string",enum:[...e.values]};case iS.ZodNativeEnum:let m,h,f;return m=e.values,{type:1===(f=Array.from(new Set((h=Object.keys(e.values).filter(e=>"number"!=typeof m[m[e]]).map(e=>m[e])).map(e=>typeof e)))).length?"string"===f[0]?"string":"number":["string","number"],enum:h};case iS.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===r.target||"property"===r.nullableStrategy?{type:fb[e.innerType._def.typeName],nullable:!0}:{type:[fb[e.innerType._def.typeName],"null"]};if("openApi3"===r.target){let t=fw(e.innerType._def,{...r,currentPath:[...r.currentPath]});return t&&"$ref"in t?{allOf:[t],nullable:!0}:t&&{...t,nullable:!0}}let g=fw(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","0"]});return g&&{anyOf:[g,{type:"null"}]};case iS.ZodOptional:if(r.propertyPath&&r.currentPath.slice(0,r.propertyPath.length).toString()===r.propertyPath.toString())return fw(e.innerType._def,{...r,currentPath:r.currentPath});let _=fw(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","1"]});return _?{anyOf:[{not:{}},_]}:{};case iS.ZodMap:if("record"===r.mapStrategy)return fy(e,r);return{type:"array",maxItems:125,items:{type:"array",items:[fw(e.keyType._def,{...r,currentPath:[...r.currentPath,"items","items","0"]})||{},fw(e.valueType._def,{...r,currentPath:[...r.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case iS.ZodSet:let v;return v={type:"array",uniqueItems:!0,items:fw(e.valueType._def,{...r,currentPath:[...r.currentPath,"items"]})},e.minSize&&mc(v,"minItems",e.minSize.value,e.minSize.message,r),e.maxSize&&mc(v,"maxItems",e.maxSize.value,e.maxSize.message,r),v;case iS.ZodLazy:return fw(e.getter()._def,r);case iS.ZodPromise:return fw(e.type._def,r);case iS.ZodNaN:case iS.ZodNever:return{not:{}};case iS.ZodEffects:return"input"===r.effectStrategy?fw(e.schema._def,r,i):{};case iS.ZodAny:case iS.ZodUnknown:return{};case iS.ZodDefault:return{...fw(e.innerType._def,r),default:e.defaultValue()};case iS.ZodBranded:return fw(e.type._def,r);case iS.ZodReadonly:case iS.ZodCatch:return fw(e.innerType._def,r);case iS.ZodPipeline:if("input"===r.pipeStrategy)return fw(e.in._def,r);if("output"===r.pipeStrategy)return fw(e.out._def,r);let y=fw(e.in._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),b=fw(e.out._def,{...r,currentPath:[...r.currentPath,"allOf",y?"1":"0"]});return{allOf:[y,b].filter(e=>void 0!==e)};case iS.ZodFunction:case iS.ZodVoid:case iS.ZodSymbol:default:return}},fS=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r);function fO(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let fE=["jsonSchema","functionCalling","jsonMode"];var fT={"gpt-4.1-nano":{maxInputTokens:1047576,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"text-embedding-3-small":{maxInputTokens:8191,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1536,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:8192,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o1-pro":{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4o-2024-05-13":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:4096,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4o-2024-08-06":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4.1-mini":{maxInputTokens:1047576,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o3-deep-research":{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-3.5-turbo":{maxInputTokens:16385,imageInputs:!1,audioInputs:!1,pdfInputs:!1,videoInputs:!1,maxOutputTokens:4096,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!1,imageUrlInputs:!1,pdfToolMessage:!1,imageToolMessage:!1,toolChoice:!0},"text-embedding-3-large":{maxInputTokens:8191,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:3072,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4-turbo":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:4096,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o1-preview":{maxInputTokens:128e3,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o3-mini":{maxInputTokens:2e5,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"codex-mini-latest":{maxInputTokens:2e5,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5-nano":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:128e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5-codex":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:128e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4o":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4.1":{maxInputTokens:1047576,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:32768,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o4-mini":{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},o1:{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5-mini":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:128e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o1-mini":{maxInputTokens:128e3,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:65536,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"text-embedding-ada-002":{maxInputTokens:8192,imageInputs:!1,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1536,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o3-pro":{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4o-2024-11-20":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},o3:{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"o4-mini-deep-research":{maxInputTokens:2e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:1e5,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5-chat-latest":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:128e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!1,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-4o-mini":{maxInputTokens:128e3,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:16384,reasoningOutput:!1,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:128e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0},"gpt-5-pro":{maxInputTokens:4e5,imageInputs:!0,audioInputs:!1,pdfInputs:!0,videoInputs:!1,maxOutputTokens:272e3,reasoningOutput:!0,imageOutputs:!1,audioOutputs:!1,videoOutputs:!1,toolCalling:!0,structuredOutput:!0,imageUrlInputs:!0,pdfToolMessage:!0,imageToolMessage:!0,toolChoice:!0}},fA=e.i(507577),fN=e.i(640470),fj=e.i(649835),fP=e.i(329494),fC=e.i(662394),fZ=e.i(206696),fz=e.i(890406),fU=e.i(976044),fR=e.i(664527),fD=iL,fL=e.i(756740),fM=e.i(60427);(0,iU.__export)({},{BasePromptValue:()=>fF,ChatPromptValue:()=>fJ,ImagePromptValue:()=>fW,StringPromptValue:()=>fB});var fF=class extends fL.Serializable{},fB=class extends fF{static lc_name(){return"StringPromptValue"}lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;value;constructor(e){super({value:e}),this.value=e}toString(){return this.value}toChatMessages(){return[new fM.HumanMessage(this.value)]}},fJ=class extends fF{lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;static lc_name(){return"ChatPromptValue"}messages;constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),this.messages=e.messages}toString(){return(0,fP.getBufferString)(this.messages)}toChatMessages(){return this.messages}},fW=class extends fF{lc_namespace=["langchain_core","prompt_values"];lc_serializable=!0;static lc_name(){return"ImagePromptValue"}imageUrl;value;constructor(e){"imageUrl"in e||(e={imageUrl:e}),super(e),this.imageUrl=e.imageUrl}toString(){return this.imageUrl.url}toChatMessages(){return[new fM.HumanMessage({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}},fV="0123456789abcdef".split(""),fG=[-0x80000000,8388608,32768,128],fq=[24,16,8,0],fK=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],fH=[];function fX(e,t){t?(fH[0]=fH[16]=fH[1]=fH[2]=fH[3]=fH[4]=fH[5]=fH[6]=fH[7]=fH[8]=fH[9]=fH[10]=fH[11]=fH[12]=fH[13]=fH[14]=fH[15]=0,this.blocks=fH):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}fX.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"===r){if(null===e)throw Error(ERROR);else if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw Error(ERROR)}else throw Error(ERROR);t=!0}for(var i,n,a=0,s=e.length,o=this.blocks;a<s;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,this.block=o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t)for(n=this.start;a<s&&n<64;++a)o[n>>>2]|=e[a]<<fq[3&n++];else for(n=this.start;a<s&&n<64;++a)(i=e.charCodeAt(a))<128?o[n>>>2]|=i<<fq[3&n++]:(i<2048?o[n>>>2]|=(192|i>>>6)<<fq[3&n++]:(i<55296||i>=57344?o[n>>>2]|=(224|i>>>12)<<fq[3&n++]:(i=65536+((1023&i)<<10|1023&e.charCodeAt(++a)),o[n>>>2]|=(240|i>>>18)<<fq[3&n++],o[n>>>2]|=(128|i>>>12&63)<<fq[3&n++]),o[n>>>2]|=(128|i>>>6&63)<<fq[3&n++]),o[n>>>2]|=(128|63&i)<<fq[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.block=o[16],this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000|0,this.bytes=this.bytes%0x100000000),this}},fX.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>>2]|=fG[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},fX.prototype.hash=function(){var e,t,r,i,n,a,s,o,l,u,d=this.h0,c=this.h1,p=this.h2,m=this.h3,h=this.h4,f=this.h5,g=this.h6,_=this.h7,v=this.blocks;for(e=16;e<64;++e)t=((n=v[e-15])>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,r=((n=v[e-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,v[e]=v[e-16]+t+v[e-7]+r|0;for(e=0,u=c&p;e<64;e+=4)this.first?(this.is224?(s=300032,_=(n=v[0]-0x543c9a5b)-0x8f1a6c7|0,m=n+0x170e9b5|0):(s=0x2a01a605,_=(n=v[0]-0xc881298)-0x5ab00ac6|0,m=n+0x8909ae5|0),this.first=!1):(t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7),i=(s=d&c)^d&p^u,n=_+r+(h&f^~h&g)+fK[e]+v[e],a=t+i,_=m+n|0,m=n+a|0),t=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),r=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7),i=(o=m&d)^m&c^s,n=f+r+(g&_^~g&h)+fK[e+1]+v[e+1],a=t+i,g=p+n|0,t=((p=n+a|0)>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),i=(l=p&m)^p&d^o,n=h+r+(f&g^~f&_)+fK[e+2]+v[e+2],a=t+i,f=c+n|0,t=((c=n+a|0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),i=(u=c&p)^c&m^l,n=h+r+(f&g^~f&_)+fK[e+3]+v[e+3],a=t+i,h=d+n|0,d=n+a|0,this.chromeBugWorkAround=!0;this.h0=this.h0+d|0,this.h1=this.h1+c|0,this.h2=this.h2+p|0,this.h3=this.h3+m|0,this.h4=this.h4+h|0,this.h5=this.h5+f|0,this.h6=this.h6+g|0,this.h7=this.h7+_|0},fX.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,i=this.h3,n=this.h4,a=this.h5,s=this.h6,o=this.h7,l=fV[e>>>28&15]+fV[e>>>24&15]+fV[e>>>20&15]+fV[e>>>16&15]+fV[e>>>12&15]+fV[e>>>8&15]+fV[e>>>4&15]+fV[15&e]+fV[t>>>28&15]+fV[t>>>24&15]+fV[t>>>20&15]+fV[t>>>16&15]+fV[t>>>12&15]+fV[t>>>8&15]+fV[t>>>4&15]+fV[15&t]+fV[r>>>28&15]+fV[r>>>24&15]+fV[r>>>20&15]+fV[r>>>16&15]+fV[r>>>12&15]+fV[r>>>8&15]+fV[r>>>4&15]+fV[15&r]+fV[i>>>28&15]+fV[i>>>24&15]+fV[i>>>20&15]+fV[i>>>16&15]+fV[i>>>12&15]+fV[i>>>8&15]+fV[i>>>4&15]+fV[15&i]+fV[n>>>28&15]+fV[n>>>24&15]+fV[n>>>20&15]+fV[n>>>16&15]+fV[n>>>12&15]+fV[n>>>8&15]+fV[n>>>4&15]+fV[15&n]+fV[a>>>28&15]+fV[a>>>24&15]+fV[a>>>20&15]+fV[a>>>16&15]+fV[a>>>12&15]+fV[a>>>8&15]+fV[a>>>4&15]+fV[15&a]+fV[s>>>28&15]+fV[s>>>24&15]+fV[s>>>20&15]+fV[s>>>16&15]+fV[s>>>12&15]+fV[s>>>8&15]+fV[s>>>4&15]+fV[15&s];return this.is224||(l+=fV[o>>>28&15]+fV[o>>>24&15]+fV[o>>>20&15]+fV[o>>>16&15]+fV[o>>>12&15]+fV[o>>>8&15]+fV[o>>>4&15]+fV[15&o]),l},fX.prototype.toString=fX.prototype.hex,fX.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,i=this.h3,n=this.h4,a=this.h5,s=this.h6,o=this.h7,l=[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i,n>>>24&255,n>>>16&255,n>>>8&255,255&n,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s];return this.is224||l.push(o>>>24&255,o>>>16&255,o>>>8&255,255&o),l},fX.prototype.array=fX.prototype.digest,fX.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e};let fY=(...e)=>new fX(!1,!0).update(e.join("")).hex();(0,iU.__export)({},{sha256:()=>fY}),(0,iU.__export)({},{BaseCache:()=>f4,InMemoryCache:()=>f2,defaultHashKeyEncoder:()=>fQ,deserializeStoredGeneration:()=>f0,serializeGeneration:()=>f1});let fQ=(...e)=>fY(e.join("_"));function f0(e){return void 0!==e.message?{text:e.text,message:(0,fP.mapStoredMessageToChatMessage)(e.message)}:{text:e.text}}function f1(e){let t={text:e.text};return void 0!==e.message&&(t.message=e.message.toDict()),t}var f4=class{keyEncoder=fQ;makeDefaultKeyEncoder(e){this.keyEncoder=e}};let f6=new Map;var f2=class e extends f4{cache;constructor(e){super(),this.cache=e??new Map}lookup(e,t){return Promise.resolve(this.cache.get(this.keyEncoder(e,t))??null)}async update(e,t,r){this.cache.set(this.keyEncoder(e,t),r)}static global(){return new e(f6)}},f9=e.i(906920),f5=Object.defineProperty,f3=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,t){for(const[t,r]of(this.patStr=e.pat_str,Object.entries(e.bpe_ranks.split("\n").filter(Boolean).reduce((e,t)=>{let[r,i,...n]=t.split(" "),a=Number.parseInt(i,10);return n.forEach((t,r)=>e[t]=a+r),e},{})))){const e=f9.default.toByteArray(t);this.rankMap.set(e.join(","),r),this.textMap.set(r,e)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((e,[t,r])=>(e[r]=this.textEncoder.encode(t),e),{})}encode(e,t=[],r="all"){let i=RegExp(this.patStr,"ug"),n=f3.specialTokenRegex(Object.keys(this.specialTokens)),a=[],s=new Set("all"===t?Object.keys(this.specialTokens):t),o=new Set("all"===r?Object.keys(this.specialTokens).filter(e=>!s.has(e)):r);if(o.size>0){let t=f3.specialTokenRegex([...o]),r=e.match(t);if(null!=r)throw Error(`The text contains a special token that is not allowed: ${r[0]}`)}let l=0;for(;;){let t=null,r=l;for(;n.lastIndex=r,!(null==(t=n.exec(e))||s.has(t[0]));)r=t.index+1;let o=t?.index??e.length;for(let t of e.substring(l,o).matchAll(i)){let e=this.textEncoder.encode(t[0]),r=this.rankMap.get(e.join(","));if(null!=r){a.push(r);continue}a.push(...function(e,t){return 1===e.length?[t.get(e.join(","))]:(function(e,t){let r=Array.from({length:e.length},(e,t)=>({start:t,end:t+1}));for(;r.length>1;){let i=null;for(let n=0;n<r.length-1;n++){let a=e.slice(r[n].start,r[n+1].end),s=t.get(a.join(","));null!=s&&(null==i||s<i[0])&&(i=[s,n])}if(null!=i){let e=i[1];r[e]={start:r[e].start,end:r[e+1].end},r.splice(e+1,1)}else break}return r})(e,t).map(r=>t.get(e.slice(r.start,r.end).join(","))).filter(e=>null!=e)}(e,this.rankMap))}if(null==t)break;let u=this.specialTokens[t[0]];a.push(u),l=t.index+t[0].length}return a}decode(e){let t=[],r=0;for(let i=0;i<e.length;++i){let n=e[i],a=this.textMap.get(n)??this.inverseSpecialTokens[n];null!=a&&(t.push(a),r+=a.length)}let i=new Uint8Array(r),n=0;for(let e of t)i.set(e,n),n+=e.length;return this.textDecoder.decode(i)}};ra="specialTokenRegex",rs=e=>RegExp(e.map(e=>e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")).join("|"),"g"),(o="symbol"!=typeof ra?ra+"":ra)in f3?f5(f3,o,{enumerable:!0,configurable:!0,writable:!0,value:rs}):f3[o]=rs,(0,iU.__export)({},{encodingForModel:()=>gt,getEncoding:()=>ge});let f8={},f7=new fR.AsyncCaller({});async function ge(e){return e in f8||(f8[e]=f7.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then(e=>e.json()).then(e=>new f3(e)).catch(t=>{throw delete f8[e],t})),await f8[e]}async function gt(e){return ge(function(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":case"gpt-5":case"gpt-5-2025-08-07":case"gpt-5-nano":case"gpt-5-nano-2025-08-07":case"gpt-5-mini":case"gpt-5-mini-2025-08-07":case"gpt-5-chat-latest":return"o200k_base";default:throw Error("Unknown model")}}(e))}(0,iU.__export)({},{BaseLangChain:()=>go,BaseLanguageModel:()=>gl,calculateMaxTokens:()=>gs,getEmbeddingContextSize:()=>gi,getModelContextSize:()=>gn,getModelNameForTiktoken:()=>gr,isOpenAITool:()=>ga});let gr=e=>e.startsWith("gpt-5")?"gpt-5":e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e.startsWith("gpt-4o")?"gpt-4o":e,gi=e=>"text-embedding-ada-002"===e?8191:2046,gn=e=>{switch(gr(e)){case"gpt-5":case"gpt-5-turbo":case"gpt-5-turbo-preview":return 4e5;case"gpt-4o":case"gpt-4o-mini":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4-turbo":case"gpt-4-turbo-preview":case"gpt-4-turbo-2024-04-09":case"gpt-4-0125-preview":case"gpt-4-1106-preview":return 128e3;case"gpt-4-32k":case"gpt-4-32k-0314":case"gpt-4-32k-0613":case"gemini-pro":case"gemini-pro-vision":return 32768;case"gpt-4":case"gpt-4-0314":case"gpt-4-0613":return 8192;case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-16k-0613":return 16384;case"gpt-3.5-turbo":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-1106":case"gpt-3.5-turbo-0125":return 4096;case"text-davinci-003":case"text-davinci-002":default:return 4097;case"text-davinci-001":return 2049;case"text-curie-001":case"text-babbage-001":case"text-ada-001":case"code-cushman-001":return 2048;case"code-davinci-002":case"code-davinci-001":return 8e3;case"claude-3-5-sonnet-20241022":case"claude-3-5-sonnet-20240620":case"claude-3-opus-20240229":case"claude-3-sonnet-20240229":case"claude-3-haiku-20240307":case"claude-2.1":return 2e5;case"claude-2.0":case"claude-instant-1.2":return 1e5;case"gemini-1.5-pro":case"gemini-1.5-pro-latest":case"gemini-1.5-flash":case"gemini-1.5-flash-latest":return 1e6}};function ga(e){return"object"==typeof e&&!!e&&("type"in e&&"function"===e.type&&"function"in e&&"object"==typeof e.function&&!!e.function&&"name"in e.function&&"parameters"in e.function||!1)}let gs=async({prompt:e,modelName:t})=>{let r;try{r=(await gt(gr(t))).encode(e).length}catch{console.warn("Failed to calculate number of tokens, falling back to approximate count"),r=Math.ceil(e.length/4)}return gn(t)-r};var go=class extends fD.Runnable{verbose;callbacks;tags;metadata;get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),this.verbose=e.verbose??!1,this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}},gl=class extends go{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}caller;cache;constructor({callbacks:e,callbackManager:t,...r}){const{cache:i,...n}=r;super({callbacks:e??t,...n}),"object"==typeof i?this.cache=i:i?this.cache=f2.global():this.cache=void 0,this.caller=new fR.AsyncCaller(r??{})}_encoding;async getNumTokens(e){let t,r=Math.ceil((t="string"==typeof e?e:e.map(e=>"string"==typeof e?e:"text"===e.type&&"text"in e?e.text:"").join("")).length/4);if(!this._encoding)try{this._encoding=await gt("modelName"in this?gr(this.modelName):"gpt2")}catch(e){console.warn("Failed to calculate number of tokens, falling back to approximate count",e)}if(this._encoding)try{r=this._encoding.encode(t).length}catch(e){console.warn("Failed to calculate number of tokens, falling back to approximate count",e)}return r}static _convertInputToPromptValue(e){return"string"==typeof e?new fB(e):Array.isArray(e)?new fJ(e.map(fP.coerceMessageLikeToMessage)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...t}){return Object.entries({...this._identifyingParams(),...t,_type:this._llmType(),_model:this._modelType()}).filter(([e,t])=>void 0!==t).map(([e,t])=>`${e}:${JSON.stringify(t)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw Error("Use .toJSON() instead")}get profile(){return{}}};e.s(["BaseLangChain",()=>go,"BaseLanguageModel",()=>gl,"calculateMaxTokens",()=>gs,"isOpenAITool",()=>ga],881892);var gu=e.i(640516),gd=iL,gc=class extends gd.Runnable{static lc_name(){return"RunnablePassthrough"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;func;constructor(e){super(e),e&&(this.func=e.func)}async invoke(e,t){let r=(0,gu.ensureConfig)(t);return this.func&&await this.func(e,r),this._callWithConfig(e=>Promise.resolve(e),e,r)}async *transform(e,t){let r,i=(0,gu.ensureConfig)(t),n=!0;for await(let t of this._transformStreamWithConfig(e,e=>e,i))if(yield t,n)if(void 0===r)r=t;else try{r=(0,fz.concat)(r,t)}catch{r=void 0,n=!1}this.func&&void 0!==r&&await this.func(r,i)}static assign(e){return new gd.RunnableAssign(new gd.RunnableMap({steps:e}))}};function gp(e){return new e.constructor({...e,content:e.contentBlocks,response_metadata:{...e.response_metadata,output_version:"v1"}})}function gm(e){let t=[];for(let r of e){let e=r;if(Array.isArray(r.content))for(let t=0;t<r.content.length;t++){let i=r.content[t];((0,fA.isURLContentBlock)(i)||(0,fA.isBase64ContentBlock)(i))&&e===r&&(e=new r.constructor({...e,content:[...r.content.slice(0,t),(0,fA.convertToOpenAIImageBlock)(i),...r.content.slice(t+1)]}))}t.push(e)}return t}(0,iU.__export)({},{BaseChatModel:()=>gh,SimpleChatModel:()=>gf});var gh=class e extends gl{lc_namespace=["langchain","chat_models",this._llmType()];disableStreaming=!1;outputVersion;get callKeys(){return[...super.callKeys,"outputVersion"]}constructor(e){super(e),this.outputVersion=(()=>{let t=e.outputVersion??(0,iN.getEnvironmentVariable)("LC_OUTPUT_VERSION");return t&&["v0","v1"].includes(t)?t:"v0"})()}_separateRunnableConfigFromCallOptionsCompat(e){let[t,r]=super._separateRunnableConfigFromCallOptions(e);return r.signal=t.signal,[t,r]}async invoke(t,r){let i=e._convertInputToPromptValue(t);return(await this.generatePrompt([i],r,r?.callbacks)).generations[0][0].message}async *_streamResponseChunks(e,t,r){throw Error("Not implemented.")}async *_streamIterator(t,r){if(this._streamResponseChunks===e.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(t,r);else{let i,n,a=e._convertInputToPromptValue(t).toChatMessages(),[s,o]=this._separateRunnableConfigFromCallOptionsCompat(r),l={...s.metadata,...this.getLsParams(o)},u=await fZ.CallbackManager.configure(s.callbacks,this.callbacks,s.tags,this.tags,l,this.metadata,{verbose:this.verbose}),d={options:o,invocation_params:this?.invocationParams(o),batch_size:1},c=o.outputVersion??this.outputVersion,p=await u?.handleChatModelStart(this.toJSON(),[gm(a)],s.runId,void 0,d,void 0,void 0,s.runName);try{for await(let e of this._streamResponseChunks(a,o,p?.[0])){if(null==e.message.id){let t=p?.at(0)?.runId;null!=t&&e.message._updateId(`run-${t}`)}e.message.response_metadata={...e.generationInfo,...e.message.response_metadata},"v1"===c?yield gp(e.message):yield e.message,i=i?i.concat(e):e,(0,fj.isAIMessageChunk)(e.message)&&void 0!==e.message.usage_metadata&&(n={tokenUsage:{promptTokens:e.message.usage_metadata.input_tokens,completionTokens:e.message.usage_metadata.output_tokens,totalTokens:e.message.usage_metadata.total_tokens}})}}catch(e){throw await Promise.all((p??[]).map(t=>t?.handleLLMError(e))),e}await Promise.all((p??[]).map(e=>e?.handleLLMEnd({generations:[[i]],llmOutput:n})))}}getLsParams(e){let t=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:e.stop,ls_provider:t}}async _generateUncached(t,r,i,n){let a,s=t.map(e=>e.map(fP.coerceMessageLikeToMessage));if(void 0!==n&&n.length===s.length)a=n;else{let e={...i.metadata,...this.getLsParams(r)},t=await fZ.CallbackManager.configure(i.callbacks,this.callbacks,i.tags,this.tags,e,this.metadata,{verbose:this.verbose}),n={options:r,invocation_params:this?.invocationParams(r),batch_size:1};a=await t?.handleChatModelStart(this.toJSON(),s.map(gm),i.runId,void 0,n,void 0,void 0,i.runName)}let o=r.outputVersion??this.outputVersion,l=[],u=[];if(a?.[0].handlers.find(fC.callbackHandlerPrefersStreaming)&&!this.disableStreaming&&1===s.length&&this._streamResponseChunks!==e.prototype._streamResponseChunks)try{let e,t;for await(let i of(await this._streamResponseChunks(s[0],r,a?.[0]))){if(null==i.message.id){let e=a?.at(0)?.runId;null!=e&&i.message._updateId(`run-${e}`)}e=void 0===e?i:(0,fz.concat)(e,i),(0,fj.isAIMessageChunk)(i.message)&&void 0!==i.message.usage_metadata&&(t={tokenUsage:{promptTokens:i.message.usage_metadata.input_tokens,completionTokens:i.message.usage_metadata.output_tokens,totalTokens:i.message.usage_metadata.total_tokens}})}if(void 0===e)throw Error("Received empty response from chat model call.");l.push([e]),await a?.[0].handleLLMEnd({generations:l,llmOutput:t})}catch(e){throw await a?.[0].handleLLMError(e),e}else{let e=await Promise.allSettled(s.map(async(e,t)=>{let i=await this._generate(e,{...r,promptIndex:t},a?.[t]);if("v1"===o)for(let e of i.generations)e.message=gp(e.message);return i}));await Promise.all(e.map(async(e,t)=>{if("fulfilled"!==e.status)return await a?.[t]?.handleLLMError(e.reason),Promise.reject(e.reason);{let r=e.value;for(let e of r.generations){if(null==e.message.id){let t=a?.at(0)?.runId;null!=t&&e.message._updateId(`run-${t}`)}e.message.response_metadata={...e.generationInfo,...e.message.response_metadata}}return 1===r.generations.length&&(r.generations[0].message.response_metadata={...r.llmOutput,...r.generations[0].message.response_metadata}),l[t]=r.generations,u[t]=r.llmOutput,a?.[t]?.handleLLMEnd({generations:[r.generations],llmOutput:r.llmOutput})}}))}let d={generations:l,llmOutput:u.length?this._combineLLMOutput?.(...u):void 0};return Object.defineProperty(d,fU.RUN_KEY,{value:a?{runIds:a?.map(e=>e.runId)}:void 0,configurable:!0}),d}async _generateCached({messages:t,cache:r,llmStringKey:i,parsedOptions:n,handledOptions:a}){let s=t.map(e=>e.map(fP.coerceMessageLikeToMessage)),o={...a.metadata,...this.getLsParams(n)},l=await fZ.CallbackManager.configure(a.callbacks,this.callbacks,a.tags,this.tags,o,this.metadata,{verbose:this.verbose}),u={options:n,invocation_params:this?.invocationParams(n),batch_size:1},d=await l?.handleChatModelStart(this.toJSON(),s.map(gm),a.runId,void 0,u,void 0,void 0,a.runName),c=[],p=(await Promise.allSettled(s.map(async(t,n)=>{let a=e._convertInputToPromptValue(t).toString(),s=await r.lookup(a,i);return null==s&&c.push(n),s}))).map((e,t)=>({result:e,runManager:d?.[t]})).filter(({result:e})=>"fulfilled"===e.status&&null!=e.value||"rejected"===e.status),m=n.outputVersion??this.outputVersion,h=[];await Promise.all(p.map(async({result:e,runManager:t},r)=>{if("fulfilled"!==e.status)return await t?.handleLLMError(e.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(e.reason);{let i=e.value;return h[r]=i.map(e=>("message"in e&&(0,fN.isBaseMessage)(e.message)&&(0,fj.isAIMessage)(e.message)&&(e.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0},"v1"===m&&(e.message=gp(e.message))),e.generationInfo={...e.generationInfo,tokenUsage:{}},e)),i.length&&await t?.handleLLMNewToken(i[0].text),t?.handleLLMEnd({generations:[i]},void 0,void 0,void 0,{cached:!0})}}));let f={generations:h,missingPromptIndices:c,startedRunManagers:d};return Object.defineProperty(f,fU.RUN_KEY,{value:d?{runIds:d?.map(e=>e.runId)}:void 0,configurable:!0}),f}async generate(t,r,i){let n;n=Array.isArray(r)?{stop:r}:r;let a=t.map(e=>e.map(fP.coerceMessageLikeToMessage)),[s,o]=this._separateRunnableConfigFromCallOptionsCompat(n);if(s.callbacks=s.callbacks??i,!this.cache)return this._generateUncached(a,o,s);let{cache:l}=this,u=this._getSerializedCacheKeyParametersForCall(o),{generations:d,missingPromptIndices:c,startedRunManagers:p}=await this._generateCached({messages:a,cache:l,llmStringKey:u,parsedOptions:o,handledOptions:s}),m={};if(c.length>0){let t=await this._generateUncached(c.map(e=>a[e]),o,s,void 0!==p?c.map(e=>p?.[e]):void 0);await Promise.all(t.generations.map(async(t,r)=>{let i=c[r];d[i]=t;let n=e._convertInputToPromptValue(a[i]).toString();return l.update(n,u,t)})),m=t.llmOutput??{}}return{generations:d,llmOutput:m}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}async generatePrompt(e,t,r){let i=e.map(e=>e.toChatMessages());return this.generate(i,t,r)}withStructuredOutput(e,t){let r;if("function"!=typeof this.bindTools)throw Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(t?.strict)throw Error('"strict" mode is not supported for this model by default.');let i=t?.name,n=(0,iD.getSchemaDescription)(e)??"A function available to call.",a=t?.method,s=t?.includeRaw;if("jsonMode"===a)throw Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let o=i??"extract";(0,iD.isInteropZodSchema)(e)?r=[{type:"function",function:{name:o,description:n,parameters:(0,iR.toJsonSchema)(e)}}]:("name"in e&&(o=e.name),r=[{type:"function",function:{name:o,description:n,parameters:e}}]);let l=this.bindTools(r),u=iL.RunnableLambda.from(e=>{if(!fj.AIMessageChunk.isInstance(e))throw Error("Input is not an AIMessageChunk.");if(!e.tool_calls||0===e.tool_calls.length)throw Error("No tool calls found in the response.");let t=e.tool_calls.find(e=>e.name===o);if(!t)throw Error(`No tool call found with name ${o}.`);return t.args});if(!s)return l.pipe(u).withConfig({runName:"StructuredOutput"});let d=gc.assign({parsed:(e,t)=>u.invoke(e.raw,t)}),c=gc.assign({parsed:()=>null}),p=d.withFallbacks({fallbacks:[c]});return iL.RunnableSequence.from([{raw:l},p]).withConfig({runName:"StructuredOutputRunnable"})}},gf=class extends gh{async _generate(e,t,r){let i=await this._call(e,t,r),n=new fj.AIMessage(i);if("string"!=typeof n.content)throw Error("Cannot generate with a simple chat model when output is not a string.");return{generations:[{text:n.content,message:n}]}}},gg=e.i(115995),g_=iL,gv=class extends g_.Runnable{static lc_name(){return"RouterRunnable"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;runnables;constructor(e){super(e),this.runnables=e.runnables}async invoke(e,t){let{key:r,input:i}=e,n=this.runnables[r];if(void 0===n)throw Error(`No runnable associated with key "${r}".`);return n.invoke(i,(0,gu.ensureConfig)(t))}async batch(e,t,r){let i=e.map(e=>e.key),n=e.map(e=>e.input);if(void 0!==i.find(e=>void 0===this.runnables[e]))throw Error("One or more keys do not have a corresponding runnable.");let a=i.map(e=>this.runnables[e]),s=this._getOptionsList(t??{},e.length),o=s[0]?.maxConcurrency??r?.maxConcurrency,l=o&&o>0?o:e.length,u=[];for(let e=0;e<n.length;e+=l){let t=n.slice(e,e+l).map((e,t)=>a[t].invoke(e,s[t])),r=await Promise.all(t);u.push(r)}return u.flat()}async stream(e,t){let{key:r,input:i}=e,n=this.runnables[r];if(void 0===n)throw Error(`No runnable associated with key "${r}".`);return n.stream(i,t)}},gy=iL,gb=class extends gy.Runnable{static lc_name(){return"RunnableBranch"}lc_namespace=["langchain_core","runnables"];lc_serializable=!0;default;branches;constructor(e){super(e),this.branches=e.branches,this.default=e.default}static from(e){if(e.length<1)throw Error("RunnableBranch requires at least one branch");return new this({branches:e.slice(0,-1).map(([e,t])=>[(0,gy._coerceToRunnable)(e),(0,gy._coerceToRunnable)(t)]),default:(0,gy._coerceToRunnable)(e[e.length-1])})}async _invoke(e,t,r){let i;for(let n=0;n<this.branches.length;n+=1){let[a,s]=this.branches[n];if(await a.invoke(e,(0,gu.patchConfig)(t,{callbacks:r?.getChild(`condition:${n+1}`)}))){i=await s.invoke(e,(0,gu.patchConfig)(t,{callbacks:r?.getChild(`branch:${n+1}`)}));break}}return i||(i=await this.default.invoke(e,(0,gu.patchConfig)(t,{callbacks:r?.getChild("branch:default")}))),i}async invoke(e,t={}){return this._callWithConfig(this._invoke,e,t)}async *_streamIterator(e,t){let r,i,n=await (0,gu.getCallbackManagerForConfig)(t),a=await n?.handleChainStart(this.toJSON(),(0,gy._coerceToDict)(e,"input"),t?.runId,void 0,void 0,void 0,t?.runName),s=!0;try{for(let n=0;n<this.branches.length;n+=1){let[o,l]=this.branches[n];if(await o.invoke(e,(0,gu.patchConfig)(t,{callbacks:a?.getChild(`condition:${n+1}`)}))){for await(let o of i=await l.stream(e,(0,gu.patchConfig)(t,{callbacks:a?.getChild(`branch:${n+1}`)})))if(yield o,s)if(void 0===r)r=o;else try{r=(0,fz.concat)(r,o)}catch{r=void 0,s=!1}break}}if(void 0===i){for await(let n of i=await this.default.stream(e,(0,gu.patchConfig)(t,{callbacks:a?.getChild("branch:default")})))if(yield n,s)if(void 0===r)r=n;else try{r=(0,fz.concat)(r,n)}catch{r=void 0,s=!1}}}catch(e){throw await a?.handleChainError(e),e}await a?.handleChainEnd(r??{})}},g$=iL,gw=class extends g$.RunnableBinding{runnable;inputMessagesKey;outputMessagesKey;historyMessagesKey;getMessageHistory;constructor(e){let t=g$.RunnableLambda.from((e,t)=>this._enterHistory(e,t??{})).withConfig({runName:"loadHistory"});const r=e.historyMessagesKey??e.inputMessagesKey;r&&(t=gc.assign({[r]:t}).withConfig({runName:"insertHistory"})),super({...e,config:e.config??{},bound:t.pipe(e.runnable.withListeners({onEnd:(e,t)=>this._exitHistory(e,t??{})})).withConfig({runName:"RunnableWithMessageHistory"})}),this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let t;if("object"!=typeof e||Array.isArray(e)||(0,fN.isBaseMessage)(e))t=e;else{let r;r=this.inputMessagesKey?this.inputMessagesKey:1===Object.keys(e).length?Object.keys(e)[0]:"input",t=Array.isArray(e[r])&&Array.isArray(e[r][0])?e[r][0]:e[r]}if("string"==typeof t)return[new fM.HumanMessage(t)];if(Array.isArray(t))return t;if((0,fN.isBaseMessage)(t))return[t];throw Error(`Expected a string, BaseMessage, or array of BaseMessages.
Got ${JSON.stringify(t,null,2)}`)}_getOutputMessages(e){let t;if(Array.isArray(e)||(0,fN.isBaseMessage)(e)||"string"==typeof e)t=e;else{let r;r=void 0!==this.outputMessagesKey?this.outputMessagesKey:1===Object.keys(e).length?Object.keys(e)[0]:"output",t=void 0!==e.generations?e.generations[0][0].message:e[r]}if("string"==typeof t)return[new fj.AIMessage(t)];if(Array.isArray(t))return t;if((0,fN.isBaseMessage)(t))return[t];throw Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(t,null,2)}`)}async _enterHistory(e,t){let r=t?.configurable?.messageHistory,i=await r.getMessages();return void 0===this.historyMessagesKey?i.concat(this._getInputMessages(e)):i}async _exitHistory(e,t){let r,i=t.configurable?.messageHistory;r=Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?e.inputs[0]:e.inputs;let n=this._getInputMessages(r);if(void 0===this.historyMessagesKey){let e=await i.getMessages();n=n.slice(e.length)}let a=e.outputs;if(!a)throw Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);let s=this._getOutputMessages(a);await i.addMessages([...n,...s])}async _mergeConfig(...e){let t=await super._mergeConfig(...e);if(!t.configurable||!t.configurable.sessionId){let e={[this.inputMessagesKey??"input"]:"foo"};throw Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()
eg. chain.invoke(${JSON.stringify(e)}, ${JSON.stringify({configurable:{sessionId:"123"}})})`)}let{sessionId:r}=t.configurable;return t.configurable.messageHistory=await this.getMessageHistory(r),t}};(0,iU.__export)({},{RouterRunnable:()=>gv,Runnable:()=>iL.Runnable,RunnableAssign:()=>iL.RunnableAssign,RunnableBinding:()=>iL.RunnableBinding,RunnableBranch:()=>gb,RunnableEach:()=>iL.RunnableEach,RunnableLambda:()=>iL.RunnableLambda,RunnableMap:()=>iL.RunnableMap,RunnableParallel:()=>iL.RunnableParallel,RunnablePassthrough:()=>gc,RunnablePick:()=>iL.RunnablePick,RunnableRetry:()=>iL.RunnableRetry,RunnableSequence:()=>iL.RunnableSequence,RunnableToolLike:()=>iL.RunnableToolLike,RunnableWithFallbacks:()=>iL.RunnableWithFallbacks,RunnableWithMessageHistory:()=>gw,_coerceToRunnable:()=>iL._coerceToRunnable,ensureConfig:()=>gu.ensureConfig,getCallbackManagerForConfig:()=>gu.getCallbackManagerForConfig,mergeConfigs:()=>gu.mergeConfigs,patchConfig:()=>gu.patchConfig,pickRunnableConfigKeys:()=>gu.pickRunnableConfigKeys,raceWithSignal:()=>gg.raceWithSignal}),e.s([],842713);var gx=e.i(202438),gk=e.i(869065),gI=iL,gS=class extends gI.Runnable{parseResultWithPrompt(e,t,r){return this.parseResult(e,r)}_baseMessageToString(e){return"string"==typeof e.content?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,t){return"string"==typeof e?this._callWithConfig(async(e,t)=>this.parseResult([{text:e}],t?.callbacks),e,{...t,runType:"parser"}):this._callWithConfig(async(e,t)=>this.parseResult([{message:e,text:this._baseMessageToString(e)}],t?.callbacks),e,{...t,runType:"parser"})}},gO=class extends gS{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,r){return this.parse(e,r)}_type(){throw Error("_type not implemented")}},gE=class extends Error{llmOutput;observation;sendToLLM;constructor(e,t,r,i=!1){if(super(e),this.llmOutput=t,this.observation=r,this.sendToLLM=i,i&&(void 0===r||void 0===t))throw Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");(0,gk.addLangChainErrorFields)(this,"OUTPUT_PARSING_FAILURE")}};e.i(262144);var gT=e.i(645668),gA=class extends gO{async *_transform(e){for await(let t of e)"string"==typeof t?yield this.parseResult([{text:t}]):yield this.parseResult([{message:t,text:this._baseMessageToString(t)}])}async *transform(e,t){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...t,runType:"parser"})}},gN=class extends gA{diff=!1;constructor(e){super(e),this.diff=e?.diff??this.diff}async *_transform(e){let t,r;for await(let i of e){let e;if("string"!=typeof i&&"string"!=typeof i.content)throw Error("Cannot handle non-string output.");if((0,fN.isBaseMessageChunk)(i)){if("string"!=typeof i.content)throw Error("Cannot handle non-string message output.");e=new fU.ChatGenerationChunk({message:i,text:i.content})}else if((0,fN.isBaseMessage)(i)){if("string"!=typeof i.content)throw Error("Cannot handle non-string message output.");e=new fU.ChatGenerationChunk({message:(0,fP.convertToChunk)(i),text:i.content})}else e=new fU.GenerationChunk({text:i});r=void 0===r?e:r.concat(e);let n=await this.parsePartialResult([r]);null==n||(0,gT.deepCompareStrict)(n,t)||(this.diff?yield this._diff(t,n):yield n,t=n)}}getFormatInstructions(){return""}},gj=e.i(118755),gP=e.i(707224);e.i(985250),(0,iU.__export)({},{applyPatch:()=>gP.applyPatch,compare:()=>gj.compare});var gC=class extends gN{static lc_name(){return"JsonOutputParser"}lc_namespace=["langchain_core","output_parsers"];lc_serializable=!0;_concatOutputChunks(e,t){return this.diff?super._concatOutputChunks(e,t):t}_diff(e,t){if(t)return e?(0,gj.compare)(e,t):[{op:"replace",path:"",value:t}]}async parsePartialResult(e){return(0,gx.parseJsonMarkdown)(e[0].text)}async parse(e){return(0,gx.parseJsonMarkdown)(e,JSON.parse)}getFormatInstructions(){return""}},gZ=class extends gA{static lc_name(){return"BytesOutputParser"}lc_namespace=["langchain_core","output_parsers","bytes"];lc_serializable=!0;textEncoder=new TextEncoder;parse(e){return Promise.resolve(this.textEncoder.encode(e))}getFormatInstructions(){return""}},gz=class extends gA{re;async *_transform(e){let t="";for await(let r of e)if("string"==typeof r?t+=r:t+=r.content,this.re){let e=[...t.matchAll(this.re)];if(e.length>1){let r=0;for(let t of e.slice(0,-1))yield[t[1]],r+=(t.index??0)+t[0].length;t=t.slice(r)}}else{let e=await this.parse(t);if(e.length>1){for(let t of e.slice(0,-1))yield[t];t=e[e.length-1]}}for(let e of(await this.parse(t)))yield[e]}},gU=class extends gz{static lc_name(){return"CommaSeparatedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;async parse(e){try{return e.trim().split(",").map(e=>e.trim())}catch{throw new gE(`Could not parse output: ${e}`,e)}}getFormatInstructions(){return"Your response should be a list of comma separated values, eg: `foo, bar, baz`"}},gR=class extends gz{lc_namespace=["langchain_core","output_parsers","list"];length;separator;constructor({length:e,separator:t}){super(...arguments),this.length=e,this.separator=t||","}async parse(e){try{let t=e.trim().split(this.separator).map(e=>e.trim());if(void 0!==this.length&&t.length!==this.length)throw new gE(`Incorrect number of items. Expected ${this.length}, got ${t.length}.`);return t}catch(t){if(Object.getPrototypeOf(t)===gE.prototype)throw t;throw new gE(`Could not parse output: ${e}`)}}getFormatInstructions(){return`Your response should be a list of ${void 0===this.length?"":`${this.length} `}items separated by "${this.separator}" (eg: \`foo${this.separator} bar${this.separator} baz\`)`}},gD=class extends gz{static lc_name(){return"NumberedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}re=/\d+\.\s([^\n]+)/g;async parse(e){return[...e.matchAll(this.re)??[]].map(e=>e[1])}},gL=class extends gz{static lc_name(){return"NumberedListOutputParser"}lc_namespace=["langchain_core","output_parsers","list"];lc_serializable=!0;getFormatInstructions(){return`Your response should be a numbered list with each item on a new line. For example: 

1. foo

2. bar

3. baz`}re=/^\s*[-*]\s([^\n]+)$/gm;async parse(e){return[...e.matchAll(this.re)??[]].map(e=>e[1])}},gM=class extends gA{static lc_name(){return"StrOutputParser"}lc_namespace=["langchain_core","output_parsers","string"];lc_serializable=!0;parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}_textContentToString(e){return e.text}_imageUrlContentToString(e){throw Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentToString(e){switch(e.type){case"text":case"text_delta":if("text"in e)return this._textContentToString(e);break;case"image_url":if("image_url"in e)return this._imageUrlContentToString(e);break;default:throw Error(`Cannot coerce "${e.type}" message part into a string.`)}throw Error(`Invalid content type: ${e.type}`)}_baseMessageContentToString(e){return e.reduce((e,t)=>e+this._messageContentToString(t),"")}};e.i(529515);var gF=e.i(827599),gB=class extends gO{static lc_name(){return"StructuredOutputParser"}lc_namespace=["langchain","output_parsers","structured"];toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),this.schema=e}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){return new this(gF.z.object(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,gF.z.string().describe(t)]))))}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify((0,iR.toJsonSchema)(this.schema))}
\`\`\`
`}async parse(e){try{let t=e.trim(),r=(t.match(/^```(?:json)?\s*([\s\S]*?)```/)?.[1]||t.match(/```json\s*([\s\S]*?)```/)?.[1]||t).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(e,t)=>{let r=t.replace(/\n/g,"\\n");return`"${r}"`}).replace(/\n/g,"");return await (0,iD.interopParseAsync)(this.schema,JSON.parse(r))}catch(t){throw new gE(`Failed to parse. Text: "${e}". Error: ${t}`,e)}}},gJ=class extends gB{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(e){let t=e?.interpolationDepth??1;if(t<1)throw Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:
\`\`\`json
${this._schemaToInstruction((0,iR.toJsonSchema)(this.schema)).replaceAll("{","{".repeat(t)).replaceAll("}","}".repeat(t))}
\`\`\``}_schemaToInstruction(e,t=2){if("type"in e){let r,i=!1;if(Array.isArray(e.type)){let t=e.type.findIndex(e=>"null"===e);-1!==t&&(i=!0,e.type.splice(t,1)),r=e.type.join(" | ")}else r=e.type;if("object"===e.type&&e.properties){let r=e.description?` // ${e.description}`:"",i=Object.entries(e.properties).map(([r,i])=>{let n=e.required?.includes(r)?"":" (optional)";return`${" ".repeat(t)}"${r}": ${this._schemaToInstruction(i,t+2)}${n}`}).join("\n");return`{
${i}
${" ".repeat(t-2)}}${r}`}if("array"===e.type&&e.items){let r=e.description?` // ${e.description}`:"";return`array[
${" ".repeat(t)}${this._schemaToInstruction(e.items,t+2)}
${" ".repeat(t-2)}] ${r}`}let n=i?" (nullable)":"",a=e.description?` // ${e.description}`:"";return`${r}${a}${n}`}if("anyOf"in e)return e.anyOf.map(e=>this._schemaToInstruction(e,t)).join(`
${" ".repeat(t-2)}`);throw Error("unsupported schema type")}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){return new this(gF.z.object(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,gF.z.string().describe(t)]))))}},gW=class extends gO{structuredInputParser;constructor({inputSchema:e}){super(...arguments),this.structuredInputParser=new gJ(e)}async parse(e){let t;try{t=await this.structuredInputParser.parse(e)}catch(t){throw new gE(`Failed to parse. Text: "${e}". Error: ${t}`,e)}return this.outputProcessor(t)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}};let gV=function(){let e={};e.parser=function(e,t){return new r(e,t)},e.SAXParser=r,e.SAXStream=l,e.createStream=function(e,t){return new l(e,t)},e.MAX_BUFFER_LENGTH=65536;let t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function r(i,n){if(!(this instanceof r))return new r(i,n);(function(e){for(var r=0,i=t.length;r<i;r++)e[t[r]]=""})(this),this.q=this.c="",this.bufferCheckPosition=e.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!i,this.noscript=!!(i||this.opt.noscript),this.state=y.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(c)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),$(this,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),r.prototype={end:function(){S(this)},write:function(r){if(this.error)throw this.error;if(this.closed)return I(this,"Cannot write after close. Assign an onready handler.");if(null===r)return S(this);"object"==typeof r&&(r=r.toString());for(var i=0,n="";n=C(r,i++),this.c=n,n;)switch(this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++),this.state){case y.BEGIN:if(this.state=y.BEGIN_WHITESPACE,"\uFEFF"===n)continue;P(this,n);continue;case y.BEGIN_WHITESPACE:P(this,n);continue;case y.TEXT:if(this.sawRoot&&!this.closedRoot){for(var a=i-1;n&&"<"!==n&&"&"!==n;)(n=C(r,i++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=r.substring(a,i-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(g(n)||this.sawRoot&&!this.closedRoot||O(this,"Text data outside of root node."),"&"===n?this.state=y.TEXT_ENTITY:this.textNode+=n):(this.state=y.OPEN_WAKA,this.startTagPosition=this.position);continue;case y.SCRIPT:"<"===n?this.state=y.SCRIPT_ENDING:this.script+=n;continue;case y.SCRIPT_ENDING:"/"===n?this.state=y.CLOSE_TAG:(this.script+="<"+n,this.state=y.SCRIPT);continue;case y.OPEN_WAKA:"!"===n?(this.state=y.SGML_DECL,this.sgmlDecl=""):g(n)||(v(p,n)?(this.state=y.OPEN_TAG,this.tagName=n):"/"===n?(this.state=y.CLOSE_TAG,this.tagName=""):"?"===n?(this.state=y.PROC_INST,this.procInstName=this.procInstBody=""):(O(this,"Unencoded <"),this.startTagPosition+1<this.position&&(n=Array(this.position-this.startTagPosition).join(" ")+n),this.textNode+="<"+n,this.state=y.TEXT));continue;case y.SGML_DECL:"[CDATA["===(this.sgmlDecl+n).toUpperCase()?(w(this,"onopencdata"),this.state=y.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+n==="--"?(this.state=y.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+n).toUpperCase()?(this.state=y.DOCTYPE,(this.doctype||this.sawRoot)&&O(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===n?(w(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=y.TEXT):(_(n)&&(this.state=y.SGML_DECL_QUOTED),this.sgmlDecl+=n);continue;case y.SGML_DECL_QUOTED:n===this.q&&(this.state=y.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case y.DOCTYPE:">"===n?(this.state=y.TEXT,w(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=y.DOCTYPE_DTD:_(n)&&(this.state=y.DOCTYPE_QUOTED,this.q=n));continue;case y.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=y.DOCTYPE);continue;case y.DOCTYPE_DTD:this.doctype+=n,"]"===n?this.state=y.DOCTYPE:_(n)&&(this.state=y.DOCTYPE_DTD_QUOTED,this.q=n);continue;case y.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=y.DOCTYPE_DTD,this.q="");continue;case y.COMMENT:"-"===n?this.state=y.COMMENT_ENDING:this.comment+=n;continue;case y.COMMENT_ENDING:"-"===n?(this.state=y.COMMENT_ENDED,this.comment=k(this.opt,this.comment),this.comment&&w(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=y.COMMENT);continue;case y.COMMENT_ENDED:">"!==n?(O(this,"Malformed comment"),this.comment+="--"+n,this.state=y.COMMENT):this.state=y.TEXT;continue;case y.CDATA:"]"===n?this.state=y.CDATA_ENDING:this.cdata+=n;continue;case y.CDATA_ENDING:"]"===n?this.state=y.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=y.CDATA);continue;case y.CDATA_ENDING_2:">"===n?(this.cdata&&w(this,"oncdata",this.cdata),w(this,"onclosecdata"),this.cdata="",this.state=y.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=y.CDATA);continue;case y.PROC_INST:"?"===n?this.state=y.PROC_INST_ENDING:g(n)?this.state=y.PROC_INST_BODY:this.procInstName+=n;continue;case y.PROC_INST_BODY:!this.procInstBody&&g(n)||("?"===n?this.state=y.PROC_INST_ENDING:this.procInstBody+=n);continue;case y.PROC_INST_ENDING:">"===n?(w(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=y.TEXT):(this.procInstBody+="?"+n,this.state=y.PROC_INST_BODY);continue;case y.OPEN_TAG:v(m,n)?this.tagName+=n:(!function(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,w(e,"onopentagstart",r)}(this),">"===n?A(this):"/"===n?this.state=y.OPEN_TAG_SLASH:(g(n)||O(this,"Invalid character in tag name"),this.state=y.ATTRIB));continue;case y.OPEN_TAG_SLASH:">"===n?(A(this,!0),N(this)):(O(this,"Forward-slash in opening tag not followed by >"),this.state=y.ATTRIB);continue;case y.ATTRIB:g(n)||(">"===n?A(this):"/"===n?this.state=y.OPEN_TAG_SLASH:v(p,n)?(this.attribName=n,this.attribValue="",this.state=y.ATTRIB_NAME):O(this,"Invalid attribute name"));continue;case y.ATTRIB_NAME:"="===n?this.state=y.ATTRIB_VALUE:">"===n?(O(this,"Attribute without value"),this.attribValue=this.attribName,T(this),A(this)):g(n)?this.state=y.ATTRIB_NAME_SAW_WHITE:v(m,n)?this.attribName+=n:O(this,"Invalid attribute name");continue;case y.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=y.ATTRIB_VALUE;else{if(g(n))continue;O(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",w(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?A(this):v(p,n)?(this.attribName=n,this.state=y.ATTRIB_NAME):(O(this,"Invalid attribute name"),this.state=y.ATTRIB)}continue;case y.ATTRIB_VALUE:g(n)||(_(n)?(this.q=n,this.state=y.ATTRIB_VALUE_QUOTED):(O(this,"Unquoted attribute value"),this.state=y.ATTRIB_VALUE_UNQUOTED,this.attribValue=n));continue;case y.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=y.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}T(this),this.q="",this.state=y.ATTRIB_VALUE_CLOSED;continue;case y.ATTRIB_VALUE_CLOSED:g(n)?this.state=y.ATTRIB:">"===n?A(this):"/"===n?this.state=y.OPEN_TAG_SLASH:v(p,n)?(O(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=y.ATTRIB_NAME):O(this,"Invalid attribute name");continue;case y.ATTRIB_VALUE_UNQUOTED:if(!(">"===(s=n)||g(s))){"&"===n?this.state=y.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}T(this),">"===n?A(this):this.state=y.ATTRIB;continue;case y.CLOSE_TAG:this.tagName?">"===n?N(this):v(m,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=y.SCRIPT):(g(n)||O(this,"Invalid tagname in closing tag"),this.state=y.CLOSE_TAG_SAW_WHITE):g(n)||(v(p,n)?this.tagName=n:this.script?(this.script+="</"+n,this.state=y.SCRIPT):O(this,"Invalid tagname in closing tag."));continue;case y.CLOSE_TAG_SAW_WHITE:if(g(n))continue;">"===n?N(this):O(this,"Invalid characters in closing tag");continue;case y.TEXT_ENTITY:case y.ATTRIB_VALUE_ENTITY_Q:case y.ATTRIB_VALUE_ENTITY_U:switch(this.state){case y.TEXT_ENTITY:o=y.TEXT,l="textNode";break;case y.ATTRIB_VALUE_ENTITY_Q:o=y.ATTRIB_VALUE_QUOTED,l="attribValue";break;case y.ATTRIB_VALUE_ENTITY_U:o=y.ATTRIB_VALUE_UNQUOTED,l="attribValue"}if(";"===n)if(this.opt.unparsedEntities){var s,o,l,u=j(this);this.entity="",this.state=o,this.write(u)}else this[l]+=j(this),this.entity="",this.state=o;else v(this.entity.length?f:h,n)?this.entity+=n:(O(this,"Invalid character in entity name"),this[l]+="&"+this.entity+n,this.entity="",this.state=o);continue;default:throw Error(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(r){for(var i=Math.max(e.MAX_BUFFER_LENGTH,10),n=0,a=0,s=t.length;a<s;a++){var o=r[t[a]].length;if(o>i)switch(t[a]){case"textNode":x(r);break;case"cdata":w(r,"oncdata",r.cdata),r.cdata="";break;case"script":w(r,"onscript",r.script),r.script="";break;default:I(r,"Max buffer length exceeded: "+t[a])}n=Math.max(n,o)}r.bufferCheckPosition=e.MAX_BUFFER_LENGTH-n+r.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){x(this),""!==this.cdata&&(w(this,"oncdata",this.cdata),this.cdata=""),""!==this.script&&(w(this,"onscript",this.script),this.script="")}};var i,n,a,s=ReadableStream;s||(s=function(){});var o=e.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function l(e,t){if(!(this instanceof l))return new l(e,t);s.apply(this),this._parser=new r(e,t),this.writable=!0,this.readable=!0;var i=this;this._parser.onend=function(){i.emit("end")},this._parser.onerror=function(e){i.emit("error",e),i._parser.error=null},this._decoder=null,o.forEach(function(e){Object.defineProperty(i,"on"+e,{get:function(){return i._parser["on"+e]},set:function(t){if(!t)return i.removeAllListeners(e),i._parser["on"+e]=t,t;i.on(e,t)},enumerable:!0,configurable:!1})})}l.prototype=Object.create(s.prototype,{constructor:{value:l}}),l.prototype.write=function(e){return this._parser.write(e.toString()),this.emit("data",e),!0},l.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},l.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===o.indexOf(e)||(r._parser["on"+e]=function(){var t=1==arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),s.prototype.on.call(r,e,t)};var u="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",c={xml:u,xmlns:d},p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(e){return" "===e||"\n"===e||"\r"===e||"	"===e}function _(e){return'"'===e||"'"===e}function v(e,t){return e.test(t)}var y=0;for(var b in e.STATE={BEGIN:y++,BEGIN_WHITESPACE:y++,TEXT:y++,TEXT_ENTITY:y++,OPEN_WAKA:y++,SGML_DECL:y++,SGML_DECL_QUOTED:y++,DOCTYPE:y++,DOCTYPE_QUOTED:y++,DOCTYPE_DTD:y++,DOCTYPE_DTD_QUOTED:y++,COMMENT_STARTING:y++,COMMENT:y++,COMMENT_ENDING:y++,COMMENT_ENDED:y++,CDATA:y++,CDATA_ENDING:y++,CDATA_ENDING_2:y++,PROC_INST:y++,PROC_INST_BODY:y++,PROC_INST_ENDING:y++,OPEN_TAG:y++,OPEN_TAG_SLASH:y++,ATTRIB:y++,ATTRIB_NAME:y++,ATTRIB_NAME_SAW_WHITE:y++,ATTRIB_VALUE:y++,ATTRIB_VALUE_QUOTED:y++,ATTRIB_VALUE_CLOSED:y++,ATTRIB_VALUE_UNQUOTED:y++,ATTRIB_VALUE_ENTITY_Q:y++,ATTRIB_VALUE_ENTITY_U:y++,CLOSE_TAG:y++,CLOSE_TAG_SAW_WHITE:y++,SCRIPT:y++,SCRIPT_ENDING:y++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(t){var r=e.ENTITIES[t],i="number"==typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=i}),e.STATE)e.STATE[e.STATE[b]]=b;function $(e,t,r){e[t]&&e[t](r)}function w(e,t,r){e.textNode&&x(e),$(e,t,r)}function x(e){e.textNode=k(e.opt,e.textNode),e.textNode&&$(e,"ontext",e.textNode),e.textNode=""}function k(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function I(e,t){return x(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),e.error=t=Error(t),$(e,"onerror",t),e}function S(e){return e.sawRoot&&!e.closedRoot&&O(e,"Unclosed root tag"),e.state!==y.BEGIN&&e.state!==y.BEGIN_WHITESPACE&&e.state!==y.TEXT&&I(e,"Unexpected end"),x(e),e.c="",e.closed=!0,$(e,"onend"),r.call(e,e.strict,e.opt),e}function O(e,t){if("object"!=typeof e||!(e instanceof r))throw Error("bad call to strictFail");e.strict&&I(e,t)}function E(e,t){var r=0>e.indexOf(":")?["",e]:e.split(":"),i=r[0],n=r[1];return t&&"xmlns"===e&&(i="xmlns",n=""),{prefix:i,local:n}}function T(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName)){e.attribName=e.attribValue="";return}if(e.opt.xmlns){var t=E(e.attribName,!0),r=t.prefix,i=t.local;if("xmlns"===r)if("xml"===i&&e.attribValue!==u)O(e,"xml: prefix must be bound to "+u+"\nActual: "+e.attribValue);else if("xmlns"===i&&e.attribValue!==d)O(e,"xmlns: prefix must be bound to "+d+"\nActual: "+e.attribValue);else{var n=e.tag,a=e.tags[e.tags.length-1]||e;n.ns===a.ns&&(n.ns=Object.create(a.ns)),n.ns[i]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,w(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}function A(e,t){if(e.opt.xmlns){var r=e.tag,i=E(e.tagName);r.prefix=i.prefix,r.local=i.local,r.uri=r.ns[i.prefix]||"",r.prefix&&!r.uri&&(O(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=i.prefix);var n=e.tags[e.tags.length-1]||e;r.ns&&n.ns!==r.ns&&Object.keys(r.ns).forEach(function(t){w(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var a=0,s=e.attribList.length;a<s;a++){var o=e.attribList[a],l=o[0],u=o[1],d=E(l,!0),c=d.prefix,p=d.local,m=""===c?"":r.ns[c]||"",h={name:l,value:u,prefix:c,local:p,uri:m};c&&"xmlns"!==c&&!m&&(O(e,"Unbound namespace prefix: "+JSON.stringify(c)),h.uri=c),e.tag.attributes[l]=h,w(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),w(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=y.TEXT:e.state=y.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function N(e){if(!e.tagName){O(e,"Weird empty close tag."),e.textNode+="</>",e.state=y.TEXT;return}if(e.script){if("script"!==e.tagName){e.script+="</"+e.tagName+">",e.tagName="",e.state=y.SCRIPT;return}w(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var i=r;t--;)if(e.tags[t].name!==i)O(e,"Unexpected close tag");else break;if(t<0){O(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",e.state=y.TEXT;return}e.tagName=r;for(var n=e.tags.length;n-- >t;){var a=e.tag=e.tags.pop();e.tagName=e.tag.name,w(e,"onclosetag",e.tagName);var s={};for(var o in a.ns)s[o]=a.ns[o];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&a.ns!==l.ns&&Object.keys(a.ns).forEach(function(t){var r=a.ns[t];w(e,"onclosenamespace",{prefix:t,uri:r})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=y.TEXT}function j(e){var t,r=e.entity,i=r.toLowerCase(),n="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[i]?e.ENTITIES[i]:("#"===(r=i).charAt(0)&&(n="x"===r.charAt(1)?(t=parseInt(r=r.slice(2),16)).toString(16):(t=parseInt(r=r.slice(1),10)).toString(10)),r=r.replace(/^0+/,""),isNaN(t)||n.toLowerCase()!==r)?(O(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t)}function P(e,t){"<"===t?(e.state=y.OPEN_WAKA,e.startTagPosition=e.position):g(t)||(O(e,"Non-whitespace before first tag."),e.textNode=t,e.state=y.TEXT)}function C(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}return y=e.STATE,String.fromCodePoint||(i=String.fromCharCode,n=Math.floor,a=function(){var e,t,r=[],a=-1,s=arguments.length;if(!s)return"";for(var o="";++a<s;){var l=Number(arguments[a]);if(!isFinite(l)||l<0||l>1114111||n(l)!==l)throw RangeError("Invalid code point: "+l);l<=65535?r.push(l):(l-=65536,e=(l>>10)+55296,t=l%1024+56320,r.push(e,t)),(a+1===s||r.length>16384)&&(o+=i.apply(null,r),r.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:a,configurable:!0,writable:!0}):String.fromCodePoint=a),e}(),gG=`The output should be formatted as a XML file.
1. Output should conform to the tags below. 
2. If tags are not given, make them on your own.
3. Remember to always open and close all the tags.

As an example, for the tags ["foo", "bar", "baz"]:
1. String "<foo>
   <bar>
      <baz></baz>
   </bar>
</foo>" is a well-formatted instance of the schema. 
2. String "<foo>
   <bar>
   </foo>" is a badly-formatted instance.
3. String "<foo>
   <tag>
   </tag>
</foo>" is a badly-formatted instance.

Here are the output tags:
\`\`\`
{tags}
\`\`\``;var gq=class extends gN{tags;constructor(e){super(e),this.tags=e?.tags}static lc_name(){return"XMLOutputParser"}lc_namespace=["langchain_core","output_parsers"];lc_serializable=!0;_diff(e,t){if(t)return e?(0,gj.compare)(e,t):[{op:"replace",path:"",value:t}]}async parsePartialResult(e){return gH(e[0].text)}async parse(e){return gH(e)}getFormatInstructions(){return this.tags&&this.tags.length>0?gG.replace("{tags}",this.tags?.join(", ")??""):gG}};let gK=e=>{if(0===Object.keys(e).length)return{};let t={};return e.children.length>0?t[e.name]=e.children.map(gK):t[e.name]=e.text??void 0,t};function gH(e){let t=e.split("\n").map(e=>e.replace(/^\s+/,"")).join("\n").trim(),r=gV.parser(!0),i={},n=[];r.onopentag=e=>{let t={name:e.name,attributes:e.attributes,children:[],text:"",isSelfClosing:e.isSelfClosing};n.length>0?n[n.length-1].children.push(t):i=t,e.isSelfClosing||n.push(t)},r.onclosetag=()=>{if(n.length>0){let e=n.pop();0===n.length&&e&&(i=e)}},r.ontext=e=>{if(n.length>0){let t=n[n.length-1];t.text+=e}},r.onattribute=e=>{n.length>0&&(n[n.length-1].attributes[e.name]=e.value)};let a=/```(xml)?(.*)```/s.exec(t),s=a?a[2]:t;return r.write(s).close(),i&&"?xml"===i.name&&(i=i.children[0]),gK(i)}function gX(e,t){let r;if(void 0===e.function)return;if(t?.partial)try{r=(0,gx.parsePartialJson)(e.function.arguments??"{}")}catch{return}else try{r=JSON.parse(e.function.arguments)}catch(t){throw new gE([`Function "${e.function.name}" arguments:`,"",e.function.arguments,"\nare not valid JSON.",`Error: ${t.message}`].join("\n"))}let i={name:e.function.name,args:r,type:"tool_call"};return t?.returnId&&(i.id=e.id),i}function gY(e){if(void 0===e.id)throw Error('All OpenAI tool calls must have an "id" field.');return{id:e.id,type:"function",function:{name:e.name,arguments:JSON.stringify(e.args)}}}function gQ(e,t){return{name:e.function?.name,args:e.function?.arguments,id:e.id,error:t,type:"invalid_tool_call"}}(0,iU.__export)({},{AsymmetricStructuredOutputParser:()=>gW,BaseCumulativeTransformOutputParser:()=>gN,BaseLLMOutputParser:()=>gS,BaseOutputParser:()=>gO,BaseTransformOutputParser:()=>gA,BytesOutputParser:()=>gZ,CommaSeparatedListOutputParser:()=>gU,CustomListOutputParser:()=>gR,JsonMarkdownStructuredOutputParser:()=>gJ,JsonOutputParser:()=>gC,ListOutputParser:()=>gz,MarkdownListOutputParser:()=>gL,NumberedListOutputParser:()=>gD,OutputParserException:()=>gE,StringOutputParser:()=>gM,StructuredOutputParser:()=>gB,XMLOutputParser:()=>gq,XML_FORMAT_INSTRUCTIONS:()=>gG,parseJsonMarkdown:()=>gx.parseJsonMarkdown,parsePartialJson:()=>gx.parsePartialJson,parseXMLMarkdown:()=>gH});var g0=class extends gN{static lc_name(){return"JsonOutputToolsParser"}returnId=!1;lc_namespace=["langchain","output_parsers","openai_tools"];lc_serializable=!0;constructor(e){super(e),this.returnId=e?.returnId??this.returnId}_diff(){throw Error("Not supported.")}async parse(){throw Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,t=!0){let r,i=e[0].message;if((0,fj.isAIMessage)(i)&&i.tool_calls?.length?r=i.tool_calls.map(e=>{let{id:t,...r}=e;return this.returnId?{id:t,...r}:r}):void 0!==i.additional_kwargs.tool_calls&&(r=JSON.parse(JSON.stringify(i.additional_kwargs.tool_calls)).map(e=>gX(e,{returnId:this.returnId,partial:t}))),!r)return[];let n=[];for(let e of r)if(void 0!==e){let t={type:e.name,args:e.args,id:e.id};n.push(t)}return n}},g1=class extends g0{static lc_name(){return"JsonOutputKeyToolsParser"}lc_namespace=["langchain","output_parsers","openai_tools"];lc_serializable=!0;returnId=!1;keyName;returnSingle=!1;zodSchema;constructor(e){super(e),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(void 0===this.zodSchema)return e;let t=await (0,iD.interopSafeParseAsync)(this.zodSchema,e);if(t.success)return t.data;throw new gE(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(t.error?.issues)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){let t=(await super.parsePartialResult(e)).filter(e=>e.type===this.keyName),r=t;if(t.length)return(this.returnId||(r=t.map(e=>e.args)),this.returnSingle)?r[0]:r}async parseResult(e){let t=(await super.parsePartialResult(e,!1)).filter(e=>e.type===this.keyName),r=t;return t.length?(this.returnId||(r=t.map(e=>e.args)),this.returnSingle)?this._validateResult(r[0]):await Promise.all(r.map(e=>this._validateResult(e))):void 0}};(0,iU.__export)({},{JsonOutputKeyToolsParser:()=>g1,JsonOutputToolsParser:()=>g0,convertLangChainToolCallToOpenAI:()=>gY,makeInvalidToolCall:()=>gQ,parseToolCall:()=>gX});var g4=class extends gh{temperature;topP;frequencyPenalty;presencePenalty;n;logitBias;model="gpt-3.5-turbo";modelKwargs;stop;stopSequences;user;timeout;streaming=!1;streamUsage=!0;maxTokens;logprobs;topLogprobs;apiKey;organization;__includeRawResponse;client;clientConfig;supportsStrictToolCalling;audio;modalities;reasoning;zdrEnabled;service_tier;promptCacheKey;verbosity;defaultOptions;_llmType(){return"openai"}static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed","reasoning","service_tier"]}lc_serializable=!0;get lc_secrets(){return{apiKey:"OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{apiKey:"openai_api_key",modelName:"model"}}get lc_serializable_keys(){return["configuration","logprobs","topLogprobs","prefixMessages","supportsStrictToolCalling","modalities","audio","temperature","maxTokens","topP","frequencyPenalty","presencePenalty","n","logitBias","user","streaming","streamUsage","model","modelName","modelKwargs","stop","stopSequences","timeout","apiKey","cache","maxConcurrency","maxRetries","verbose","callbacks","tags","metadata","disableStreaming","zdrEnabled","reasoning","promptCacheKey","verbosity"]}getLsParams(e){let t=this.invocationParams(e);return{ls_provider:"openai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:t.temperature??void 0,ls_max_tokens:t.max_tokens??void 0,ls_stop:e.stop}}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return this._identifyingParams()}constructor(e){super(e??{});const t="string"==typeof e?.configuration?.apiKey||"function"==typeof e?.configuration?.apiKey?e?.configuration?.apiKey:void 0;this.apiKey=e?.apiKey??t??(0,iN.getEnvironmentVariable)("OPENAI_API_KEY"),this.organization=e?.configuration?.organization??(0,iN.getEnvironmentVariable)("OPENAI_ORGANIZATION"),this.model=e?.model??e?.modelName??this.model,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.logprobs=e?.logprobs,this.topLogprobs=e?.topLogprobs,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.stop=e?.stopSequences??e?.stop,this.stopSequences=this.stop,this.user=e?.user,this.__includeRawResponse=e?.__includeRawResponse,this.audio=e?.audio,this.modalities=e?.modalities,this.reasoning=e?.reasoning,this.maxTokens=e?.maxCompletionTokens??e?.maxTokens,this.promptCacheKey=e?.promptCacheKey??this.promptCacheKey,this.verbosity=e?.verbosity??this.verbosity,this.disableStreaming=e?.disableStreaming===!0,this.streaming=e?.streaming===!0,this.disableStreaming&&(this.streaming=!1),e?.streaming===!1&&(this.disableStreaming=!0),this.streamUsage=e?.streamUsage??this.streamUsage,this.disableStreaming&&(this.streamUsage=!1),this.clientConfig={apiKey:this.apiKey,organization:this.organization,dangerouslyAllowBrowser:!0,...e?.configuration},e?.supportsStrictToolCalling!==void 0&&(this.supportsStrictToolCalling=e.supportsStrictToolCalling),e?.service_tier!==void 0&&(this.service_tier=e.service_tier),this.zdrEnabled=e?.zdrEnabled??!1}_getReasoningParams(e){let t;if(iT(this.model))return void 0!==this.reasoning&&(t={...t,...this.reasoning}),e?.reasoning!==void 0&&(t={...t,...e.reasoning}),t}_getResponseFormat(e){return e&&"json_schema"===e.type&&e.json_schema.schema&&(0,iD.isInteropZodSchema)(e.json_schema.schema)?function(e,t,r){if((0,iD.isZodSchemaV3)(e)){var i,n,a,s;let o;return a={type:"json_schema",json_schema:{...r,name:t,strict:!0,schema:"_zod"in e?function(e){var t=u7(e,{target:"draft-7"});if("object"!==t.type)throw Error(`Root schema must have type: 'object' but got type: ${t.type?`'${t.type}'`:"undefined"}`);let r=structuredClone(t);return function e(t,r,i){if("boolean"==typeof t)throw TypeError(`Expected object schema but got boolean; path=${r.join("/")}`);if(!fO(t))throw TypeError(`Expected ${JSON.stringify(t)} to be an object; path=${r.join("/")}`);let n=t.$defs;if(fO(n))for(let[t,a]of Object.entries(n))e(a,[...r,"$defs",t],i);let a=t.definitions;if(fO(a))for(let[t,n]of Object.entries(a))e(n,[...r,"definitions",t],i);"object"!==t.type||"additionalProperties"in t||(t.additionalProperties=!1);let s=t.required??[],o=t.properties;if(fO(o)){for(let[e,t]of Object.entries(o))if(!function e(t){if("boolean"==typeof t)return!1;if("null"===t.type)return!0;for(let r of t.oneOf??[])if(e(r))return!0;for(let r of t.anyOf??[])if(e(r))return!0;return!1}(t)&&!s.includes(e))throw Error(`Zod field at \`${[...r,"properties",e].join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required`);t.required=Object.keys(o),t.properties=Object.fromEntries(Object.entries(o).map(([t,n])=>[t,e(n,[...r,"properties",t],i)]))}let l=t.items;fO(l)&&(t.items=e(l,[...r,"items"],i));let u=t.anyOf;Array.isArray(u)&&(t.anyOf=u.map((t,n)=>e(t,[...r,"anyOf",String(n)],i)));let d=t.allOf;Array.isArray(d)&&(1===d.length?(Object.assign(t,e(d[0],[...r,"allOf","0"],i)),delete t.allOf):t.allOf=d.map((t,n)=>e(t,[...r,"allOf",String(n)],i))),null===t.default&&delete t.default;let c=t.$ref;if(c&&function(e,t){let r=0;for(let t in e)if(++r>1)return!0;return!1}(t,1)){if("string"!=typeof c)throw TypeError(`Received non-string $ref - ${c}; path=${r.join("/")}`);let n=function(e,t){if(!t.startsWith("#/"))throw Error(`Unexpected $ref format ${JSON.stringify(t)}; Does not start with #/`);let r=t.slice(2).split("/"),i=e;for(let e of r){if(!fO(i))throw Error(`encountered non-object entry while resolving ${t} - ${JSON.stringify(i)}`);let r=i[e];if(void 0===r)throw Error(`Key ${e} not found while resolving ${t}`);i=r}return i}(i,c);if("boolean"==typeof n)throw Error(`Expected \`$ref: ${c}\` to resolve to an object schema but got boolean`);if(!fO(n))throw Error(`Expected \`$ref: ${c}\` to resolve to an object but got ${JSON.stringify(n)}`);return Object.assign(t,{...n,...t}),delete t.$ref,e(t,r,i)}return t}(r,[],r)}(e):((e,t)=>{let r,i,n=(i=void 0!==(r="string"==typeof t?{...ml,basePath:["#"],definitions:{},name:t}:{...ml,basePath:["#"],definitions:{},...t}).name?[...r.basePath,r.definitionPath,r.name]:r.basePath,{...r,currentPath:i,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(r.definitions).map(([e,t])=>[mu(t),{def:mu(t),path:[...r.basePath,r.definitionPath,e],jsonSchema:void 0}]))}),a="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,s=fw(e._def,void 0===a?n:{...n,currentPath:[...n.basePath,n.definitionPath,a]},!1)??{},o="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==o&&(s.title=o);let l=(()=>{if(function(e){if(!e)return!0;for(let t in e)return!1;return!0}(n.definitions))return;let e={},t=new Set;for(let r=0;r<500;r++){let r=Object.entries(n.definitions).filter(([e])=>!t.has(e));if(0===r.length)break;for(let[i,a]of r)e[i]=fw(mu(a),{...n,currentPath:[...n.basePath,n.definitionPath,i]},!0)??{},t.add(i)}return e})(),u=void 0===a?l?{...s,[n.definitionPath]:l}:s:"duplicate-ref"===n.nameStrategy?{...s,...l||n.seenRefs.size?{[n.definitionPath]:{...l,...n.seenRefs.size?{[a]:s}:void 0}}:void 0}:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,a].join("/"),[n.definitionPath]:{...l,[a]:s}};return"jsonSchema7"===n.target?u.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===n.target&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),u})(e,{openaiStrictMode:!0,name:{name:t}.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}},s=t=>e.parse(JSON.parse(t)),Object.defineProperties(o={...a},{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:s,enumerable:!1}}),o}if((0,iD.isZodSchemaV4)(e)){let a;return i={type:"json_schema",json_schema:{...r,name:t,strict:!0,schema:u7(e,{cycles:"ref",reused:"ref",override(e){e.jsonSchema.title=t}})}},n=t=>ar(e,JSON.parse(t)),Object.defineProperties(a={...i},{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:n,enumerable:!1}}),a}throw Error("Unsupported schema response format")}(e.json_schema.schema,e.json_schema.name,{description:e.json_schema.description}):e}_combineCallOptions(e){return{...this.defaultOptions,...e??{}}}_getClientOptions(e){if(!this.client){let e=ij({baseURL:this.clientConfig.baseURL}),t={...this.clientConfig,baseURL:e,timeout:this.timeout,maxRetries:0};t.baseURL||delete t.baseURL,t.defaultHeaders=iz(t.defaultHeaders),this.client=new t8(t)}return{...this.clientConfig,...e}}_convertChatOpenAIToolToCompletionsTool(e,t){var r;let i;return iX(e)?{type:"custom",custom:{name:(r=e.metadata.customTool).name,description:r.description,format:(()=>{if(r.format){if("grammar"===r.format.type)return{type:"grammar",grammar:{definition:r.format.definition,syntax:r.format.syntax}};if("text"===r.format.type)return{type:"text"}}})()}}:ga(e)?t?.strict!==void 0?{...e,function:{...e.function,strict:t.strict}}:e:(i=iJ(e)?iV(e):e,t?.strict!==void 0&&(i.function.strict=t.strict),i)}bindTools(e,t){let r;return t?.strict!==void 0?r=t.strict:void 0!==this.supportsStrictToolCalling&&(r=this.supportsStrictToolCalling),this.withConfig({tools:e.map(e=>iH(e)||iX(e)?e:this._convertChatOpenAIToolToCompletionsTool(e,{strict:r})),...t})}async stream(e,t){return super.stream(e,this._combineCallOptions(t))}async invoke(e,t){return super.invoke(e,this._combineCallOptions(t))}_combineLLMOutput(...e){return e.reduce((e,t)=>(t&&t.tokenUsage&&(e.tokenUsage.completionTokens+=t.tokenUsage.completionTokens??0,e.tokenUsage.promptTokens+=t.tokenUsage.promptTokens??0,e.tokenUsage.totalTokens+=t.tokenUsage.totalTokens??0),e),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}async getNumTokensFromMessages(e){let t=0,r=0,i=0;"gpt-3.5-turbo-0301"===this.model?(r=4,i=-1):(r=3,i=1);let n=await Promise.all(e.map(async e=>{let n=await this.getNumTokens(e.content),a=await this.getNumTokens(iA(e)),s=void 0!==e.name?i+await this.getNumTokens(e.name):0,o=n+r+a+s;if("function"===e._getType()&&(o-=2),e.additional_kwargs?.function_call&&(o+=3),e?.additional_kwargs.function_call?.name&&(o+=await this.getNumTokens(e.additional_kwargs.function_call?.name)),e.additional_kwargs.function_call?.arguments)try{o+=await this.getNumTokens(JSON.stringify(JSON.parse(e.additional_kwargs.function_call?.arguments)))}catch(t){console.error("Error parsing function arguments",t,JSON.stringify(e.additional_kwargs.function_call)),o+=await this.getNumTokens(e.additional_kwargs.function_call?.arguments)}return t+=o,o}));return{totalCount:t+=3,countPerMessage:n}}async _getNumTokensFromGenerations(e){return(await Promise.all(e.map(async e=>e.message.additional_kwargs?.function_call?(await this.getNumTokensFromMessages([e.message])).countPerMessage[0]:await this.getNumTokens(e.message.content)))).reduce((e,t)=>e+t,0)}async _getEstimatedTokenCountFromPrompt(e,t,r){let i=(await this.getNumTokensFromMessages(e)).totalCount;if(t&&"auto"!==r){let e=function(e){let t=["namespace functions {",""];for(let r of e)r.description&&t.push(`// ${r.description}`),Object.keys(r.parameters.properties??{}).length>0?(t.push(`type ${r.name} = (_: {`),t.push(iG(r.parameters,0)),t.push("}) => any;")):t.push(`type ${r.name} = () => any;`),t.push("");return t.push("} // namespace functions"),t.join("\n")}(t);i+=await this.getNumTokens(e),i+=9}return t&&e.find(e=>"system"===e._getType())&&(i-=4),"none"===r?i+=1:"object"==typeof r&&(i+=await this.getNumTokens(r.name)+4),i}get profile(){return fT[this.model]??{}}_getStructuredOutputMethod(e){let t={...e};if(this.model.startsWith("gpt-3")||this.model.startsWith("gpt-4-")||"gpt-4"===this.model)"jsonSchema"===t.method&&console.warn(`[WARNING]: JSON Schema is not supported for model "${this.model}". Falling back to tool calling.`);else if(t?.method===void 0)return"jsonSchema";return t.method}withStructuredOutput(e,t){let r,i,{schema:n,name:a,includeRaw:s}={...t,schema:e};if(t?.strict!==void 0&&"jsonMode"===t.method)throw Error("Argument `strict` is only supported for `method` = 'function_calling'");let o=function(e,t){if(void 0!==t&&!fE.includes(t))throw Error(`Invalid method: ${t}. Supported methods are: ${fE.join(", ")}`);let r=!e.startsWith("gpt-3")&&!e.startsWith("gpt-4-")&&"gpt-4"!==e;if(r&&!t)return"jsonSchema";if(!r&&"jsonSchema"===t)throw Error(`JSON Schema is not supported for model "${e}". Please use a different method, e.g. "functionCalling" or "jsonMode".`);return t??"functionCalling"}(this.model,t?.method);if("jsonMode"===o){i=(0,iD.isInteropZodSchema)(n)?gB.fromZodSchema(n):new gC;let e=(0,iR.toJsonSchema)(n);r=this.withConfig({outputVersion:"v0",response_format:{type:"json_object"},ls_structured_output_format:{kwargs:{method:"json_mode"},schema:{title:a??"extract",...e}}})}else if("jsonSchema"===o){let e={name:a??"extract",description:(0,iD.getSchemaDescription)(n),schema:n,strict:t?.strict},s=(0,iR.toJsonSchema)(e.schema);if(r=this.withConfig({outputVersion:"v0",response_format:{type:"json_schema",json_schema:e},ls_structured_output_format:{kwargs:{method:"json_schema"},schema:{title:e.name,description:e.description,...s}}}),(0,iD.isInteropZodSchema)(n)){let e=gB.fromZodSchema(n);i=iL.RunnableLambda.from(t=>"parsed"in t.additional_kwargs?t.additional_kwargs.parsed:e)}else i=new gC}else{let e=a??"extract";if((0,iD.isInteropZodSchema)(n)){let a=(0,iR.toJsonSchema)(n);r=this.withConfig({outputVersion:"v0",tools:[{type:"function",function:{name:e,description:a.description,parameters:a}}],tool_choice:{type:"function",function:{name:e}},ls_structured_output_format:{kwargs:{method:"function_calling"},schema:{title:e,...a}},...t?.strict!==void 0?{strict:t.strict}:{}}),i=new g1({returnSingle:!0,keyName:e,zodSchema:n})}else{let a;"string"==typeof n.name&&"object"==typeof n.parameters&&null!=n.parameters?(a=n,e=n.name):a={name:e=n.title??e,description:n.description??"",parameters:n};let s=(0,iR.toJsonSchema)(n);r=this.withConfig({outputVersion:"v0",tools:[{type:"function",function:a}],tool_choice:{type:"function",function:{name:e}},ls_structured_output_format:{kwargs:{method:"function_calling"},schema:{title:e,...s}},...t?.strict!==void 0?{strict:t.strict}:{}}),i=new g1({returnSingle:!0,keyName:e})}}if(!s)return r.pipe(i);let l=gc.assign({parsed:(e,t)=>i.invoke(e.raw,t)}),u=gc.assign({parsed:()=>null}),d=l.withFallbacks({fallbacks:[u]});return iL.RunnableSequence.from([{raw:r},d])}};e.s(["BaseChatOpenAI",()=>g4],556941);var g6=e.i(622480),g2=e.i(211614),g9=e.i(771863);let g5={providerName:"ChatOpenAI",fromStandardTextBlock:e=>({type:"text",text:e.text}),fromStandardImageBlock(e){if("url"===e.source_type)return{type:"image_url",image_url:{url:e.url,...e.metadata?.detail?{detail:e.metadata.detail}:{}}};if("base64"===e.source_type)return{type:"image_url",image_url:{url:`data:${e.mime_type??""};base64,${e.data}`,...e.metadata?.detail?{detail:e.metadata.detail}:{}}};throw Error(`Image content blocks with source_type ${e.source_type} are not supported for ChatOpenAI`)},fromStandardAudioBlock(e){if("url"===e.source_type){let t,r=(0,fA.parseBase64DataUrl)({dataUrl:e.url});if(!r)throw Error(`URL audio blocks with source_type ${e.source_type} must be formatted as a data URL for ChatOpenAI`);let i=r.mime_type||e.mime_type||"";try{t=(0,fA.parseMimeType)(i)}catch{throw Error(`Audio blocks with source_type ${e.source_type} must have mime type of audio/wav or audio/mp3`)}if("audio"!==t.type||"wav"!==t.subtype&&"mp3"!==t.subtype)throw Error(`Audio blocks with source_type ${e.source_type} must have mime type of audio/wav or audio/mp3`);return{type:"input_audio",input_audio:{format:t.subtype,data:r.data}}}if("base64"===e.source_type){let t;try{t=(0,fA.parseMimeType)(e.mime_type??"")}catch{throw Error(`Audio blocks with source_type ${e.source_type} must have mime type of audio/wav or audio/mp3`)}if("audio"!==t.type||"wav"!==t.subtype&&"mp3"!==t.subtype)throw Error(`Audio blocks with source_type ${e.source_type} must have mime type of audio/wav or audio/mp3`);return{type:"input_audio",input_audio:{format:t.subtype,data:e.data}}}throw Error(`Audio content blocks with source_type ${e.source_type} are not supported for ChatOpenAI`)},fromStandardFileBlock(e){if("url"===e.source_type){if(!(0,fA.parseBase64DataUrl)({dataUrl:e.url}))throw Error(`URL file blocks with source_type ${e.source_type} must be formatted as a data URL for ChatOpenAI`);return{type:"file",file:{file_data:e.url,...e.metadata?.filename||e.metadata?.name?{filename:e.metadata?.filename||e.metadata?.name}:{}}}}if("base64"===e.source_type)return{type:"file",file:{file_data:`data:${e.mime_type??""};base64,${e.data}`,...e.metadata?.filename||e.metadata?.name||e.metadata?.title?{filename:e.metadata?.filename||e.metadata?.name||e.metadata?.title}:{}}};if("id"===e.source_type)return{type:"file",file:{file_id:e.id}};throw Error(`File content blocks with source_type ${e.source_type} are not supported for ChatOpenAI`)}},g3=({message:e,rawResponse:t,includeRawResponse:r})=>{let i=e.tool_calls;if("assistant"!==e.role)return new iO.ChatMessage(e.content||"",e.role??"unknown");{var n,a;let s=[],o=[];for(let e of i??[])try{s.push(gX(e,{returnId:!0}))}catch(t){o.push(gQ(e,t.message))}let l={function_call:e.function_call,tool_calls:i};void 0!==r&&(l.__raw_response=t);let u={model_provider:"openai",model_name:t.model,...t.system_fingerprint?{usage:{...t.usage},system_fingerprint:t.system_fingerprint}:{}};e.audio&&(l.audio=e.audio);let d=(n=e.content||"",(a=t.choices?.[0]?.message)&&"object"==typeof a&&"images"in a&&Array.isArray(a.images)?[{type:"text",text:n},...a.images.filter(e=>"string"==typeof e?.image_url?.url).map(e=>({type:"image",url:e.image_url.url}))]:n);return new fj.AIMessage({content:d,tool_calls:s,invalid_tool_calls:o,additional_kwargs:l,response_metadata:u,id:t.id})}},g8=({delta:e,rawResponse:t,includeRawResponse:r,defaultRole:i})=>{let n,a=e.role??i,s=e.content??"";n=e.function_call?{function_call:e.function_call}:e.tool_calls?{tool_calls:e.tool_calls}:{},r&&(n.__raw_response=t),e.audio&&(n.audio={...e.audio,index:t.choices[0].index});let o={model_provider:"openai",usage:{...t.usage}};if("user"===a)return new fM.HumanMessageChunk({content:s,response_metadata:o});if("assistant"===a){let r=[];if(Array.isArray(e.tool_calls))for(let t of e.tool_calls)r.push({name:t.function?.name,args:t.function?.arguments,id:t.id,index:t.index,type:"tool_call_chunk"});return new fj.AIMessageChunk({content:s,tool_call_chunks:r,additional_kwargs:n,id:t.id,response_metadata:o})}if("system"===a)return new g2.SystemMessageChunk({content:s,response_metadata:o});if("developer"===a)return new g2.SystemMessageChunk({content:s,response_metadata:o,additional_kwargs:{__openai_role__:"developer"}});if("function"===a)return new g6.FunctionMessageChunk({content:s,additional_kwargs:n,name:e.name,response_metadata:o});else if("tool"===a)return new g9.ToolMessageChunk({content:s,additional_kwargs:n,tool_call_id:e.tool_call_id,response_metadata:o});else return new iO.ChatMessageChunk({content:s,role:a,response_metadata:o})},g7=e=>{if("image"===e.type){if(e.url)return{type:"image_url",image_url:{url:e.url}};else if(e.data)return{type:"image_url",image_url:{url:`data:${e.mimeType};base64,${e.data}`}}}if("audio"===e.type&&e.data){let t=(0,fP.iife)(()=>{let[,t]=e.mimeType.split("/");return"wav"===t||"mp3"===t?t:"wav"});return{type:"input_audio",input_audio:{data:e.data.toString(),format:t}}}if("file"===e.type){if(e.data)return{type:"file",file:{file_data:e.data.toString()}};if(e.fileId)return{type:"file",file:{file_id:e.fileId}}}},_e=({message:e,model:t})=>{let r=iA(e);if("system"===r&&iT(t)&&(r="developer"),"developer"===r)return{role:"developer",content:e.contentBlocks.filter(e=>"text"===e.type)};if("system"===r)return{role:"system",content:e.contentBlocks.filter(e=>"text"===e.type)};if("assistant"===r)return{role:"assistant",content:e.contentBlocks.filter(e=>"text"===e.type)};if("tool"===r&&g9.ToolMessage.isInstance(e))return{role:"tool",tool_call_id:e.tool_call_id,content:e.contentBlocks.filter(e=>"text"===e.type)};if("function"===r)return{role:"function",name:e.name??"",content:e.contentBlocks.filter(e=>"text"===e.type).join("")};return{role:"user",content:Array.from(function*(e){for(let t of e){"text"===t.type&&(yield{type:"text",text:t.text});let e=g7(t);e&&(yield e)}}(e.contentBlocks))}},_t=({messages:e,model:t})=>e.flatMap(e=>{if("output_version"in e.response_metadata&&e.response_metadata?.output_version==="v1")return _e({message:e});let r=iA(e);"system"===r&&iT(t)&&(r="developer");let i={role:r,content:"string"==typeof e.content?e.content:e.content.map(e=>(0,fA.isDataContentBlock)(e)?(0,fA.convertToProviderContentBlock)(e,g5):e)};return(null!=e.name&&(i.name=e.name),null!=e.additional_kwargs.function_call&&(i.function_call=e.additional_kwargs.function_call,i.content=""),fj.AIMessage.isInstance(e)&&e.tool_calls?.length?(i.tool_calls=e.tool_calls.map(gY),i.content=""):(null!=e.additional_kwargs.tool_calls&&(i.tool_calls=e.additional_kwargs.tool_calls),g9.ToolMessage.isInstance(e)&&null!=e.tool_call_id&&(i.tool_call_id=e.tool_call_id)),e.additional_kwargs.audio&&"object"==typeof e.additional_kwargs.audio&&"id"in e.additional_kwargs.audio)?[i,{role:"assistant",audio:{id:e.additional_kwargs.audio.id}}]:i});e.s(["completionsApiContentBlockConverter",()=>g5,"convertCompletionsDeltaToBaseMessageChunk",()=>g8,"convertCompletionsMessageToBaseMessage",()=>g3,"convertMessagesToCompletionsMessageParams",()=>_t,"convertStandardContentBlockToCompletionsContentPart",()=>g7,"convertStandardContentMessageToCompletionsMessage",()=>_e],989205);var _r=class extends g4{invocationParams(e,t){let r;e?.strict!==void 0?r=e.strict:void 0!==this.supportsStrictToolCalling&&(r=this.supportsStrictToolCalling);let i={};e?.stream_options!==void 0?i={stream_options:e.stream_options}:this.streamUsage&&(this.streaming||t?.streaming)&&(i={stream_options:{include_usage:!0}});let n={model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:e?.stop??this.stopSequences,user:this.user,stream:this.streaming,functions:e?.functions,function_call:e?.function_call,tools:e?.tools?.length?e.tools.map(e=>this._convertChatOpenAIToolToCompletionsTool(e,{strict:r})):void 0,tool_choice:iK(e?.tool_choice),response_format:this._getResponseFormat(e?.response_format),seed:e?.seed,...i,parallel_tool_calls:e?.parallel_tool_calls,...this.audio||e?.audio?{audio:this.audio||e?.audio}:{},...this.modalities||e?.modalities?{modalities:this.modalities||e?.modalities}:{},...this.modelKwargs,prompt_cache_key:e?.promptCacheKey??this.promptCacheKey,verbosity:e?.verbosity??this.verbosity};e?.prediction!==void 0&&(n.prediction=e.prediction),void 0!==this.service_tier&&(n.service_tier=this.service_tier),e?.service_tier!==void 0&&(n.service_tier=e.service_tier);let a=this._getReasoningParams(e);return void 0!==a&&void 0!==a.effort&&(n.reasoning_effort=a.effort),iT(n.model)?n.max_completion_tokens=-1===this.maxTokens?void 0:this.maxTokens:n.max_tokens=-1===this.maxTokens?void 0:this.maxTokens,n}async _generate(e,t,r){let i={},n=this.invocationParams(t),a=_t({messages:e,model:this.model});if(n.stream){let n=this._streamResponseChunks(e,t,r),a={};for await(let e of n){e.message.response_metadata={...e.generationInfo,...e.message.response_metadata};let t=e.generationInfo?.completion??0;void 0===a[t]?a[t]=e:a[t]=a[t].concat(e)}let s=Object.entries(a).sort(([e],[t])=>parseInt(e,10)-parseInt(t,10)).map(([e,t])=>t),{functions:o,function_call:l}=this.invocationParams(t),u=await this._getEstimatedTokenCountFromPrompt(e,o,l),d=await this._getNumTokensFromGenerations(s);return i.input_tokens=u,i.output_tokens=d,i.total_tokens=u+d,{generations:s,llmOutput:{estimatedTokenUsage:{promptTokens:i.input_tokens,completionTokens:i.output_tokens,totalTokens:i.total_tokens}}}}{let e=await this.completionWithRetry({...n,stream:!1,messages:a},{signal:t?.signal,...t?.options}),{completion_tokens:r,prompt_tokens:s,total_tokens:o,prompt_tokens_details:l,completion_tokens_details:u}=e?.usage??{};r&&(i.output_tokens=(i.output_tokens??0)+r),s&&(i.input_tokens=(i.input_tokens??0)+s),o&&(i.total_tokens=(i.total_tokens??0)+o),(l?.audio_tokens!==null||l?.cached_tokens!==null)&&(i.input_token_details={...l?.audio_tokens!==null&&{audio:l?.audio_tokens},...l?.cached_tokens!==null&&{cache_read:l?.cached_tokens}}),(u?.audio_tokens!==null||u?.reasoning_tokens!==null)&&(i.output_token_details={...u?.audio_tokens!==null&&{audio:u?.audio_tokens},...u?.reasoning_tokens!==null&&{reasoning:u?.reasoning_tokens}});let d=[];for(let t of e?.choices??[]){let r={text:t.message?.content??"",message:this._convertCompletionsMessageToBaseMessage(t.message??{role:"assistant"},e)};r.generationInfo={...t.finish_reason?{finish_reason:t.finish_reason}:{},...t.logprobs?{logprobs:t.logprobs}:{}},(0,fj.isAIMessage)(r.message)&&(r.message.usage_metadata=i),r.message=new fj.AIMessage(Object.fromEntries(Object.entries(r.message).filter(([e])=>!e.startsWith("lc_")))),d.push(r)}return{generations:d,llmOutput:{tokenUsage:{promptTokens:i.input_tokens,completionTokens:i.output_tokens,totalTokens:i.total_tokens}}}}}async *_streamResponseChunks(e,t,r){let i,n,a=_t({messages:e,model:this.model}),s={...this.invocationParams(t,{streaming:!0}),messages:a,stream:!0};for await(let e of(await this.completionWithRetry(s,t))){let a=e?.choices?.[0];if(e.usage&&(n=e.usage),!a)continue;let{delta:s}=a;if(!s)continue;let o=this._convertCompletionsDeltaToBaseMessageChunk(s,e,i);i=s.role??i;let l={prompt:t.promptIndex??0,completion:a.index??0};if("string"!=typeof o.content){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}let u={...l};null!=a.finish_reason&&(u.finish_reason=a.finish_reason,u.system_fingerprint=e.system_fingerprint,u.model_name=e.model,u.service_tier=e.service_tier),this.logprobs&&(u.logprobs=a.logprobs);let d=new fU.ChatGenerationChunk({message:o,text:o.content,generationInfo:u});yield d,await r?.handleLLMNewToken(d.text??"",l,void 0,void 0,void 0,{chunk:d})}if(n){let e={...n.prompt_tokens_details?.audio_tokens!==null&&{audio:n.prompt_tokens_details?.audio_tokens},...n.prompt_tokens_details?.cached_tokens!==null&&{cache_read:n.prompt_tokens_details?.cached_tokens}},t={...n.completion_tokens_details?.audio_tokens!==null&&{audio:n.completion_tokens_details?.audio_tokens},...n.completion_tokens_details?.reasoning_tokens!==null&&{reasoning:n.completion_tokens_details?.reasoning_tokens}},r=new fU.ChatGenerationChunk({message:new fj.AIMessageChunk({content:"",response_metadata:{usage:{...n}},usage_metadata:{input_tokens:n.prompt_tokens,output_tokens:n.completion_tokens,total_tokens:n.total_tokens,...Object.keys(e).length>0&&{input_token_details:e},...Object.keys(t).length>0&&{output_token_details:t}}}),text:""});yield r}if(t.signal?.aborted)throw Error("AbortError")}async completionWithRetry(e,t){let r=this._getClientOptions(t),i=e.response_format&&"json_schema"===e.response_format.type;return this.caller.call(async()=>{try{if(i&&!e.stream)return await this.client.chat.completions.parse(e,r);return await this.client.chat.completions.create(e,r)}catch(e){throw rt(e)}})}_convertCompletionsDeltaToBaseMessageChunk(e,t,r){return g8({delta:e,rawResponse:t,includeRawResponse:this.__includeRawResponse,defaultRole:r})}_convertCompletionsMessageToBaseMessage(e,t){return g3({message:e,rawResponse:t,includeRawResponse:this.__includeRawResponse})}};e.s(["ChatOpenAICompletions",()=>_r],58239);let _i="__openai_function_call_ids__",_n=e=>{let t={...e?.input_tokens_details?.cached_tokens!=null&&{cache_read:e?.input_tokens_details?.cached_tokens}},r={...e?.output_tokens_details?.reasoning_tokens!=null&&{reasoning:e?.output_tokens_details?.reasoning_tokens}};return{input_tokens:e?.input_tokens??0,output_tokens:e?.output_tokens??0,total_tokens:e?.total_tokens??0,input_token_details:t,output_token_details:r}},_a=e=>{let t;if(e.error){let t=Error(e.error.message);throw t.name=e.error.code,t}let r=[],i=[],n=[],a={model_provider:"openai",model:e.model,created_at:e.created_at,id:e.id,incomplete_details:e.incomplete_details,metadata:e.metadata,object:e.object,status:e.status,user:e.user,service_tier:e.service_tier,model_name:e.model},s={};for(let a of e.output)if("message"===a.type)t=a.id,r.push(...a.content.flatMap(e=>"output_text"===e.type?("parsed"in e&&null!=e.parsed&&(s.parsed=e.parsed),{type:"text",text:e.text,annotations:e.annotations}):"refusal"===e.type?(s.refusal=e.refusal,[]):e));else if("function_call"===a.type){let e={function:{name:a.name,arguments:a.arguments},id:a.call_id};try{i.push(gX(e,{returnId:!0}))}catch(r){let t;"object"==typeof r&&null!=r&&"message"in r&&"string"==typeof r.message&&(t=r.message),n.push(gQ(e,t))}s[_i]??={},a.id&&(s[_i][a.call_id]=a.id)}else if("reasoning"===a.type)s.reasoning=a;else if("custom_tool_call"===a.type){let e=function(e){if("custom_tool_call"===e.type)return{...e,type:"tool_call",call_id:e.id,id:e.call_id,name:e.name,isCustomTool:!0,args:{input:e.input}}}(a);e?i.push(e):n.push(gQ(a,"Malformed custom tool call"))}else s.tool_outputs??=[],s.tool_outputs.push(a);return new fj.AIMessage({id:t,content:r,tool_calls:i,invalid_tool_calls:n,usage_metadata:_n(e.usage),additional_kwargs:s,response_metadata:a})},_s=e=>{let t=(e.summary.length>1?e.summary.reduce((e,t)=>{let r=e[e.length-1];return r.index===t.index?r.text+=t.text:e.push(t),e},[{...e.summary[0]}]):e.summary).map(e=>Object.fromEntries(Object.entries(e).filter(([e])=>"index"!==e)));return{...e,summary:t}},_o=e=>{let t,r,i=[],n={},a=[],s={model_provider:"openai"},o={};if("response.output_text.delta"===e.type)i.push({type:"text",text:e.delta,index:e.content_index});else if("response.output_text.annotation.added"===e.type)i.push({type:"text",text:"",annotations:[e.annotation],index:e.content_index});else if("response.output_item.added"===e.type&&"message"===e.item.type)r=e.item.id;else if("response.output_item.added"===e.type&&"function_call"===e.item.type)a.push({type:"tool_call_chunk",name:e.item.name,args:e.item.arguments,id:e.item.call_id,index:e.output_index}),o[_i]={[e.item.call_id]:e.item.id};else if("response.output_item.done"===e.type&&["web_search_call","file_search_call","computer_call","code_interpreter_call","mcp_call","mcp_list_tools","mcp_approval_request","image_generation_call","custom_tool_call"].includes(e.item.type))o.tool_outputs=[e.item];else if("response.created"===e.type)s.id=e.response.id,s.model_name=e.response.model,s.model=e.response.model;else if("response.completed"===e.type){let r=_a(e.response);for(let[i,n]of(t=_n(e.response.usage),e.response.text?.format?.type==="json_schema"&&(o.parsed??=JSON.parse(r.text)),Object.entries(e.response)))"id"!==i&&(s[i]=n)}else if("response.function_call_arguments.delta"===e.type||"response.custom_tool_call_input.delta"===e.type)a.push({type:"tool_call_chunk",args:e.delta,index:e.output_index});else if("response.web_search_call.completed"===e.type||"response.file_search_call.completed"===e.type)n={tool_outputs:{id:e.item_id,type:e.type.replace("response.","").replace(".completed",""),status:"completed"}};else if("response.refusal.done"===e.type)o.refusal=e.refusal;else if("response.output_item.added"===e.type&&"item"in e&&"reasoning"===e.item.type){let t=e.item.summary?e.item.summary.map((e,t)=>({...e,index:t})):void 0;o.reasoning={id:e.item.id,type:e.item.type,...t?{summary:t}:{}}}else if("response.reasoning_summary_part.added"===e.type)o.reasoning={type:"reasoning",summary:[{...e.part,index:e.summary_index}]};else if("response.reasoning_summary_text.delta"===e.type)o.reasoning={type:"reasoning",summary:[{text:e.delta,type:"summary_text",index:e.summary_index}]};else if("response.image_generation_call.partial_image"===e.type)return null;else return null;return new fU.ChatGenerationChunk({text:i.map(e=>e.text).join(""),message:new fj.AIMessageChunk({id:r,content:i,tool_call_chunks:a,usage_metadata:t,additional_kwargs:o,response_metadata:s}),generationInfo:n})},_l=e=>{let t=fj.AIMessage.isInstance(e)&&e.response_metadata?.model_provider==="openai";return Array.from(function*(){let r,i=iE(()=>{try{let t=iA(e);if("system"===t||"developer"===t||"assistant"===t||"user"===t)return t;return"assistant"}catch{return"assistant"}}),n=new Set,a=new Set,s=new Map,o=new Map;function*l(){if(!r)return;let e=r.content;("string"==typeof e&&e.length>0||Array.isArray(e)&&e.length>0)&&(yield r),r=void 0}let u=e=>{r||(r={type:"message",role:i,content:[]}),"string"==typeof r.content?r.content=r.content.length>0?[{type:"input_text",text:r.content},...e]:[...e]:r.content.push(...e)},d=e=>{if("string"==typeof e)return e;try{return JSON.stringify(e??{})}catch{return"{}"}},c=e=>{let t=iE(()=>{let t=e.metadata?.detail;return"low"===t||"high"===t||"auto"===t?t:"auto"});if(e.fileId)return{type:"input_image",detail:t,file_id:e.fileId};if(e.url)return{type:"input_image",detail:t,image_url:e.url};if(e.data){let r="string"==typeof e.data?e.data:Buffer.from(e.data).toString("base64"),i=e.mimeType??"image/png";return{type:"input_image",detail:t,image_url:`data:${i};base64,${r}`}}},p=e=>{let t=e.metadata?.filename??e.metadata?.name??e.metadata?.title;if(e.fileId&&"string"==typeof t)return{type:"input_file",file_id:e.fileId,...t?{filename:t}:{}};if(e.url&&"string"==typeof t)return{type:"input_file",file_url:e.url,...t?{filename:t}:{}};if(e.data&&"string"==typeof t){let r="string"==typeof e.data?e.data:Buffer.from(e.data).toString("base64"),i=e.mimeType??"application/octet-stream";return{type:"input_file",file_data:`data:${i};base64,${r}`,...t?{filename:t}:{}}}},m=e=>{let t=iE(()=>{if(Array.isArray(e.summary)){let t=e.summary,r=t?.map(e=>e?.text).filter(e=>"string"==typeof e)??[];if(r.length>0)return r}return e.reasoning?[e.reasoning]:[]}),r=t.length>0?t.map(e=>({type:"summary_text",text:e})):[{type:"summary_text",text:""}],i={type:"reasoning",id:e.id??"",summary:r};return e.reasoning&&(i.content=[{type:"reasoning_text",text:e.reasoning}]),i},h=e=>({type:"function_call",name:e.name??"",call_id:e.id??"",arguments:d(e.args)}),f=e=>{let t=d(e.output),r="success"===e.status?"completed":"error"===e.status?"incomplete":void 0;return{type:"function_call_output",call_id:e.toolCallId??"",output:t,...r?{status:r}:{}}};for(let r of e.contentBlocks)if("text"===r.type)u([{type:"input_text",text:r.text}]);else if("invalid_tool_call"===r.type);else if("reasoning"===r.type)yield*l(),yield m(r);else if("tool_call"===r.type){yield*l();let e=r.id??"";e&&(n.add(e),s.delete(e)),yield h(r)}else if("tool_call_chunk"===r.type){if(r.id){let e=s.get(r.id)??{name:r.name,args:[]};r.name&&(e.name=r.name),r.args&&e.args.push(r.args),s.set(r.id,e)}}else if("server_tool_call"===r.type){yield*l();let e=r.id??"";e&&(a.add(e),o.delete(e)),yield h(r)}else if("server_tool_call_chunk"===r.type){if(r.id){let e=o.get(r.id)??{name:r.name,args:[]};r.name&&(e.name=r.name),r.args&&e.args.push(r.args),o.set(r.id,e)}}else if("server_tool_call_result"===r.type)yield*l(),yield f(r);else if("audio"===r.type);else if("file"===r.type){let e=p(r);e&&u([e])}else if("image"===r.type){let e=c(r);e&&u([e])}else if("video"===r.type){let e=p(r);e&&u([e])}else"text-plain"===r.type?r.text&&u([{type:"input_text",text:r.text}]):"non_standard"===r.type&&t&&(yield*l(),yield r.value);for(let[e,t]of(yield*l(),s)){if(!e||n.has(e))continue;let r=t.args.join("");(t.name||r)&&(yield{type:"function_call",call_id:e,name:t.name??"",arguments:r})}for(let[e,t]of o){if(!e||a.has(e))continue;let r=t.args.join("");(t.name||r)&&(yield{type:"function_call",call_id:e,name:t.name??"",arguments:r})}}())},_u=({messages:e,zdrEnabled:t,model:r})=>e.flatMap(e=>{let i=e.response_metadata;if(i?.output_version==="v1")return _l(e);let n=e.additional_kwargs,a=iA(e);if("system"===a&&iT(r)&&(a="developer"),"function"===a)throw Error("Function messages are not supported in Responses API");if("tool"===a)return n?.type==="computer_call_output"?{type:"computer_call_output",output:(()=>{if("string"==typeof e.content)return{type:"computer_screenshot",image_url:e.content};if(Array.isArray(e.content)){let t=e.content.find(e=>"computer_screenshot"===e.type);if(t)return t;let r=e.content.find(e=>"image_url"===e.type);if(r)return{type:"computer_screenshot",image_url:"string"==typeof r.image_url?r.image_url:r.image_url.url}}throw Error("Invalid computer call output")})(),call_id:e.tool_call_id}:e.additional_kwargs?.customTool?{type:"custom_tool_call_output",call_id:e.tool_call_id,output:e.content}:{type:"function_call_output",call_id:e.tool_call_id,id:e.id?.startsWith("fc_")?e.id:void 0,output:"string"!=typeof e.content?JSON.stringify(e.content):e.content};if("assistant"===a){if(!t&&i?.output!=null&&Array.isArray(i?.output)&&i?.output.length>0&&i?.output.every(e=>"type"in e))return i?.output;let r=[];if(n?.reasoning&&!t){let e=_s(n.reasoning);r.push(e)}let{content:a}=e;n?.refusal&&("string"==typeof a&&(a=[{type:"output_text",text:a,annotations:[]}]),a=[...a,{type:"refusal",refusal:n.refusal}]),("string"==typeof a||a.length>0)&&r.push({type:"message",role:"assistant",...e.id&&!t&&e.id.startsWith("msg_")?{id:e.id}:{},content:iE(()=>"string"==typeof a?a:a.flatMap(e=>"text"===e.type?{type:"output_text",text:e.text,annotations:e.annotations??[]}:"output_text"===e.type||"refusal"===e.type?e:[]))});let s=n?.[_i];fj.AIMessage.isInstance(e)&&e.tool_calls?.length?r.push(...e.tool_calls.map(e=>"tool_call"===e.type&&"isCustomTool"in e&&!0===e.isCustomTool?{type:"custom_tool_call",id:e.call_id,call_id:e.id??"",input:e.args.input,name:e.name}:{type:"function_call",name:e.name,arguments:JSON.stringify(e.args),call_id:e.id,...!t?{id:s?.[e.id]}:{}})):n?.tool_calls&&r.push(...n.tool_calls.map(e=>({type:"function_call",name:e.function.name,call_id:e.id,arguments:e.function.arguments,...!t?{id:s?.[e.id]}:{}})));let o=i?.output?.length?i?.output:n.tool_outputs,l=["computer_call","mcp_call","code_interpreter_call","image_generation_call"];if(null!=o){let e=o?.filter(e=>l.includes(e.type));e.length>0&&r.push(...e)}return r}if("user"===a||"system"===a||"developer"===a){if("string"==typeof e.content)return{type:"message",role:a,content:e.content};let t=[],r=e.content.flatMap(e=>("mcp_approval_response"===e.type&&t.push({type:"mcp_approval_response",approval_request_id:e.approval_request_id,approve:e.approve}),(0,fA.isDataContentBlock)(e))?(0,fA.convertToProviderContentBlock)(e,g5):"text"===e.type?{type:"input_text",text:e.text}:"image_url"===e.type?{type:"input_image",image_url:iE(()=>"string"==typeof e.image_url?e.image_url:"object"==typeof e.image_url&&null!==e.image_url&&"url"in e.image_url?e.image_url.url:void 0),detail:iE(()=>"string"==typeof e.image_url?"auto":"object"==typeof e.image_url&&null!==e.image_url&&"detail"in e.image_url?e.image_url.detail:void 0)}:"input_text"===e.type||"input_image"===e.type||"input_file"===e.type?e:[]);return r.length>0&&t.push({type:"message",role:a,content:r}),t}return console.warn(`Unsupported role found when converting to OpenAI Responses API: ${a}`),[]});e.s(["convertMessagesToResponsesInput",()=>_u,"convertReasoningSummaryToResponsesReasoningItem",()=>_s,"convertResponsesDeltaToChatGenerationChunk",()=>_o,"convertResponsesMessageToAIMessage",()=>_a,"convertResponsesUsageToUsageMetadata",()=>_n,"convertStandardContentMessageToResponsesInput",()=>_l],146748);var _d=class extends g4{invocationParams(e){var t;let r;e?.strict!==void 0?r=e.strict:void 0!==this.supportsStrictToolCalling&&(r=this.supportsStrictToolCalling);let i={model:this.model,temperature:this.temperature,top_p:this.topP,user:this.user,stream:this.streaming,previous_response_id:e?.previous_response_id,truncation:e?.truncation,include:e?.include,tools:e?.tools?.length?this._reduceChatOpenAITools(e.tools,{stream:this.streaming,strict:r}):void 0,tool_choice:null!=(t=e?.tool_choice)&&"object"==typeof t&&"type"in t&&"function"!==t.type?e?.tool_choice:(()=>{let t=iK(e?.tool_choice);if("object"==typeof t&&"type"in t){if("function"===t.type)return{type:"function",name:t.function.name};else if("allowed_tools"===t.type)return{type:"allowed_tools",mode:t.allowed_tools.mode,tools:t.allowed_tools.tools};else if("custom"===t.type)return{type:"custom",name:t.custom.name}}})(),text:(()=>{if(e?.text)return e.text;let t=this._getResponseFormat(e?.response_format);return t?.type==="json_schema"?null!=t.json_schema.schema?{format:{type:"json_schema",schema:t.json_schema.schema,description:t.json_schema.description,name:t.json_schema.name,strict:t.json_schema.strict},verbosity:e?.verbosity}:void 0:{format:t,verbosity:e?.verbosity}})(),parallel_tool_calls:e?.parallel_tool_calls,max_output_tokens:-1===this.maxTokens?void 0:this.maxTokens,prompt_cache_key:e?.promptCacheKey??this.promptCacheKey,...this.zdrEnabled?{store:!1}:{},...this.modelKwargs},n=this._getReasoningParams(e);return void 0!==n&&(i.reasoning=n),i}async _generate(e,t){let r=this.invocationParams(t);if(r.stream){let r;for await(let i of this._streamResponseChunks(e,t))i.message.response_metadata={...i.generationInfo,...i.message.response_metadata},r=r?.concat(i)??i;return{generations:r?[r]:[],llmOutput:{estimatedTokenUsage:r?.message?.usage_metadata}}}{let i=await this.completionWithRetry({input:_u({messages:e,zdrEnabled:this.zdrEnabled??!1,model:this.model}),...r,stream:!1},{signal:t?.signal,...t?.options});return{generations:[{text:i.output_text,message:_a(i)}],llmOutput:{id:i.id,estimatedTokenUsage:i.usage?{promptTokens:i.usage.input_tokens,completionTokens:i.usage.output_tokens,totalTokens:i.usage.total_tokens}:void 0}}}}async *_streamResponseChunks(e,t,r){for await(let i of(await this.completionWithRetry({...this.invocationParams(t),input:_u({messages:e,zdrEnabled:this.zdrEnabled??!1,model:this.model}),stream:!0},t))){let e=_o(i);null!=e&&(yield e,await r?.handleLLMNewToken(e.text||"",{prompt:t.promptIndex??0,completion:0},void 0,void 0,void 0,{chunk:e}))}}async completionWithRetry(e,t){return this.caller.call(async()=>{let r=this._getClientOptions(t);try{if(e.text?.format?.type==="json_schema"&&!e.stream)return await this.client.responses.parse(e,r);return await this.client.responses.create(e,r)}catch(e){throw rt(e)}})}_reduceChatOpenAITools(e,t){let r=[];for(let i of e)if(iH(i))"image_generation"===i.type&&t?.stream&&(i.partial_images=1),r.push(i);else if(iX(i)){let e=i.metadata.customTool;r.push({type:"custom",name:e.name,description:e.description,format:e.format})}else ga(i)?r.push({type:"function",name:i.function.name,parameters:i.function.parameters,description:i.function.description,strict:t?.strict??null}):iY(i)&&r.push(function(e){return{type:"custom",name:e.custom.name,description:e.custom.description,format:(()=>{if(e.custom.format){if("grammar"===e.custom.format.type)return{type:"grammar",definition:e.custom.format.grammar.definition,syntax:e.custom.format.grammar.syntax};if("text"===e.custom.format.type)return{type:"text"}}})()}}(i));return r}};e.s(["ChatOpenAIResponses",()=>_d],480690);var _c=class e extends g4{useResponsesApi=!1;responses;completions;get lc_serializable_keys(){return[...super.lc_serializable_keys,"useResponsesApi"]}get callKeys(){return[...super.callKeys,"useResponsesApi"]}constructor(e){super(e),this.fields=e,this.useResponsesApi=e?.useResponsesApi??!1,this.responses=e?.responses??new _d(e),this.completions=e?.completions??new _r(e)}_useResponsesApi(e){let t=e?.tools?.some(iH),r=e?.previous_response_id!=null||e?.text!=null||e?.truncation!=null||e?.include!=null||e?.reasoning?.summary!=null||this.reasoning?.summary!=null,i=e?.tools?.some(iY)||e?.tools?.some(iX);return this.useResponsesApi||t||r||i}getLsParams(e){let t=this._combineCallOptions(e);return this._useResponsesApi(e)?this.responses.getLsParams(t):this.completions.getLsParams(t)}invocationParams(e){let t=this._combineCallOptions(e);return this._useResponsesApi(e)?this.responses.invocationParams(t):this.completions.invocationParams(t)}async _generate(e,t,r){return this._useResponsesApi(t)?this.responses._generate(e,t):this.completions._generate(e,t,r)}async *_streamResponseChunks(e,t,r){this._useResponsesApi(t)?yield*this.responses._streamResponseChunks(e,this._combineCallOptions(t),r):yield*this.completions._streamResponseChunks(e,this._combineCallOptions(t),r)}withConfig(t){let r=new e(this.fields);return r.defaultOptions={...this.defaultOptions,...t},r}};e.s(["ChatOpenAI",()=>_c],940849)},152914,437871,e=>{"use strict";var t,r=e.i(891489);e.i(687751);var i=e.i(778759);e.i(556941),e.i(989205);var n=e.i(58239);e.i(611691);var a=e.i(807965),s=e.i(496827);n.ChatOpenAICompletions,e.i(146748);var o=e.i(480690);(o.ChatOpenAIResponses,e.i(940849)).ChatOpenAI;var l=e.i(136518),u=e.i(976044),d=e.i(881892),c=e.i(675736),p=e.i(662394),m=e.i(206696),h=e.i(890406),f=d;(0,c.__export)({},{BaseLLM:()=>g,LLM:()=>_});var g=class e extends f.BaseLanguageModel{lc_namespace=["langchain","llms",this._llmType()];async invoke(t,r){let i=e._convertInputToPromptValue(t);return(await this.generatePrompt([i],r,r?.callbacks)).generations[0][0].text}async *_streamResponseChunks(e,t,r){throw Error("Not implemented.")}_separateRunnableConfigFromCallOptionsCompat(e){let[t,r]=super._separateRunnableConfigFromCallOptions(e);return r.signal=t.signal,[t,r]}async *_streamIterator(t,r){if(this._streamResponseChunks===e.prototype._streamResponseChunks)yield this.invoke(t,r);else{let i=e._convertInputToPromptValue(t),[n,a]=this._separateRunnableConfigFromCallOptionsCompat(r),s=await m.CallbackManager.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),o={options:a,invocation_params:this?.invocationParams(a),batch_size:1},l=await s?.handleLLMStart(this.toJSON(),[i.toString()],n.runId,void 0,o,void 0,void 0,n.runName),d=new u.GenerationChunk({text:""});try{for await(let e of this._streamResponseChunks(i.toString(),a,l?.[0]))d=d?d.concat(e):e,"string"==typeof e.text&&(yield e.text)}catch(e){throw await Promise.all((l??[]).map(t=>t?.handleLLMError(e))),e}await Promise.all((l??[]).map(e=>e?.handleLLMEnd({generations:[[d]]})))}}async generatePrompt(e,t,r){let i=e.map(e=>e.toString());return this.generate(i,t,r)}invocationParams(e){return{}}_flattenLLMResult(e){let t=[];for(let r=0;r<e.generations.length;r+=1){let i=e.generations[r];if(0===r)t.push({generations:[i],llmOutput:e.llmOutput});else{let r=e.llmOutput?{...e.llmOutput,tokenUsage:{}}:void 0;t.push({generations:[i],llmOutput:r})}}return t}async _generateUncached(t,r,i,n){let a,s;if(void 0!==n&&n.length===t.length)a=n;else{let e=await m.CallbackManager.configure(i.callbacks,this.callbacks,i.tags,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),n={options:r,invocation_params:this?.invocationParams(r),batch_size:t.length};a=await e?.handleLLMStart(this.toJSON(),t,i.runId,void 0,n,void 0,void 0,i?.runName)}if(a?.[0].handlers.find(p.callbackHandlerPrefersStreaming)&&1===t.length&&this._streamResponseChunks!==e.prototype._streamResponseChunks)try{let e;for await(let i of(await this._streamResponseChunks(t[0],r,a?.[0])))e=void 0===e?i:(0,h.concat)(e,i);if(void 0===e)throw Error("Received empty response from chat model call.");s={generations:[[e]],llmOutput:{}},await a?.[0].handleLLMEnd(s)}catch(e){throw await a?.[0].handleLLMError(e),e}else{try{s=await this._generate(t,r,a?.[0])}catch(e){throw await Promise.all((a??[]).map(t=>t?.handleLLMError(e))),e}let e=this._flattenLLMResult(s);await Promise.all((a??[]).map((t,r)=>t?.handleLLMEnd(e[r])))}let o=a?.map(e=>e.runId)||void 0;return Object.defineProperty(s,u.RUN_KEY,{value:o?{runIds:o}:void 0,configurable:!0}),s}async _generateCached({prompts:e,cache:t,llmStringKey:r,parsedOptions:i,handledOptions:n,runId:a}){let s=await m.CallbackManager.configure(n.callbacks,this.callbacks,n.tags,this.tags,n.metadata,this.metadata,{verbose:this.verbose}),o={options:i,invocation_params:this?.invocationParams(i),batch_size:e.length},l=await s?.handleLLMStart(this.toJSON(),e,a,void 0,o,void 0,void 0,n?.runName),d=[],c=(await Promise.allSettled(e.map(async(e,i)=>{let n=await t.lookup(e,r);return null==n&&d.push(i),n}))).map((e,t)=>({result:e,runManager:l?.[t]})).filter(({result:e})=>"fulfilled"===e.status&&null!=e.value||"rejected"===e.status),p=[];await Promise.all(c.map(async({result:e,runManager:t},r)=>{if("fulfilled"!==e.status)return await t?.handleLLMError(e.reason,void 0,void 0,void 0,{cached:!0}),Promise.reject(e.reason);{let i=e.value;return p[r]=i.map(e=>(e.generationInfo={...e.generationInfo,tokenUsage:{}},e)),i.length&&await t?.handleLLMNewToken(i[0].text),t?.handleLLMEnd({generations:[i]},void 0,void 0,void 0,{cached:!0})}}));let h={generations:p,missingPromptIndices:d,startedRunManagers:l};return Object.defineProperty(h,u.RUN_KEY,{value:l?{runIds:l?.map(e=>e.runId)}:void 0,configurable:!0}),h}async generate(e,t,r){let i;if(!Array.isArray(e))throw Error("Argument 'prompts' is expected to be a string[]");i=Array.isArray(t)?{stop:t}:t;let[n,a]=this._separateRunnableConfigFromCallOptionsCompat(i);if(n.callbacks=n.callbacks??r,!this.cache)return this._generateUncached(e,a,n);let{cache:s}=this,o=this._getSerializedCacheKeyParametersForCall(a),{generations:l,missingPromptIndices:u,startedRunManagers:d}=await this._generateCached({prompts:e,cache:s,llmStringKey:o,parsedOptions:a,handledOptions:n,runId:n.runId}),c={};if(u.length>0){let t=await this._generateUncached(u.map(t=>e[t]),a,n,void 0!==d?u.map(e=>d?.[e]):void 0);await Promise.all(t.generations.map(async(t,r)=>{let i=u[r];return l[i]=t,s.update(e[i],o,t)})),c=t.llmOutput??{}}return{generations:l,llmOutput:c}}_identifyingParams(){return{}}_modelType(){return"base_llm"}},_=class extends g{async _generate(e,t,r){return{generations:await Promise.all(e.map((e,i)=>this._call(e,{...t,promptIndex:i},r).then(e=>[{text:e}])))}}};(0,c.__export)({},{chunkArray:()=>v});let v=(e,t)=>e.reduce((e,r,i)=>{let n=Math.floor(i/t),a=e[n]||[];return e[n]=a.concat([r]),e},[]);var y=e.i(664527);(0,c.__export)({},{Embeddings:()=>b});var b=class{caller;constructor(e){this.caller=new y.AsyncCaller(e??{})}},$=class extends b{model="text-embedding-ada-002";modelName;batchSize=512;stripNewLines=!0;dimensions;timeout;organization;encodingFormat;client;clientConfig;apiKey;constructor(e){const t={maxConcurrency:2,...e};super(t);const r=t?.apiKey??t?.openAIApiKey??(0,s.getEnvironmentVariable)("OPENAI_API_KEY");this.organization=t?.configuration?.organization??(0,s.getEnvironmentVariable)("OPENAI_ORGANIZATION"),this.model=t?.model??t?.modelName??this.model,this.modelName=this.model,this.batchSize=t?.batchSize??this.batchSize,this.stripNewLines=t?.stripNewLines??this.stripNewLines,this.timeout=t?.timeout,this.dimensions=t?.dimensions,this.encodingFormat=t?.encodingFormat,this.clientConfig={apiKey:r,organization:this.organization,dangerouslyAllowBrowser:!0,...e?.configuration}}async embedDocuments(e){let t=v(this.stripNewLines?e.map(e=>e.replace(/\n/g," ")):e,this.batchSize),r=t.map(e=>{let t={model:this.model,input:e};return this.dimensions&&(t.dimensions=this.dimensions),this.encodingFormat&&(t.encoding_format=this.encodingFormat),this.embeddingWithRetry(t)}),i=await Promise.all(r),n=[];for(let e=0;e<i.length;e+=1){let r=t[e],{data:a}=i[e];for(let e=0;e<r.length;e+=1)n.push(a[e].embedding)}return n}async embedQuery(e){let t={model:this.model,input:this.stripNewLines?e.replace(/\n/g," "):e};this.dimensions&&(t.dimensions=this.dimensions),this.encodingFormat&&(t.encoding_format=this.encodingFormat);let{data:r}=await this.embeddingWithRetry(t);return r[0].embedding}async embeddingWithRetry(e){if(!this.client){let e={baseURL:this.clientConfig.baseURL},t=(0,i.getEndpoint)(e),r={...this.clientConfig,baseURL:t,timeout:this.timeout,maxRetries:0};r.baseURL||delete r.baseURL,r.defaultHeaders=(0,i.getHeadersWithUserAgent)(r.defaultHeaders),this.client=new l.OpenAI(r)}let t={};return this.caller.call(async()=>{try{return await this.client.embeddings.create(e,t)}catch(e){throw(0,r.wrapOpenAIClientError)(e)}})}};e.s(["OpenAIEmbeddings",()=>$],437871);var w=e.i(771863),x=e.i(642416),k=e.i(200587);e.i(869070);var I=e.i(640516),S=e.i(115995),O=e.i(238073),E=e.i(785337),T=d,A=e.i(647779);e.i(529515);var N=e.i(827599);e.i(262144);var j=e.i(370536);e.i(359799),e.s(["ZodAny",()=>tx,"ZodArray",()=>tP,"ZodBase64",()=>eQ,"ZodBase64URL",()=>e1,"ZodBigInt",()=>tp,"ZodBigIntFormat",()=>th,"ZodBoolean",()=>td,"ZodCIDRv4",()=>eK,"ZodCIDRv6",()=>eX,"ZodCUID",()=>eP,"ZodCUID2",()=>eZ,"ZodCatch",()=>rm,"ZodCodec",()=>ry,"ZodCustom",()=>rN,"ZodCustomStringFormat",()=>e3,"ZodDate",()=>tN,"ZodDefault",()=>ra,"ZodDiscriminatedUnion",()=>tF,"ZodE164",()=>e6,"ZodEmail",()=>e_,"ZodEmoji",()=>eT,"ZodEnum",()=>t1,"ZodFile",()=>t5,"ZodFunction",()=>rT,"ZodGUID",()=>ey,"ZodIPv4",()=>eB,"ZodIPv6",()=>eG,"ZodIntersection",()=>tJ,"ZodJWT",()=>e9,"ZodKSUID",()=>eM,"ZodLazy",()=>rI,"ZodLiteral",()=>t2,"ZodMAC",()=>eW,"ZodMap",()=>tX,"ZodNaN",()=>rf,"ZodNanoID",()=>eN,"ZodNever",()=>tO,"ZodNonOptional",()=>ru,"ZodNull",()=>t$,"ZodNullable",()=>rr,"ZodNumber",()=>tr,"ZodNumberFormat",()=>tn,"ZodObject",()=>tz,"ZodOptional",()=>re,"ZodPipe",()=>r_,"ZodPrefault",()=>ro,"ZodPromise",()=>rO,"ZodReadonly",()=>r$,"ZodRecord",()=>tq,"ZodSet",()=>tQ,"ZodString",()=>eh,"ZodStringFormat",()=>eg,"ZodSuccess",()=>rc,"ZodSymbol",()=>t_,"ZodTemplateLiteral",()=>rx,"ZodTransform",()=>t8,"ZodTuple",()=>tV,"ZodType",()=>ep,"ZodULID",()=>eU,"ZodURL",()=>eS,"ZodUUID",()=>e$,"ZodUndefined",()=>ty,"ZodUnion",()=>tL,"ZodUnknown",()=>tI,"ZodVoid",()=>tT,"ZodXID",()=>eD,"_ZodString",()=>em,"_default",()=>rs,"_function",()=>rA,"any",()=>tk,"array",()=>tC,"base64",()=>e0,"base64url",()=>e4,"bigint",()=>tm,"boolean",()=>tc,"catch",()=>rh,"check",()=>rj,"cidrv4",()=>eH,"cidrv6",()=>eY,"codec",()=>rb,"cuid",()=>eC,"cuid2",()=>ez,"custom",()=>rP,"date",()=>tj,"describe",()=>rz,"discriminatedUnion",()=>tB,"e164",()=>e2,"email",()=>ev,"emoji",()=>eA,"enum",()=>t4,"file",()=>t3,"float32",()=>ts,"float64",()=>to,"function",()=>rA,"guid",()=>eb,"hash",()=>tt,"hex",()=>te,"hostname",()=>e7,"httpUrl",()=>eE,"instanceof",()=>rR,"int",()=>ta,"int32",()=>tl,"int64",()=>tf,"intersection",()=>tW,"ipv4",()=>eJ,"ipv6",()=>eq,"json",()=>rL,"jwt",()=>e5,"keyof",()=>tZ,"ksuid",()=>eF,"lazy",()=>rS,"literal",()=>t9,"looseObject",()=>tD,"mac",()=>eV,"map",()=>tY,"meta",()=>rU,"nan",()=>rg,"nanoid",()=>ej,"nativeEnum",()=>t6,"never",()=>tE,"nonoptional",()=>rd,"null",()=>tw,"nullable",()=>ri,"nullish",()=>rn,"number",()=>ti,"object",()=>tU,"optional",()=>rt,"partialRecord",()=>tH,"pipe",()=>rv,"prefault",()=>rl,"preprocess",()=>rM,"promise",()=>rE,"readonly",()=>rw,"record",()=>tK,"refine",()=>rC,"set",()=>t0,"strictObject",()=>tR,"string",()=>ef,"stringFormat",()=>e8,"stringbool",()=>rD,"success",()=>rp,"superRefine",()=>rZ,"symbol",()=>tv,"templateLiteral",()=>rk,"transform",()=>t7,"tuple",()=>tG,"uint32",()=>tu,"uint64",()=>tg,"ulid",()=>eR,"undefined",()=>tb,"union",()=>tM,"unknown",()=>tS,"url",()=>eO,"uuid",()=>ew,"uuidv4",()=>ex,"uuidv6",()=>ek,"uuidv7",()=>eI,"void",()=>tA,"xid",()=>eL],810521);var P=e.i(668508),C=e.i(84850),Z=e.i(989295),z=e.i(862292),U=e.i(519886),U=U,R=e.i(324902),D=e.i(322473);e.s([],339606);e.s(["ZodISODate",()=>F,"ZodISODateTime",()=>L,"ZodISODuration",()=>V,"ZodISOTime",()=>J,"date",()=>B,"datetime",()=>M,"duration",()=>G,"time",()=>W],777081);let L=P.$constructor("ZodISODateTime",(e,t)=>{C.$ZodISODateTime.init(e,t),eg.init(e,t)});function M(e){return z._isoDateTime(L,e)}let F=P.$constructor("ZodISODate",(e,t)=>{C.$ZodISODate.init(e,t),eg.init(e,t)});function B(e){return z._isoDate(F,e)}let J=P.$constructor("ZodISOTime",(e,t)=>{C.$ZodISOTime.init(e,t),eg.init(e,t)});function W(e){return z._isoTime(J,e)}let V=P.$constructor("ZodISODuration",(e,t)=>{C.$ZodISODuration.init(e,t),eg.init(e,t)});function G(e){return z._isoDuration(V,e)}var q=e.i(759523),K=e.i(240727),H=e.i(23768);let X=(e,t)=>{K.$ZodError.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>K.formatError(e,t)},flatten:{value:t=>K.flattenError(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,H.jsonStringifyReplacer,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,H.jsonStringifyReplacer,2)}},isEmpty:{get:()=>0===e.issues.length}})},Y=P.$constructor("ZodError",X),Q=P.$constructor("ZodError",X,{Parent:Error});e.s(["ZodError",0,Y,"ZodRealError",0,Q],384673);let ee=q._parse(Q),et=q._parseAsync(Q),er=q._safeParse(Q),ei=q._safeParseAsync(Q),en=q._encode(Q),ea=q._decode(Q),es=q._encodeAsync(Q),eo=q._decodeAsync(Q),el=q._safeEncode(Q),eu=q._safeDecode(Q),ed=q._safeEncodeAsync(Q),ec=q._safeDecodeAsync(Q);e.s(["decode",0,ea,"decodeAsync",0,eo,"encode",0,en,"encodeAsync",0,es,"parse",0,ee,"parseAsync",0,et,"safeDecode",0,eu,"safeDecodeAsync",0,ec,"safeEncode",0,el,"safeEncodeAsync",0,ed,"safeParse",0,er,"safeParseAsync",0,ei],166934);let ep=P.$constructor("ZodType",(e,t)=>(C.$ZodType.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(D.util.mergeDefs(t,{checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,r)=>C.clone(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>ee(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>er(e,t,r),e.parseAsync=async(t,r)=>et(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>ei(e,t,r),e.spa=e.safeParseAsync,e.encode=(t,r)=>en(e,t,r),e.decode=(t,r)=>ea(e,t,r),e.encodeAsync=async(t,r)=>es(e,t,r),e.decodeAsync=async(t,r)=>eo(e,t,r),e.safeEncode=(t,r)=>el(e,t,r),e.safeDecode=(t,r)=>eu(e,t,r),e.safeEncodeAsync=async(t,r)=>ed(e,t,r),e.safeDecodeAsync=async(t,r)=>ec(e,t,r),e.refine=(t,r)=>e.check(rC(t,r)),e.superRefine=t=>e.check(rZ(t)),e.overwrite=t=>e.check(z._overwrite(t)),e.optional=()=>rt(e),e.nullable=()=>ri(e),e.nullish=()=>rt(ri(e)),e.nonoptional=t=>rd(e,t),e.array=()=>tC(e),e.or=t=>tM([e,t]),e.and=t=>tW(e,t),e.transform=t=>rv(e,t7(t)),e.default=t=>rs(e,t),e.prefault=t=>rl(e,t),e.catch=t=>rh(e,t),e.pipe=t=>rv(e,t),e.readonly=()=>rw(e),e.describe=t=>{let r=e.clone();return Z.globalRegistry.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>Z.globalRegistry.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return Z.globalRegistry.get(e);let r=e.clone();return Z.globalRegistry.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),em=P.$constructor("_ZodString",(e,t)=>{C.$ZodString.init(e,t),ep.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(z._regex(...t)),e.includes=(...t)=>e.check(z._includes(...t)),e.startsWith=(...t)=>e.check(z._startsWith(...t)),e.endsWith=(...t)=>e.check(z._endsWith(...t)),e.min=(...t)=>e.check(z._minLength(...t)),e.max=(...t)=>e.check(z._maxLength(...t)),e.length=(...t)=>e.check(z._length(...t)),e.nonempty=(...t)=>e.check(z._minLength(1,...t)),e.lowercase=t=>e.check(z._lowercase(t)),e.uppercase=t=>e.check(z._uppercase(t)),e.trim=()=>e.check(z._trim()),e.normalize=(...t)=>e.check(z._normalize(...t)),e.toLowerCase=()=>e.check(z._toLowerCase()),e.toUpperCase=()=>e.check(z._toUpperCase()),e.slugify=()=>e.check(z._slugify())}),eh=P.$constructor("ZodString",(e,t)=>{C.$ZodString.init(e,t),em.init(e,t),e.email=t=>e.check(z._email(e_,t)),e.url=t=>e.check(z._url(eS,t)),e.jwt=t=>e.check(z._jwt(e9,t)),e.emoji=t=>e.check(z._emoji(eT,t)),e.guid=t=>e.check(z._guid(ey,t)),e.uuid=t=>e.check(z._uuid(e$,t)),e.uuidv4=t=>e.check(z._uuidv4(e$,t)),e.uuidv6=t=>e.check(z._uuidv6(e$,t)),e.uuidv7=t=>e.check(z._uuidv7(e$,t)),e.nanoid=t=>e.check(z._nanoid(eN,t)),e.guid=t=>e.check(z._guid(ey,t)),e.cuid=t=>e.check(z._cuid(eP,t)),e.cuid2=t=>e.check(z._cuid2(eZ,t)),e.ulid=t=>e.check(z._ulid(eU,t)),e.base64=t=>e.check(z._base64(eQ,t)),e.base64url=t=>e.check(z._base64url(e1,t)),e.xid=t=>e.check(z._xid(eD,t)),e.ksuid=t=>e.check(z._ksuid(eM,t)),e.ipv4=t=>e.check(z._ipv4(eB,t)),e.ipv6=t=>e.check(z._ipv6(eG,t)),e.cidrv4=t=>e.check(z._cidrv4(eK,t)),e.cidrv6=t=>e.check(z._cidrv6(eX,t)),e.e164=t=>e.check(z._e164(e6,t)),e.datetime=t=>e.check(M(t)),e.date=t=>e.check(B(t)),e.time=t=>e.check(W(t)),e.duration=t=>e.check(G(t))});function ef(e){return z._string(eh,e)}let eg=P.$constructor("ZodStringFormat",(e,t)=>{C.$ZodStringFormat.init(e,t),em.init(e,t)}),e_=P.$constructor("ZodEmail",(e,t)=>{C.$ZodEmail.init(e,t),eg.init(e,t)});function ev(e){return z._email(e_,e)}let ey=P.$constructor("ZodGUID",(e,t)=>{C.$ZodGUID.init(e,t),eg.init(e,t)});function eb(e){return z._guid(ey,e)}let e$=P.$constructor("ZodUUID",(e,t)=>{C.$ZodUUID.init(e,t),eg.init(e,t)});function ew(e){return z._uuid(e$,e)}function ex(e){return z._uuidv4(e$,e)}function ek(e){return z._uuidv6(e$,e)}function eI(e){return z._uuidv7(e$,e)}let eS=P.$constructor("ZodURL",(e,t)=>{C.$ZodURL.init(e,t),eg.init(e,t)});function eO(e){return z._url(eS,e)}function eE(e){return z._url(eS,{protocol:/^https?$/,hostname:U.domain,...D.util.normalizeParams(e)})}let eT=P.$constructor("ZodEmoji",(e,t)=>{C.$ZodEmoji.init(e,t),eg.init(e,t)});function eA(e){return z._emoji(eT,e)}let eN=P.$constructor("ZodNanoID",(e,t)=>{C.$ZodNanoID.init(e,t),eg.init(e,t)});function ej(e){return z._nanoid(eN,e)}let eP=P.$constructor("ZodCUID",(e,t)=>{C.$ZodCUID.init(e,t),eg.init(e,t)});function eC(e){return z._cuid(eP,e)}let eZ=P.$constructor("ZodCUID2",(e,t)=>{C.$ZodCUID2.init(e,t),eg.init(e,t)});function ez(e){return z._cuid2(eZ,e)}let eU=P.$constructor("ZodULID",(e,t)=>{C.$ZodULID.init(e,t),eg.init(e,t)});function eR(e){return z._ulid(eU,e)}let eD=P.$constructor("ZodXID",(e,t)=>{C.$ZodXID.init(e,t),eg.init(e,t)});function eL(e){return z._xid(eD,e)}let eM=P.$constructor("ZodKSUID",(e,t)=>{C.$ZodKSUID.init(e,t),eg.init(e,t)});function eF(e){return z._ksuid(eM,e)}let eB=P.$constructor("ZodIPv4",(e,t)=>{C.$ZodIPv4.init(e,t),eg.init(e,t)});function eJ(e){return z._ipv4(eB,e)}let eW=P.$constructor("ZodMAC",(e,t)=>{C.$ZodMAC.init(e,t),eg.init(e,t)});function eV(e){return z._mac(eW,e)}let eG=P.$constructor("ZodIPv6",(e,t)=>{C.$ZodIPv6.init(e,t),eg.init(e,t)});function eq(e){return z._ipv6(eG,e)}let eK=P.$constructor("ZodCIDRv4",(e,t)=>{C.$ZodCIDRv4.init(e,t),eg.init(e,t)});function eH(e){return z._cidrv4(eK,e)}let eX=P.$constructor("ZodCIDRv6",(e,t)=>{C.$ZodCIDRv6.init(e,t),eg.init(e,t)});function eY(e){return z._cidrv6(eX,e)}let eQ=P.$constructor("ZodBase64",(e,t)=>{C.$ZodBase64.init(e,t),eg.init(e,t)});function e0(e){return z._base64(eQ,e)}let e1=P.$constructor("ZodBase64URL",(e,t)=>{C.$ZodBase64URL.init(e,t),eg.init(e,t)});function e4(e){return z._base64url(e1,e)}let e6=P.$constructor("ZodE164",(e,t)=>{C.$ZodE164.init(e,t),eg.init(e,t)});function e2(e){return z._e164(e6,e)}let e9=P.$constructor("ZodJWT",(e,t)=>{C.$ZodJWT.init(e,t),eg.init(e,t)});function e5(e){return z._jwt(e9,e)}let e3=P.$constructor("ZodCustomStringFormat",(e,t)=>{C.$ZodCustomStringFormat.init(e,t),eg.init(e,t)});function e8(e,t,r={}){return z._stringFormat(e3,e,t,r)}function e7(e){return z._stringFormat(e3,"hostname",U.hostname,e)}function te(e){return z._stringFormat(e3,"hex",U.hex,e)}function tt(e,t){let r=t?.enc??"hex",i=`${e}_${r}`,n=U[i];if(!n)throw Error(`Unrecognized hash format: ${i}`);return z._stringFormat(e3,i,n,t)}let tr=P.$constructor("ZodNumber",(e,t)=>{C.$ZodNumber.init(e,t),ep.init(e,t),e.gt=(t,r)=>e.check(z._gt(t,r)),e.gte=(t,r)=>e.check(z._gte(t,r)),e.min=(t,r)=>e.check(z._gte(t,r)),e.lt=(t,r)=>e.check(z._lt(t,r)),e.lte=(t,r)=>e.check(z._lte(t,r)),e.max=(t,r)=>e.check(z._lte(t,r)),e.int=t=>e.check(ta(t)),e.safe=t=>e.check(ta(t)),e.positive=t=>e.check(z._gt(0,t)),e.nonnegative=t=>e.check(z._gte(0,t)),e.negative=t=>e.check(z._lt(0,t)),e.nonpositive=t=>e.check(z._lte(0,t)),e.multipleOf=(t,r)=>e.check(z._multipleOf(t,r)),e.step=(t,r)=>e.check(z._multipleOf(t,r)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??-1/0,r.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(r.maximum??1/0,r.exclusiveMaximum??1/0)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function ti(e){return z._number(tr,e)}let tn=P.$constructor("ZodNumberFormat",(e,t)=>{C.$ZodNumberFormat.init(e,t),tr.init(e,t)});function ta(e){return z._int(tn,e)}function ts(e){return z._float32(tn,e)}function to(e){return z._float64(tn,e)}function tl(e){return z._int32(tn,e)}function tu(e){return z._uint32(tn,e)}let td=P.$constructor("ZodBoolean",(e,t)=>{C.$ZodBoolean.init(e,t),ep.init(e,t)});function tc(e){return z._boolean(td,e)}let tp=P.$constructor("ZodBigInt",(e,t)=>{C.$ZodBigInt.init(e,t),ep.init(e,t),e.gte=(t,r)=>e.check(z._gte(t,r)),e.min=(t,r)=>e.check(z._gte(t,r)),e.gt=(t,r)=>e.check(z._gt(t,r)),e.gte=(t,r)=>e.check(z._gte(t,r)),e.min=(t,r)=>e.check(z._gte(t,r)),e.lt=(t,r)=>e.check(z._lt(t,r)),e.lte=(t,r)=>e.check(z._lte(t,r)),e.max=(t,r)=>e.check(z._lte(t,r)),e.positive=t=>e.check(z._gt(BigInt(0),t)),e.negative=t=>e.check(z._lt(BigInt(0),t)),e.nonpositive=t=>e.check(z._lte(BigInt(0),t)),e.nonnegative=t=>e.check(z._gte(BigInt(0),t)),e.multipleOf=(t,r)=>e.check(z._multipleOf(t,r));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function tm(e){return z._bigint(tp,e)}let th=P.$constructor("ZodBigIntFormat",(e,t)=>{C.$ZodBigIntFormat.init(e,t),tp.init(e,t)});function tf(e){return z._int64(th,e)}function tg(e){return z._uint64(th,e)}let t_=P.$constructor("ZodSymbol",(e,t)=>{C.$ZodSymbol.init(e,t),ep.init(e,t)});function tv(e){return z._symbol(t_,e)}let ty=P.$constructor("ZodUndefined",(e,t)=>{C.$ZodUndefined.init(e,t),ep.init(e,t)});function tb(e){return z._undefined(ty,e)}let t$=P.$constructor("ZodNull",(e,t)=>{C.$ZodNull.init(e,t),ep.init(e,t)});function tw(e){return z._null(t$,e)}let tx=P.$constructor("ZodAny",(e,t)=>{C.$ZodAny.init(e,t),ep.init(e,t)});function tk(){return z._any(tx)}let tI=P.$constructor("ZodUnknown",(e,t)=>{C.$ZodUnknown.init(e,t),ep.init(e,t)});function tS(){return z._unknown(tI)}let tO=P.$constructor("ZodNever",(e,t)=>{C.$ZodNever.init(e,t),ep.init(e,t)});function tE(e){return z._never(tO,e)}let tT=P.$constructor("ZodVoid",(e,t)=>{C.$ZodVoid.init(e,t),ep.init(e,t)});function tA(e){return z._void(tT,e)}let tN=P.$constructor("ZodDate",(e,t)=>{C.$ZodDate.init(e,t),ep.init(e,t),e.min=(t,r)=>e.check(z._gte(t,r)),e.max=(t,r)=>e.check(z._lte(t,r));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function tj(e){return z._date(tN,e)}let tP=P.$constructor("ZodArray",(e,t)=>{C.$ZodArray.init(e,t),ep.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(z._minLength(t,r)),e.nonempty=t=>e.check(z._minLength(1,t)),e.max=(t,r)=>e.check(z._maxLength(t,r)),e.length=(t,r)=>e.check(z._length(t,r)),e.unwrap=()=>e.element});function tC(e,t){return z._array(tP,e,t)}function tZ(e){return t4(Object.keys(e._zod.def.shape))}let tz=P.$constructor("ZodObject",(e,t)=>{C.$ZodObjectJIT.init(e,t),ep.init(e,t),D.util.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>t4(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:tS()}),e.loose=()=>e.clone({...e._zod.def,catchall:tS()}),e.strict=()=>e.clone({...e._zod.def,catchall:tE()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>D.util.extend(e,t),e.safeExtend=t=>D.util.safeExtend(e,t),e.merge=t=>D.util.merge(e,t),e.pick=t=>D.util.pick(e,t),e.omit=t=>D.util.omit(e,t),e.partial=(...t)=>D.util.partial(re,e,t[0]),e.required=(...t)=>D.util.required(ru,e,t[0])});function tU(e,t){return new tz({type:"object",shape:e??{},...D.util.normalizeParams(t)})}function tR(e,t){return new tz({type:"object",shape:e,catchall:tE(),...D.util.normalizeParams(t)})}function tD(e,t){return new tz({type:"object",shape:e,catchall:tS(),...D.util.normalizeParams(t)})}let tL=P.$constructor("ZodUnion",(e,t)=>{C.$ZodUnion.init(e,t),ep.init(e,t),e.options=t.options});function tM(e,t){return new tL({type:"union",options:e,...D.util.normalizeParams(t)})}let tF=P.$constructor("ZodDiscriminatedUnion",(e,t)=>{tL.init(e,t),C.$ZodDiscriminatedUnion.init(e,t)});function tB(e,t,r){return new tF({type:"union",options:t,discriminator:e,...D.util.normalizeParams(r)})}let tJ=P.$constructor("ZodIntersection",(e,t)=>{C.$ZodIntersection.init(e,t),ep.init(e,t)});function tW(e,t){return new tJ({type:"intersection",left:e,right:t})}let tV=P.$constructor("ZodTuple",(e,t)=>{C.$ZodTuple.init(e,t),ep.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})});function tG(e,t,r){let i=t instanceof C.$ZodType,n=i?r:t;return new tV({type:"tuple",items:e,rest:i?t:null,...D.util.normalizeParams(n)})}let tq=P.$constructor("ZodRecord",(e,t)=>{C.$ZodRecord.init(e,t),ep.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function tK(e,t,r){return new tq({type:"record",keyType:e,valueType:t,...D.util.normalizeParams(r)})}function tH(e,t,r){let i=C.clone(e);return i._zod.values=void 0,new tq({type:"record",keyType:i,valueType:t,...D.util.normalizeParams(r)})}let tX=P.$constructor("ZodMap",(e,t)=>{C.$ZodMap.init(e,t),ep.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function tY(e,t,r){return new tX({type:"map",keyType:e,valueType:t,...D.util.normalizeParams(r)})}let tQ=P.$constructor("ZodSet",(e,t)=>{C.$ZodSet.init(e,t),ep.init(e,t),e.min=(...t)=>e.check(z._minSize(...t)),e.nonempty=t=>e.check(z._minSize(1,t)),e.max=(...t)=>e.check(z._maxSize(...t)),e.size=(...t)=>e.check(z._size(...t))});function t0(e,t){return new tQ({type:"set",valueType:e,...D.util.normalizeParams(t)})}let t1=P.$constructor("ZodEnum",(e,t)=>{C.$ZodEnum.init(e,t),ep.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,i)=>{let n={};for(let i of e)if(r.has(i))n[i]=t.entries[i];else throw Error(`Key ${i} not found in enum`);return new t1({...t,checks:[],...D.util.normalizeParams(i),entries:n})},e.exclude=(e,i)=>{let n={...t.entries};for(let t of e)if(r.has(t))delete n[t];else throw Error(`Key ${t} not found in enum`);return new t1({...t,checks:[],...D.util.normalizeParams(i),entries:n})}});function t4(e,t){return new t1({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...D.util.normalizeParams(t)})}function t6(e,t){return new t1({type:"enum",entries:e,...D.util.normalizeParams(t)})}let t2=P.$constructor("ZodLiteral",(e,t)=>{C.$ZodLiteral.init(e,t),ep.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function t9(e,t){return new t2({type:"literal",values:Array.isArray(e)?e:[e],...D.util.normalizeParams(t)})}let t5=P.$constructor("ZodFile",(e,t)=>{C.$ZodFile.init(e,t),ep.init(e,t),e.min=(t,r)=>e.check(z._minSize(t,r)),e.max=(t,r)=>e.check(z._maxSize(t,r)),e.mime=(t,r)=>e.check(z._mime(Array.isArray(t)?t:[t],r))});function t3(e){return z._file(t5,e)}let t8=P.$constructor("ZodTransform",(e,t)=>{C.$ZodTransform.init(e,t),ep.init(e,t),e._zod.parse=(r,i)=>{if("backward"===i.direction)throw new P.$ZodEncodeError(e.constructor.name);r.addIssue=i=>{"string"==typeof i?r.issues.push(D.util.issue(i,r.value,t)):(i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(D.util.issue(i)))};let n=t.transform(r.value,r);return n instanceof Promise?n.then(e=>(r.value=e,r)):(r.value=n,r)}});function t7(e){return new t8({type:"transform",transform:e})}let re=P.$constructor("ZodOptional",(e,t)=>{C.$ZodOptional.init(e,t),ep.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rt(e){return new re({type:"optional",innerType:e})}let rr=P.$constructor("ZodNullable",(e,t)=>{C.$ZodNullable.init(e,t),ep.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ri(e){return new rr({type:"nullable",innerType:e})}function rn(e){return rt(ri(e))}let ra=P.$constructor("ZodDefault",(e,t)=>{C.$ZodDefault.init(e,t),ep.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function rs(e,t){return new ra({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():D.util.shallowClone(t)}})}let ro=P.$constructor("ZodPrefault",(e,t)=>{C.$ZodPrefault.init(e,t),ep.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rl(e,t){return new ro({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():D.util.shallowClone(t)}})}let ru=P.$constructor("ZodNonOptional",(e,t)=>{C.$ZodNonOptional.init(e,t),ep.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rd(e,t){return new ru({type:"nonoptional",innerType:e,...D.util.normalizeParams(t)})}let rc=P.$constructor("ZodSuccess",(e,t)=>{C.$ZodSuccess.init(e,t),ep.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rp(e){return new rc({type:"success",innerType:e})}let rm=P.$constructor("ZodCatch",(e,t)=>{C.$ZodCatch.init(e,t),ep.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function rh(e,t){return new rm({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}let rf=P.$constructor("ZodNaN",(e,t)=>{C.$ZodNaN.init(e,t),ep.init(e,t)});function rg(e){return z._nan(rf,e)}let r_=P.$constructor("ZodPipe",(e,t)=>{C.$ZodPipe.init(e,t),ep.init(e,t),e.in=t.in,e.out=t.out});function rv(e,t){return new r_({type:"pipe",in:e,out:t})}let ry=P.$constructor("ZodCodec",(e,t)=>{r_.init(e,t),C.$ZodCodec.init(e,t)});function rb(e,t,r){return new ry({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}let r$=P.$constructor("ZodReadonly",(e,t)=>{C.$ZodReadonly.init(e,t),ep.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rw(e){return new r$({type:"readonly",innerType:e})}let rx=P.$constructor("ZodTemplateLiteral",(e,t)=>{C.$ZodTemplateLiteral.init(e,t),ep.init(e,t)});function rk(e,t){return new rx({type:"template_literal",parts:e,...D.util.normalizeParams(t)})}let rI=P.$constructor("ZodLazy",(e,t)=>{C.$ZodLazy.init(e,t),ep.init(e,t),e.unwrap=()=>e._zod.def.getter()});function rS(e){return new rI({type:"lazy",getter:e})}let rO=P.$constructor("ZodPromise",(e,t)=>{C.$ZodPromise.init(e,t),ep.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rE(e){return new rO({type:"promise",innerType:e})}let rT=P.$constructor("ZodFunction",(e,t)=>{C.$ZodFunction.init(e,t),ep.init(e,t)});function rA(e){return new rT({type:"function",input:Array.isArray(e?.input)?tG(e?.input):e?.input??tC(tS()),output:e?.output??tS()})}let rN=P.$constructor("ZodCustom",(e,t)=>{C.$ZodCustom.init(e,t),ep.init(e,t)});function rj(e){let t=new R.$ZodCheck({check:"custom"});return t._zod.check=e,t}function rP(e,t){return z._custom(rN,e??(()=>!0),t)}function rC(e,t={}){return z._refine(rN,e,t)}function rZ(e){return z._superRefine(e)}let rz=z.describe,rU=z.meta;function rR(e,t={error:`Input not instance of ${e.name}`}){let r=new rN({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...D.util.normalizeParams(t)});return r._zod.bag.Class=e,r}let rD=(...e)=>z._stringbool({Codec:ry,Boolean:td,String:eh},...e);function rL(e){let t=rS(()=>tM([ef(e),ti(),tc(),tw(),tC(t),tK(ef(),t)]));return t}function rM(e,t){return rv(t7(e),t)}let rF={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function rB(e){P.config({customError:e})}function rJ(){return P.config().customError}t||(t={}),e.s(["ZodFirstPartyTypeKind",()=>t,"ZodIssueCode",0,rF,"getErrorMap",()=>rJ,"setErrorMap",()=>rB],143038);var rW=e.i(344249);function rV(e){return z._coercedString(eh,e)}function rG(e){return z._coercedNumber(tr,e)}function rq(e){return z._coercedBoolean(td,e)}function rK(e){return z._coercedBigint(tp,e)}function rH(e){return z._coercedDate(tN,e)}e.i(504954),e.s(["bigint",()=>rK,"boolean",()=>rq,"date",()=>rH,"number",()=>rG,"string",()=>rV],156995),(0,P.config)((0,rW.default)()),e.s([],929542),e.i(929542);var rX=e.i(433651),rY=U,rQ=e.i(326176),r0=e.i(335433),r1=e.i(764752),r4=e.i(249174),r6=e.i(866753),r2=e.i(701952),r9=e.i(868576),r5=e.i(947997),r3=e.i(384795),r8=e.i(20140),r7=e.i(819548),ie=e.i(59393),it=e.i(194e3),ir=e.i(598743),ii=e.i(666815),ia=e.i(235897),is=e.i(71972),io=e.i(692856),il=e.i(800137),iu=e.i(746386),id=e.i(352447),ic=e.i(434591),ip=e.i(688078),im=e.i(962468),ih=e.i(832057),ig=e.i(13791),i_=e.i(312231),iv=e.i(256609),iy=e.i(268840),ib=e.i(940470),i$=e.i(504501),iw=e.i(151565),ix=e.i(386614),ik=e.i(921462),iI=e.i(329828),iS=e.i(597656),iO=e.i(801615),iE=e.i(279861),iT=e.i(975315),iA=e.i(832534),iN=e.i(756278),ij=e.i(319505),iP=e.i(704902),iC=e.i(519344),iZ=e.i(588428),iz=e.i(797008);e.s(["ar",()=>rQ.default,"az",()=>r0.default,"be",()=>r1.default,"bg",()=>r4.default,"ca",()=>r6.default,"cs",()=>r2.default,"da",()=>r9.default,"de",()=>r5.default,"en",()=>rW.default,"eo",()=>r3.default,"es",()=>r8.default,"fa",()=>r7.default,"fi",()=>ie.default,"fr",()=>it.default,"frCA",()=>ir.default,"he",()=>ii.default,"hu",()=>ia.default,"id",()=>is.default,"is",()=>io.default,"it",()=>il.default,"ja",()=>iu.default,"ka",()=>id.default,"kh",()=>ic.default,"km",()=>ip.default,"ko",()=>im.default,"lt",()=>ih.default,"mk",()=>ig.default,"ms",()=>i_.default,"nl",()=>iv.default,"no",()=>iy.default,"ota",()=>ib.default,"pl",()=>iw.default,"ps",()=>i$.default,"pt",()=>ix.default,"ru",()=>ik.default,"sl",()=>iI.default,"sv",()=>iS.default,"ta",()=>iO.default,"th",()=>iE.default,"tr",()=>iT.default,"ua",()=>iA.default,"uk",()=>iN.default,"ur",()=>ij.default,"vi",()=>iP.default,"yo",()=>iz.default,"zhCN",()=>iC.default,"zhTW",()=>iZ.default],872878);var iU=e.i(872878),iR=e.i(784327),iD=e.i(123035),iL=e.i(500028);e.s(["$ZodAny",()=>C.$ZodAny,"$ZodArray",()=>C.$ZodArray,"$ZodAsyncError",()=>P.$ZodAsyncError,"$ZodBase64",()=>C.$ZodBase64,"$ZodBase64URL",()=>C.$ZodBase64URL,"$ZodBigInt",()=>C.$ZodBigInt,"$ZodBigIntFormat",()=>C.$ZodBigIntFormat,"$ZodBoolean",()=>C.$ZodBoolean,"$ZodCIDRv4",()=>C.$ZodCIDRv4,"$ZodCIDRv6",()=>C.$ZodCIDRv6,"$ZodCUID",()=>C.$ZodCUID,"$ZodCUID2",()=>C.$ZodCUID2,"$ZodCatch",()=>C.$ZodCatch,"$ZodCheck",()=>R.$ZodCheck,"$ZodCheckBigIntFormat",()=>R.$ZodCheckBigIntFormat,"$ZodCheckEndsWith",()=>R.$ZodCheckEndsWith,"$ZodCheckGreaterThan",()=>R.$ZodCheckGreaterThan,"$ZodCheckIncludes",()=>R.$ZodCheckIncludes,"$ZodCheckLengthEquals",()=>R.$ZodCheckLengthEquals,"$ZodCheckLessThan",()=>R.$ZodCheckLessThan,"$ZodCheckLowerCase",()=>R.$ZodCheckLowerCase,"$ZodCheckMaxLength",()=>R.$ZodCheckMaxLength,"$ZodCheckMaxSize",()=>R.$ZodCheckMaxSize,"$ZodCheckMimeType",()=>R.$ZodCheckMimeType,"$ZodCheckMinLength",()=>R.$ZodCheckMinLength,"$ZodCheckMinSize",()=>R.$ZodCheckMinSize,"$ZodCheckMultipleOf",()=>R.$ZodCheckMultipleOf,"$ZodCheckNumberFormat",()=>R.$ZodCheckNumberFormat,"$ZodCheckOverwrite",()=>R.$ZodCheckOverwrite,"$ZodCheckProperty",()=>R.$ZodCheckProperty,"$ZodCheckRegex",()=>R.$ZodCheckRegex,"$ZodCheckSizeEquals",()=>R.$ZodCheckSizeEquals,"$ZodCheckStartsWith",()=>R.$ZodCheckStartsWith,"$ZodCheckStringFormat",()=>R.$ZodCheckStringFormat,"$ZodCheckUpperCase",()=>R.$ZodCheckUpperCase,"$ZodCodec",()=>C.$ZodCodec,"$ZodCustom",()=>C.$ZodCustom,"$ZodCustomStringFormat",()=>C.$ZodCustomStringFormat,"$ZodDate",()=>C.$ZodDate,"$ZodDefault",()=>C.$ZodDefault,"$ZodDiscriminatedUnion",()=>C.$ZodDiscriminatedUnion,"$ZodE164",()=>C.$ZodE164,"$ZodEmail",()=>C.$ZodEmail,"$ZodEmoji",()=>C.$ZodEmoji,"$ZodEncodeError",()=>P.$ZodEncodeError,"$ZodEnum",()=>C.$ZodEnum,"$ZodError",()=>K.$ZodError,"$ZodFile",()=>C.$ZodFile,"$ZodFunction",()=>C.$ZodFunction,"$ZodGUID",()=>C.$ZodGUID,"$ZodIPv4",()=>C.$ZodIPv4,"$ZodIPv6",()=>C.$ZodIPv6,"$ZodISODate",()=>C.$ZodISODate,"$ZodISODateTime",()=>C.$ZodISODateTime,"$ZodISODuration",()=>C.$ZodISODuration,"$ZodISOTime",()=>C.$ZodISOTime,"$ZodIntersection",()=>C.$ZodIntersection,"$ZodJWT",()=>C.$ZodJWT,"$ZodKSUID",()=>C.$ZodKSUID,"$ZodLazy",()=>C.$ZodLazy,"$ZodLiteral",()=>C.$ZodLiteral,"$ZodMAC",()=>C.$ZodMAC,"$ZodMap",()=>C.$ZodMap,"$ZodNaN",()=>C.$ZodNaN,"$ZodNanoID",()=>C.$ZodNanoID,"$ZodNever",()=>C.$ZodNever,"$ZodNonOptional",()=>C.$ZodNonOptional,"$ZodNull",()=>C.$ZodNull,"$ZodNullable",()=>C.$ZodNullable,"$ZodNumber",()=>C.$ZodNumber,"$ZodNumberFormat",()=>C.$ZodNumberFormat,"$ZodObject",()=>C.$ZodObject,"$ZodObjectJIT",()=>C.$ZodObjectJIT,"$ZodOptional",()=>C.$ZodOptional,"$ZodPipe",()=>C.$ZodPipe,"$ZodPrefault",()=>C.$ZodPrefault,"$ZodPromise",()=>C.$ZodPromise,"$ZodReadonly",()=>C.$ZodReadonly,"$ZodRealError",()=>K.$ZodRealError,"$ZodRecord",()=>C.$ZodRecord,"$ZodRegistry",()=>Z.$ZodRegistry,"$ZodSet",()=>C.$ZodSet,"$ZodString",()=>C.$ZodString,"$ZodStringFormat",()=>C.$ZodStringFormat,"$ZodSuccess",()=>C.$ZodSuccess,"$ZodSymbol",()=>C.$ZodSymbol,"$ZodTemplateLiteral",()=>C.$ZodTemplateLiteral,"$ZodTransform",()=>C.$ZodTransform,"$ZodTuple",()=>C.$ZodTuple,"$ZodType",()=>C.$ZodType,"$ZodULID",()=>C.$ZodULID,"$ZodURL",()=>C.$ZodURL,"$ZodUUID",()=>C.$ZodUUID,"$ZodUndefined",()=>C.$ZodUndefined,"$ZodUnion",()=>C.$ZodUnion,"$ZodUnknown",()=>C.$ZodUnknown,"$ZodVoid",()=>C.$ZodVoid,"$ZodXID",()=>C.$ZodXID,"$brand",()=>P.$brand,"$constructor",()=>P.$constructor,"$input",()=>Z.$input,"$output",()=>Z.$output,"Doc",()=>iR.Doc,"JSONSchema",0,iL,"JSONSchemaGenerator",()=>iD.JSONSchemaGenerator,"NEVER",()=>P.NEVER,"TimePrecision",()=>z.TimePrecision,"_any",()=>z._any,"_array",()=>z._array,"_base64",()=>z._base64,"_base64url",()=>z._base64url,"_bigint",()=>z._bigint,"_boolean",()=>z._boolean,"_catch",()=>z._catch,"_check",()=>z._check,"_cidrv4",()=>z._cidrv4,"_cidrv6",()=>z._cidrv6,"_coercedBigint",()=>z._coercedBigint,"_coercedBoolean",()=>z._coercedBoolean,"_coercedDate",()=>z._coercedDate,"_coercedNumber",()=>z._coercedNumber,"_coercedString",()=>z._coercedString,"_cuid",()=>z._cuid,"_cuid2",()=>z._cuid2,"_custom",()=>z._custom,"_date",()=>z._date,"_decode",()=>q._decode,"_decodeAsync",()=>q._decodeAsync,"_default",()=>z._default,"_discriminatedUnion",()=>z._discriminatedUnion,"_e164",()=>z._e164,"_email",()=>z._email,"_emoji",()=>z._emoji,"_encode",()=>q._encode,"_encodeAsync",()=>q._encodeAsync,"_endsWith",()=>z._endsWith,"_enum",()=>z._enum,"_file",()=>z._file,"_float32",()=>z._float32,"_float64",()=>z._float64,"_gt",()=>z._gt,"_gte",()=>z._gte,"_guid",()=>z._guid,"_includes",()=>z._includes,"_int",()=>z._int,"_int32",()=>z._int32,"_int64",()=>z._int64,"_intersection",()=>z._intersection,"_ipv4",()=>z._ipv4,"_ipv6",()=>z._ipv6,"_isoDate",()=>z._isoDate,"_isoDateTime",()=>z._isoDateTime,"_isoDuration",()=>z._isoDuration,"_isoTime",()=>z._isoTime,"_jwt",()=>z._jwt,"_ksuid",()=>z._ksuid,"_lazy",()=>z._lazy,"_length",()=>z._length,"_literal",()=>z._literal,"_lowercase",()=>z._lowercase,"_lt",()=>z._lt,"_lte",()=>z._lte,"_mac",()=>z._mac,"_map",()=>z._map,"_max",()=>z._max,"_maxLength",()=>z._maxLength,"_maxSize",()=>z._maxSize,"_mime",()=>z._mime,"_min",()=>z._min,"_minLength",()=>z._minLength,"_minSize",()=>z._minSize,"_multipleOf",()=>z._multipleOf,"_nan",()=>z._nan,"_nanoid",()=>z._nanoid,"_nativeEnum",()=>z._nativeEnum,"_negative",()=>z._negative,"_never",()=>z._never,"_nonnegative",()=>z._nonnegative,"_nonoptional",()=>z._nonoptional,"_nonpositive",()=>z._nonpositive,"_normalize",()=>z._normalize,"_null",()=>z._null,"_nullable",()=>z._nullable,"_number",()=>z._number,"_optional",()=>z._optional,"_overwrite",()=>z._overwrite,"_parse",()=>q._parse,"_parseAsync",()=>q._parseAsync,"_pipe",()=>z._pipe,"_positive",()=>z._positive,"_promise",()=>z._promise,"_property",()=>z._property,"_readonly",()=>z._readonly,"_record",()=>z._record,"_refine",()=>z._refine,"_regex",()=>z._regex,"_safeDecode",()=>q._safeDecode,"_safeDecodeAsync",()=>q._safeDecodeAsync,"_safeEncode",()=>q._safeEncode,"_safeEncodeAsync",()=>q._safeEncodeAsync,"_safeParse",()=>q._safeParse,"_safeParseAsync",()=>q._safeParseAsync,"_set",()=>z._set,"_size",()=>z._size,"_slugify",()=>z._slugify,"_startsWith",()=>z._startsWith,"_string",()=>z._string,"_stringFormat",()=>z._stringFormat,"_stringbool",()=>z._stringbool,"_success",()=>z._success,"_superRefine",()=>z._superRefine,"_symbol",()=>z._symbol,"_templateLiteral",()=>z._templateLiteral,"_toLowerCase",()=>z._toLowerCase,"_toUpperCase",()=>z._toUpperCase,"_transform",()=>z._transform,"_trim",()=>z._trim,"_tuple",()=>z._tuple,"_uint32",()=>z._uint32,"_uint64",()=>z._uint64,"_ulid",()=>z._ulid,"_undefined",()=>z._undefined,"_union",()=>z._union,"_unknown",()=>z._unknown,"_uppercase",()=>z._uppercase,"_url",()=>z._url,"_uuid",()=>z._uuid,"_uuidv4",()=>z._uuidv4,"_uuidv6",()=>z._uuidv6,"_uuidv7",()=>z._uuidv7,"_void",()=>z._void,"_xid",()=>z._xid,"clone",()=>C.clone,"config",()=>P.config,"decode",()=>q.decode,"decodeAsync",()=>q.decodeAsync,"describe",()=>z.describe,"encode",()=>q.encode,"encodeAsync",()=>q.encodeAsync,"flattenError",()=>K.flattenError,"formatError",()=>K.formatError,"globalConfig",()=>P.globalConfig,"globalRegistry",()=>Z.globalRegistry,"isValidBase64",()=>C.isValidBase64,"isValidBase64URL",()=>C.isValidBase64URL,"isValidJWT",()=>C.isValidJWT,"locales",0,iU,"meta",()=>z.meta,"parse",()=>q.parse,"parseAsync",()=>q.parseAsync,"prettifyError",()=>K.prettifyError,"regexes",0,rY,"registry",()=>Z.registry,"safeDecode",()=>q.safeDecode,"safeDecodeAsync",()=>q.safeDecodeAsync,"safeEncode",()=>q.safeEncode,"safeEncodeAsync",()=>q.safeEncodeAsync,"safeParse",()=>q.safeParse,"safeParseAsync",()=>q.safeParseAsync,"toDotPath",()=>K.toDotPath,"toJSONSchema",()=>iD.toJSONSchema,"treeifyError",()=>K.treeifyError,"util",0,H,"version",()=>rX.version],693726);var iM=e.i(693726);e.i(810521),e.i(339606),e.s(["endsWith",()=>z._endsWith,"gt",()=>z._gt,"gte",()=>z._gte,"includes",()=>z._includes,"length",()=>z._length,"lowercase",()=>z._lowercase,"lt",()=>z._lt,"lte",()=>z._lte,"maxLength",()=>z._maxLength,"maxSize",()=>z._maxSize,"mime",()=>z._mime,"minLength",()=>z._minLength,"minSize",()=>z._minSize,"multipleOf",()=>z._multipleOf,"negative",()=>z._negative,"nonnegative",()=>z._nonnegative,"nonpositive",()=>z._nonpositive,"normalize",()=>z._normalize,"overwrite",()=>z._overwrite,"positive",()=>z._positive,"property",()=>z._property,"regex",()=>z._regex,"size",()=>z._size,"slugify",()=>z._slugify,"startsWith",()=>z._startsWith,"toLowerCase",()=>z._toLowerCase,"toUpperCase",()=>z._toUpperCase,"trim",()=>z._trim,"uppercase",()=>z._uppercase],951494),e.i(951494),e.i(384673),e.i(166934),e.i(143038),e.s(["$brand",()=>P.$brand,"ZodFirstPartyTypeKind",()=>t,"ZodIssueCode",0,rF,"config",()=>P.config,"getErrorMap",()=>rJ,"setErrorMap",()=>rB],908003),e.i(908003);var U=U,iF=e.i(862292),iB=e.i(777081),iJ=e.i(156995);e.s(["$brand",()=>P.$brand,"$input",()=>Z.$input,"$output",()=>Z.$output,"NEVER",()=>P.NEVER,"TimePrecision",()=>iF.TimePrecision,"ZodAny",0,tx,"ZodArray",0,tP,"ZodBase64",0,eQ,"ZodBase64URL",0,e1,"ZodBigInt",0,tp,"ZodBigIntFormat",0,th,"ZodBoolean",0,td,"ZodCIDRv4",0,eK,"ZodCIDRv6",0,eX,"ZodCUID",0,eP,"ZodCUID2",0,eZ,"ZodCatch",0,rm,"ZodCodec",0,ry,"ZodCustom",0,rN,"ZodCustomStringFormat",0,e3,"ZodDate",0,tN,"ZodDefault",0,ra,"ZodDiscriminatedUnion",0,tF,"ZodE164",0,e6,"ZodEmail",0,e_,"ZodEmoji",0,eT,"ZodEnum",0,t1,"ZodError",0,Y,"ZodFile",0,t5,"ZodFirstPartyTypeKind",()=>t,"ZodFunction",0,rT,"ZodGUID",0,ey,"ZodIPv4",0,eB,"ZodIPv6",0,eG,"ZodISODate",0,F,"ZodISODateTime",0,L,"ZodISODuration",0,V,"ZodISOTime",0,J,"ZodIntersection",0,tJ,"ZodIssueCode",0,rF,"ZodJWT",0,e9,"ZodKSUID",0,eM,"ZodLazy",0,rI,"ZodLiteral",0,t2,"ZodMAC",0,eW,"ZodMap",0,tX,"ZodNaN",0,rf,"ZodNanoID",0,eN,"ZodNever",0,tO,"ZodNonOptional",0,ru,"ZodNull",0,t$,"ZodNullable",0,rr,"ZodNumber",0,tr,"ZodNumberFormat",0,tn,"ZodObject",0,tz,"ZodOptional",0,re,"ZodPipe",0,r_,"ZodPrefault",0,ro,"ZodPromise",0,rO,"ZodReadonly",0,r$,"ZodRealError",0,Q,"ZodRecord",0,tq,"ZodSet",0,tQ,"ZodString",0,eh,"ZodStringFormat",0,eg,"ZodSuccess",0,rc,"ZodSymbol",0,t_,"ZodTemplateLiteral",0,rx,"ZodTransform",0,t8,"ZodTuple",0,tV,"ZodType",0,ep,"ZodULID",0,eU,"ZodURL",0,eS,"ZodUUID",0,e$,"ZodUndefined",0,ty,"ZodUnion",0,tL,"ZodUnknown",0,tI,"ZodVoid",0,tT,"ZodXID",0,eD,"_ZodString",0,em,"_default",()=>rs,"_function",()=>rA,"any",()=>tk,"array",()=>tC,"base64",()=>e0,"base64url",()=>e4,"bigint",()=>tm,"boolean",()=>tc,"catch",()=>rh,"check",()=>rj,"cidrv4",()=>eH,"cidrv6",()=>eY,"clone",()=>C.clone,"codec",()=>rb,"coerce",0,iJ,"config",()=>P.config,"core",0,iM,"cuid",()=>eC,"cuid2",()=>ez,"custom",()=>rP,"date",()=>tj,"decode",0,ea,"decodeAsync",0,eo,"describe",0,rz,"discriminatedUnion",()=>tB,"e164",()=>e2,"email",()=>ev,"emoji",()=>eA,"encode",0,en,"encodeAsync",0,es,"endsWith",()=>z._endsWith,"enum",()=>t4,"file",()=>t3,"flattenError",()=>K.flattenError,"float32",()=>ts,"float64",()=>to,"formatError",()=>K.formatError,"function",()=>rA,"getErrorMap",()=>rJ,"globalRegistry",()=>Z.globalRegistry,"gt",()=>z._gt,"gte",()=>z._gte,"guid",()=>eb,"hash",()=>tt,"hex",()=>te,"hostname",()=>e7,"httpUrl",()=>eE,"includes",()=>z._includes,"instanceof",()=>rR,"int",()=>ta,"int32",()=>tl,"int64",()=>tf,"intersection",()=>tW,"ipv4",()=>eJ,"ipv6",()=>eq,"iso",0,iB,"json",()=>rL,"jwt",()=>e5,"keyof",()=>tZ,"ksuid",()=>eF,"lazy",()=>rS,"length",()=>z._length,"literal",()=>t9,"locales",0,iU,"looseObject",()=>tD,"lowercase",()=>z._lowercase,"lt",()=>z._lt,"lte",()=>z._lte,"mac",()=>eV,"map",()=>tY,"maxLength",()=>z._maxLength,"maxSize",()=>z._maxSize,"meta",0,rU,"mime",()=>z._mime,"minLength",()=>z._minLength,"minSize",()=>z._minSize,"multipleOf",()=>z._multipleOf,"nan",()=>rg,"nanoid",()=>ej,"nativeEnum",()=>t6,"negative",()=>z._negative,"never",()=>tE,"nonnegative",()=>z._nonnegative,"nonoptional",()=>rd,"nonpositive",()=>z._nonpositive,"normalize",()=>z._normalize,"null",()=>tw,"nullable",()=>ri,"nullish",()=>rn,"number",()=>ti,"object",()=>tU,"optional",()=>rt,"overwrite",()=>z._overwrite,"parse",0,ee,"parseAsync",0,et,"partialRecord",()=>tH,"pipe",()=>rv,"positive",()=>z._positive,"prefault",()=>rl,"preprocess",()=>rM,"prettifyError",()=>K.prettifyError,"promise",()=>rE,"property",()=>z._property,"readonly",()=>rw,"record",()=>tK,"refine",()=>rC,"regex",()=>z._regex,"regexes",()=>U,"registry",()=>Z.registry,"safeDecode",0,eu,"safeDecodeAsync",0,ec,"safeEncode",0,el,"safeEncodeAsync",0,ed,"safeParse",0,er,"safeParseAsync",0,ei,"set",()=>t0,"setErrorMap",()=>rB,"size",()=>z._size,"slugify",()=>z._slugify,"startsWith",()=>z._startsWith,"strictObject",()=>tR,"string",()=>ef,"stringFormat",()=>e8,"stringbool",0,rD,"success",()=>rp,"superRefine",()=>rZ,"symbol",()=>tv,"templateLiteral",()=>rk,"toJSONSchema",()=>iD.toJSONSchema,"toLowerCase",()=>z._toLowerCase,"toUpperCase",()=>z._toUpperCase,"transform",()=>t7,"treeifyError",()=>K.treeifyError,"trim",()=>z._trim,"tuple",()=>tG,"uint32",()=>tu,"uint64",()=>tg,"ulid",()=>eR,"undefined",()=>tb,"union",()=>tM,"unknown",()=>tS,"uppercase",()=>z._uppercase,"url",()=>eO,"util",()=>D.util,"uuid",()=>ew,"uuidv4",()=>ex,"uuidv6",()=>ek,"uuidv7",()=>eI,"void",()=>tA,"xid",()=>eL],374168);var iW=e.i(374168);e.s(["default",0,iW],322704),e.i(322704);(0,c.__export)({},{BaseToolkit:()=>iH,DynamicStructuredTool:()=>iK,DynamicTool:()=>iq,StructuredTool:()=>iV,Tool:()=>iG,ToolInputParsingException:()=>x.ToolInputParsingException,isLangChainTool:()=>A.isLangChainTool,isRunnableToolLike:()=>A.isRunnableToolLike,isStructuredTool:()=>A.isStructuredTool,isStructuredToolParams:()=>A.isStructuredToolParams,tool:()=>iX});var iV=class extends T.BaseLangChain{returnDirect=!1;verboseParsingErrors=!1;get lc_namespace(){return["langchain","tools"]}responseFormat="content";defaultConfig;constructor(e){super(e??{}),this.verboseParsingErrors=e?.verboseParsingErrors??this.verboseParsingErrors,this.responseFormat=e?.responseFormat??this.responseFormat,this.defaultConfig=e?.defaultConfig??this.defaultConfig,this.metadata=e?.metadata??this.metadata}async invoke(e,t){let r,i=(0,I.ensureConfig)((0,I.mergeConfigs)(this.defaultConfig,t));return(0,x._isToolCall)(e)?(r=e.args,i={...i,toolCall:e}):r=e,this.call(r,i)}async call(e,t,r){let i,n,a,s,o,l=(0,x._isToolCall)(e)?e.args:e;if((0,O.isInteropZodSchema)(this.schema))try{i=await (0,O.interopParseAsync)(this.schema,l)}catch(r){let t="Received tool input did not match expected schema";throw this.verboseParsingErrors&&(t=`${t}
Details: ${r.message}`),(0,O.isInteropZodError)(r)&&(t=`${t}

${iW.prettifyError(r)}`),new x.ToolInputParsingException(t,JSON.stringify(e))}else{let t=(0,j.validate)(l,this.schema);if(!t.valid){let r="Received tool input did not match expected schema";throw this.verboseParsingErrors&&(r=`${r}
Details: ${t.errors.map(e=>`${e.keywordLocation}: ${e.error}`).join("\n")}`),new x.ToolInputParsingException(r,JSON.stringify(e))}i=l}let u=(0,m.parseCallbackConfigArg)(t),d=m.CallbackManager.configure(u.callbacks,this.callbacks,u.tags||r,this.tags,u.metadata,this.metadata,{verbose:this.verbose}),c=await d?.handleToolStart(this.toJSON(),"string"==typeof e?e:JSON.stringify(e),u.runId,void 0,void 0,void 0,u.runName);delete u.runId;try{n=await this._call(i,c,u)}catch(e){throw await c?.handleToolError(e),e}if("content_and_artifact"===this.responseFormat)if(Array.isArray(n)&&2===n.length)[a,s]=n;else throw Error(`Tool response format is "content_and_artifact" but the output was not a two-tuple.
Result: ${JSON.stringify(n)}`);else a=n;(0,x._isToolCall)(e)&&(o=e.id),!o&&(0,x._configHasToolCallId)(u)&&(o=u.toolCall.id);let p=function(e){let{content:t,artifact:r,toolCallId:i,metadata:n}=e;return!i||(0,w.isDirectToolOutput)(t)?t:new w.ToolMessage("string"==typeof t||Array.isArray(t)&&t.every(e=>"object"==typeof e)?{status:"success",content:t,artifact:r,tool_call_id:i,name:e.name,metadata:n}:{status:"success",content:function(e){try{return JSON.stringify(e,null,2)??""}catch(t){return`${e}`}}(t),artifact:r,tool_call_id:i,name:e.name,metadata:n})}({content:a,artifact:s,toolCallId:o,name:this.name,metadata:this.metadata});return await c?.handleToolEnd(p),p}},iG=class extends iV{schema=N.z.object({input:N.z.string().optional()}).transform(e=>e.input);constructor(e){super(e)}call(e,t){return super.call("string"==typeof e||null==e?{input:e}:e,t)}},iq=class extends iG{static lc_name(){return"DynamicTool"}name;description;func;constructor(e){super(e),this.name=e.name,this.description=e.description,this.func=e.func,this.returnDirect=e.returnDirect??this.returnDirect}async call(e,t){let r=(0,m.parseCallbackConfigArg)(t);return void 0===r.runName&&(r.runName=this.name),super.call(e,r)}async _call(e,t,r){return this.func(e,t,r)}},iK=class extends iV{static lc_name(){return"DynamicStructuredTool"}name;description;func;schema;constructor(e){super(e),this.name=e.name,this.description=e.description,this.func=e.func,this.returnDirect=e.returnDirect??this.returnDirect,this.schema=e.schema}async call(e,t,r){let i=(0,m.parseCallbackConfigArg)(t);return void 0===i.runName&&(i.runName=this.name),super.call(e,i,r)}_call(e,t,r){return this.func(e,t,r)}},iH=class{getTools(){return this.tools}};function iX(e,t){let r=(0,O.isSimpleStringZodSchema)(t.schema),i=(0,E.validatesOnlyStrings)(t.schema);if(!t.schema||r||i)return new iq({...t,description:t.description??t.schema?.description??`${t.name} tool`,func:async(t,r,i)=>new Promise((n,a)=>{let s=(0,I.patchConfig)(i,{callbacks:r?.getChild()});k.AsyncLocalStorageProviderSingleton.runWithConfig((0,I.pickRunnableConfigKeys)(s),async()=>{try{n(e(t,s))}catch(e){a(e)}})})});let n=t.schema,a=t.description??t.schema.description??`${t.name} tool`;return new iK({...t,description:a,schema:n,func:async(t,r,i)=>new Promise((n,a)=>{let s,o=()=>{i?.signal&&s&&i.signal.removeEventListener("abort",s)};i?.signal&&(s=()=>{o(),a((0,S.getAbortSignalError)(i.signal))},i.signal.addEventListener("abort",s));let l=(0,I.patchConfig)(i,{callbacks:r?.getChild()});k.AsyncLocalStorageProviderSingleton.runWithConfig((0,I.pickRunnableConfigKeys)(l),async()=>{try{let r=await e(t,l);if(i?.signal?.aborted)return void o();o(),n(r)}catch(e){o(),a(e)}})})})}e.i(842713),e.i(732060),e.s([],152914)},517903,e=>{"use strict";e.i(152914);let t=new(e.i(437871)).OpenAIEmbeddings({modelName:"text-embedding-3-small",openAIApiKey:process.env.OPENAI_API_KEY});async function r(e){return await t.embedQuery(e)}async function i(e){return await t.embedDocuments(e)}e.s(["embedText",()=>r,"embedTexts",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8acf68d5._.js.map